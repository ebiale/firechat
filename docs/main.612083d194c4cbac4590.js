(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("D57K"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("x7I3"),c=n("S+S0"),l=new s.Logger("@firebase/firestore");function h(){return l.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.DEBUG){var r=e.map(g);l.debug.apply(l,i.__spreadArrays(["Firestore (7.18.0): "+t],r))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=e.map(g);l.error.apply(l,i.__spreadArrays(["Firestore (7.18.0): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.WARN){var r=e.map(g);l.warn.apply(l,i.__spreadArrays(["Firestore (7.18.0): "+t],r))}}function g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.18.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function v(t,e){t||y()}function m(t,e){return t}function w(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=w(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function b(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function I(t){return t+"\0"}var C=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},S=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return b(this.projectId,t.projectId)||b(this.database,t.database)},t}();function T(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function A(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var O=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.u(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){A(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype._=function(){return x(this.l)},t}(),N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),D=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new k(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new k(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new k(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new k(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?b(this.nanoseconds,t.nanoseconds):b(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),P=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new D(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),R=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return this.V(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new k(N.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(R),L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return L.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new k(N.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new k(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new k(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new k(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(R),M=function(){function t(t){this.path=t}return t.B=function(e){return new t(V.k(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===V.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return V.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new V(e.slice()))},t}();function U(t){return null==t}function F(t){return-0===t&&1/t==-1/0}function q(t){return"number"==typeof t&&Number.isInteger(t)&&!F(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var B=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null};function G(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new B(t,e,n,r,i,o,s)}function H(t){var e=m(t);if(null===e.K){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+Vt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),U(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Dn(e.startAt)),e.endAt&&(n+="|ub:",n+=Dn(e.endAt)),e.K=n}return e.K}function z(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!jn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!kt(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rn(t.startAt,e.startAt)&&Rn(t.endAt,e.endAt)}function $(t){return M.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var W=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.G)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return b(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();W.Y=new W("");var K,X,Q=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=P.min()),void 0===o&&(o=P.min()),void 0===s&&(s=W.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),Y=function(t){this.count=t};function Z(t){switch(t){case N.OK:return y();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return y()}}function J(t){if(void 0===t)return d("GRPC error has no .code"),N.UNKNOWN;switch(t){case K.OK:return N.OK;case K.CANCELLED:return N.CANCELLED;case K.UNKNOWN:return N.UNKNOWN;case K.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case K.INTERNAL:return N.INTERNAL;case K.UNAVAILABLE:return N.UNAVAILABLE;case K.UNAUTHENTICATED:return N.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case K.NOT_FOUND:return N.NOT_FOUND;case K.ALREADY_EXISTS:return N.ALREADY_EXISTS;case K.PERMISSION_DENIED:return N.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case K.ABORTED:return N.ABORTED;case K.OUT_OF_RANGE:return N.OUT_OF_RANGE;case K.UNIMPLEMENTED:return N.UNIMPLEMENTED;case K.DATA_LOSS:return N.DATA_LOSS;default:return y()}}(X=K||(K={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,nt.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new et(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new et(this.root,t,this.P,!1)},t.prototype.ct=function(){return new et(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},t.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw y();if(this.right.At())throw y();var t=this.left.bt();if(t!==this.right.bt())throw y();return t+(this.At()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.st=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());var rt=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new it(this.data.at())},t.prototype.ut=function(t){return new it(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),it=function(){function t(t){this.Nt=t}return t.prototype.dt=function(){return this.Nt.dt().key},t.prototype.wt=function(){return this.Nt.wt()},t}(),ot=new tt(M.P);function st(){return ot}function at(){return st()}var ut=new tt(M.P);function ct(){return ut}var lt=new tt(M.P),ht=new rt(M.P);function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var dt=new rt(b);function pt(){return dt}var gt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||M.P(e.key,n.key)}:function(t,e){return M.P(t.key,e.key)},this.Ft=ct(),this.kt=new tt(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Ft.get(t)},t.prototype.get=function(t){return this.Ft.get(t)},t.prototype.first=function(){return this.kt.it()},t.prototype.last=function(){return this.kt.rt()},t.prototype._=function(){return this.kt._()},t.prototype.indexOf=function(t){var e=this.Ft.get(t);return e?this.kt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.kt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.kt.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ft.nt(t.key,t),e.kt.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ft.remove(t),this.kt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.kt.at(),r=e.kt.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.Ft=e,r.kt=n,r},t}(),yt=function(){function t(){this.$t=new tt(M.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.$t.get(e);n?0!==t.type&&3===n.type?this.$t=this.$t.nt(e,t):3===t.type&&1!==n.type?this.$t=this.$t.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.$t=this.$t.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.$t=this.$t.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.$t=this.$t.remove(e):1===t.type&&2===n.type?this.$t=this.$t.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.$t=this.$t.nt(e,{type:2,doc:t.doc}):y():this.$t=this.$t.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.$t.ot((function(e,n){t.push(n)})),t},t}(),vt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.qt=s,this.Bt=a}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,gt.xt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.qt===t.qt&&this.Lt.isEqual(t.Lt)&&vn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),mt=function(){function t(t,e,n,r,i){this.X=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,wt.zt(e,n)),new t(P.min(),r,pt(),st(),ft())},t}(),wt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(W.Y,n,ft(),ft(),ft())},t}(),_t=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},bt=function(t,e){this.targetId=t,this.ee=e},Et=function(t,e,n,r){void 0===n&&(n=W.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},It=function(){function t(){this.ne=0,this.se=Tt(),this.ie=W.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=ft(),e=ft(),n=ft();return this.se.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y()}})),new wt(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=Tt()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Ct=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=st(),this.Ae=St(),this.Re=new rt(b)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof rn?this.Ve(r,t.te):t.te instanceof on&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.ge(o[i],t.key,t.te)},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:y()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if($(i))if(0===n){var o=new M(i.path);this.ge(e,o,new on(o,P.min()))}else v(1===n);else this.Ne(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.Fe=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&$(o.target)){var s=new M(o.target.path);null!==e.me.get(s)||e.ke(i,s)||e.ge(i,s,new on(s,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=ft();this.Ae.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new mt(t,n,this.Re,this.me,r);return this.me=st(),this.Ae=St(),this.Re=new rt(b),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.ke(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.xe(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.ke(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.xe(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Ne=function(t){var e=this.be(t).ce();return this.Ee.$e(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new It,this.Ie.set(t,e)),e},t.prototype.xe=function(t){var e=this.Ae.get(t);return e||(e=new rt(b),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new It),this.Ee.$e(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.ke=function(t,e){return this.Ee.$e(t).has(e)},t}();function St(){return new tt(M.P)}function Tt(){return new tt(M.P)}function At(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xt(t){var e=Lt(t.mapValue.fields.__local_write_time__.timestampValue);return new D(e.seconds,e.nanos)}var Ot=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?At(t)?4:10:y()}function kt(t,e){var n=Nt(t);if(n!==Nt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xt(t).isEqual(xt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Lt(t.timestampValue),r=Lt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Mt(t.bytesValue).isEqual(Mt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jt(t.geoPointValue.latitude)===jt(e.geoPointValue.latitude)&&jt(t.geoPointValue.longitude)===jt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jt(t.integerValue)===jt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jt(t.doubleValue),r=jt(e.doubleValue);return n===r?F(n)===F(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],kt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(T(n)!==T(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kt(n[i],r[i])))return!1;return!0}(t,e);default:return y()}}function Dt(t,e){return void 0!==(t.values||[]).find((function(t){return kt(t,e)}))}function Pt(t,e){var n=Nt(t),r=Nt(e);if(n!==r)return b(n,r);switch(n){case 0:return 0;case 1:return b(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jt(t.integerValue||t.doubleValue),r=jt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rt(t.timestampValue,e.timestampValue);case 4:return Rt(xt(t),xt(e));case 5:return b(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Mt(t),r=Mt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=b(n[i],r[i]);if(0!==o)return o}return b(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=b(jt(t.latitude),jt(e.latitude));return 0!==n?n:b(jt(t.longitude),jt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pt(n[i],r[i]);if(o)return o}return b(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=b(r[s],o[s]);if(0!==a)return a;var u=Pt(n[r[s]],i[o[s]]);if(0!==u)return u}return b(r.length,o.length)}(t.mapValue,e.mapValue);default:throw y()}}function Rt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return b(t,e);var n=Lt(t),r=Lt(e),i=b(n.seconds,r.seconds);return 0!==i?i:b(n.nanos,r.nanos)}function Vt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Lt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mt(e.bytesValue).toBase64():"referenceValue"in e?M.B(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):y();var n}(t)}function Lt(t){if(v(!!t),"string"==typeof t){var e=0,n=Ot.exec(t);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mt(t){return"string"==typeof t?W.fromBase64String(t):W.fromUint8Array(t)}function Ut(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function Ft(t){return!!t&&"integerValue"in t}function qt(t){return!!t&&"arrayValue"in t}function Bt(t){return!!t&&"nullValue"in t}function Gt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ht(t){return!!t&&"mapValue"in t}var zt={asc:"ASCENDING",desc:"DESCENDING"},$t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wt=function(t,e){this.s=t,this.Oe=e};function Kt(t){return{integerValue:""+t}}function Xt(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(e)?"-0":e}}function Qt(t,e){return q(e)?Kt(e):Xt(t,e)}function Yt(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zt(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function Jt(t,e){return Yt(t,e.A())}function te(t){return v(!!t),P.I(function(t){var e=Lt(t);return new D(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new V(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function ne(t){var e=V.k(t);return v(be(e)),e}function re(t,e){return ee(t.s,e.path)}function ie(t,e){var n=ne(e);return v(n.get(1)===t.s.projectId),v(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new M(ue(n))}function oe(t,e){return ee(t.s,e)}function se(t){var e=ne(t);return 4===e.length?V.$():ue(e)}function ae(t){return new V(["projects",t.s.projectId,"databases",t.s.database]).F()}function ue(t){return v(t.length>4&&"documents"===t.get(4)),t.g(5)}function ce(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof ze)n={update:ce(t,e.key,e.value)};else if(e instanceof Ye)n={delete:re(t,e.key)};else if(e instanceof $e)n={update:ce(t,e.key,e.data),updateMask:_e(e.Le)};else if(e instanceof Ke)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Te)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ae)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof Oe)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof ke)return{fieldPath:e.field.F(),increment:n.qe};throw y()}(0,t)}))}};else{if(!(e instanceof Ze))return y();n={verify:re(t,e.key)}}return e.Ue.Be||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.Ue)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?je.updateTime(te(t.updateTime)):void 0!==t.exists?je.exists(t.exists):je.Qe()}(e.currentDocument):je.Qe();if(e.update){var r=ie(t,e.update.name),i=new Je({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Re((t.fieldPaths||[]).map((function(t){return j.q(t)})))}(e.updateMask);return new $e(r,i,o,n)}return new ze(r,i,n)}if(e.delete){var s=ie(t,e.delete);return new Ye(s,n)}if(e.transform){var a=ie(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(v("REQUEST_TIME"===e.setToServerValue),n=new Te):"appendMissingElements"in e?n=new Ae(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Oe(e.removeAllFromArray.values||[]):"increment"in e?n=new ke(t,e.increment):y();var r=j.q(e.fieldPath);return new Ve(r,n)}(t,e)}));return v(!0===n.exists),new Ke(a,u)}if(e.verify){var c=ie(t,e.verify);return new Ze(c,n)}return y()}function fe(t,e){return{documents:[oe(t,e.path)]}}function de(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Gt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NAN"}};if(Bt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Gt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NOT_NAN"}};if(Bt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ye(t.field),op:(e=t.op,$t[e]),value:t.value}};var e}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:ye((e=t).field),direction:(n=e.dir,zt[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Oe||U(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function ge(t){return new kn(t.values||[],!!t.before)}function ye(t){return{fieldPath:t.F()}}function ve(t){return j.q(t.fieldPath)}function me(t){return En.create(ve(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function we(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ve(t.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ve(t.unaryFilter.field);return En.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ve(t.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ve(t.unaryFilter.field);return En.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function _e(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function be(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ee=function(){this.We=void 0};function Ie(t,e,n){return t instanceof Te?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ae?xe(t,e):t instanceof Oe?Ne(t,e):function(t,e){var n=Se(t,e),r=De(n)+De(t.qe);return Ft(n)&&Ft(t.qe)?Kt(r):Xt(t.serializer,r)}(t,e)}function Ce(t,e,n){return t instanceof Ae?xe(t,e):t instanceof Oe?Ne(t,e):n}function Se(t,e){return t instanceof ke?Ft(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(Ee),Ae=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Ee);function xe(t,e){for(var n=Pe(e),r=function(t){n.some((function(e){return kt(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Ee);function Ne(t,e){for(var n=Pe(e),r=function(t){n=n.filter((function(e){return!kt(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.qe=n,r}return i.__extends(e,t),e}(Ee);function De(t){return jt(t.integerValue||t.doubleValue)}function Pe(t){return qt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Re=function(){function t(t){this.fields=t,t.sort(j.P)}return t.prototype.je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ve=function(t,e){this.field=t,this.transform=e},Le=function(t,e){this.version=t,this.transformResults=e},je=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Be",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Me(t,e){return void 0!==t.updateTime?e instanceof rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rn}var Ue=function(){};function Fe(t,e,n){return t instanceof ze?function(t,e,n){return new rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof $e?function(t,e,n){if(!Me(t.Ue,e))return new sn(t.key,n.version);var r=We(t,e);return new rn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ke?function(t,e,n){if(v(null!=n.transformResults),!Me(t.Ue,e))return new sn(t.key,n.version);var r=Xe(0,e),i=function(t,e,n){var r=[];v(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof rn&&(a=e.field(o.field)),r.push(Ce(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Qe(t,r.data(),i);return new rn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new on(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qe(t,e,n,r){return t instanceof ze?function(t,e){if(!Me(t.Ue,e))return e;var n=He(e);return new rn(t.key,n,t.value,{Ke:!0})}(t,e):t instanceof $e?function(t,e){if(!Me(t.Ue,e))return e;var n=He(e),r=We(t,e);return new rn(t.key,n,r,{Ke:!0})}(t,e):t instanceof Ke?function(t,e,n,r){if(!Me(t.Ue,e))return e;var i=Xe(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof rn&&(c=n.field(a.field)),null===c&&r instanceof rn&&(c=r.field(a.field)),i.push(Ie(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Qe(t,i.data(),o);return new rn(t.key,i.version,s,{Ke:!0})}(t,e,r,n):function(t,e){return Me(t.Ue,e)?new on(t.key,P.min()):e}(t,e)}function Be(t,e){return t instanceof Ke?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof rn?e.field(o.field):void 0,a=Se(o.transform,s||null);null!=a&&(n=null==n?(new tn).set(o.field,a):n.set(o.field,a))}return n?n.Ge():null}(t,e):null}function Ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ae&&e instanceof Ae||t instanceof Oe&&e instanceof Oe?E(t.elements,e.elements,kt):t instanceof ke&&e instanceof ke?kt(t.qe,e.qe):t instanceof Te&&e instanceof Te}(t.transform,e.transform)}(t,e)})))}function He(t){return t instanceof rn?t.version:P.min()}var ze=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return i.__extends(e,t),e}(Ue),$e=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return i.__extends(e,t),e}(Ue);function We(t,e){return function(t,e){var n=new tn(e);return t.Le.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ge()}(t,e instanceof rn?e.data():Je.empty())}var Ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=je.exists(!0),r}return i.__extends(e,t),e}(Ue);function Xe(t,e){return e}function Qe(t,e,n){for(var r=new tn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ge()}var Ye=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return i.__extends(e,t),e}(Ue),Ze=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return i.__extends(e,t),e}(Ue),Je=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ht(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return kt(this.proto,t.proto)},t}(),tn=function(){function t(t){void 0===t&&(t=Je.empty()),this.ze=t,this.He=new Map}return t.prototype.set=function(t,e){return this.Ye(t,e),this},t.prototype.delete=function(t){return this.Ye(t,null),this},t.prototype.Ye=function(t,e){for(var n=this.He,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Nt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.Ge=function(){var t=this.Je(j.$(),this.He);return null!=t?new Je(t):this.ze},t.prototype.Je=function(t,e){var n=this,r=!1,i=this.ze.field(t),o=Ht(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Je(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function en(t){var e=[];return A(t.fields||{},(function(t,n){var r=new j([t]);if(Ht(n)){var i=en(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Re(e)}var nn=function(t,e){this.key=t,this.version=e},rn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Xe=r,o.Ke=!!i.Ke,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.Xe.field(t)},e.prototype.data=function(){return this.Xe},e.prototype.Ze=function(){return this.Xe.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ke===t.Ke&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Xe.isEqual(t.Xe)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Xe.toString()+", {hasLocalMutations: "+this.Ke+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ke||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(nn),on=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn);function an(t,e){if(!(t instanceof e))throw new k(N.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var un=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.tn=n,this.filters=r,this.limit=i,this.en=o,this.startAt=s,this.endAt=a,this.nn=null,this.sn=null}return t.prototype.rn=function(e){return new t(e,null,this.tn.slice(),this.filters.slice(),this.limit,this.en,this.startAt,this.endAt)},t.prototype.on=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.tn.length||1===this.tn.length&&this.tn[0].field.O())},t.prototype.hn=function(){return!U(this.limit)&&"F"===this.en},t.prototype.an=function(){return!U(this.limit)&&"L"===this.en},t.prototype.un=function(){return this.tn.length>0?this.tn[0].field:null},t.prototype.cn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n.ln())return n.field}return null},t.prototype._n=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function cn(t,e,n,r,i,o,s,a){return new un(t,e,n,r,i,o,s,a)}function ln(t){return new un(t)}function hn(t){return null!==t.collectionGroup}function fn(t){var e=an(t,un);if(null===e.nn){e.nn=[];var n=e.cn(),r=e.un();if(null!==n&&null===r)n.O()||e.nn.push(new Vn(n)),e.nn.push(new Vn(j.L(),"asc"));else{for(var i=!1,o=0,s=e.tn;o<s.length;o++){var a=s[o];e.nn.push(a),a.field.O()&&(i=!0)}if(!i){var u=e.tn.length>0?e.tn[e.tn.length-1].dir:"asc";e.nn.push(new Vn(j.L(),u))}}}return e.nn}function dn(t){var e=an(t,un);if(!e.sn)if("F"===e.en)e.sn=G(e.path,e.collectionGroup,fn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fn(e);r<i.length;r++){var o=i[r];n.push(new Vn(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new kn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new kn(e.startAt.position,!e.startAt.before):null;e.sn=G(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.sn}function pn(t,e,n){return new un(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gn(t,e){return new un(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,e,t.endAt)}function yn(t,e){return new un(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,t.startAt,e)}function vn(t,e){return z(dn(t),dn(e))&&t.en===e.en}function mn(t){return H(dn(t))+"|lt:"+t.en}function wn(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+Vt(e.value);var e})).join(", ")+"]"),U(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Dn(t.startAt)),t.endAt&&(e+=", endAt: "+Dn(t.endAt)),"Target("+e+")"}(dn(t))+"; limitType="+t.en+")"}function _n(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):M.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.tn;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Pn(t.startAt,fn(t),e)||t.endAt&&Pn(t.endAt,fn(t),e))}(t,e)}function bn(t){return function(e,n){for(var r=!1,i=0,o=fn(t);i<o.length;i++){var s=o[i],a=Ln(s,e,n);if(0!==a)return a;r=r||s.field.O()}return 0}}var En=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.O())return"in"===n||"not-in"===n?this.fn(t,n,r):new In(t,n,r);if(Bt(r)){if("=="!==n&&"!="!==n)throw new k(N.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Gt(r)){if("=="!==n&&"!="!==n)throw new k(N.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new An(t,r):"in"===n?new xn(t,r):"not-in"===n?new On(t,r):"array-contains-any"===n?new Nn(t,r):new e(t,n,r)},e.fn=function(t,e,n){return"in"===e?new Cn(t,n):new Sn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.dn(Pt(e,this.value)):null!==e&&Nt(this.value)===Nt(e)&&this.dn(Pt(e,this.value))},e.prototype.dn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},e.prototype.ln=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),In=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=M.B(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=M.P(t.key,this.key);return this.dn(e)},e}(En),Cn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Tn(0,n),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(En),Sn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Tn(0,n),r}return i.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(En);function Tn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return M.B(t.referenceValue)}))}var An=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qt(e)&&Dt(e.arrayValue,this.value)},e}(En),xn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Dt(this.value.arrayValue,e)},e}(En),On=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Dt(this.value.arrayValue,e)},e}(En),Nn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Dt(e.value.arrayValue,t)}))},e}(En),kn=function(t,e){this.position=t,this.before=e};function Dn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Vt(t)})).join(",")}function Pn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.O()?M.P(M.B(s.referenceValue),n.key):Pt(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Rn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!kt(t.position[n],e.position[n]))return!1;return!0}var Vn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ln(t,e,n){var r=t.field.O()?M.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pt(r,i):y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function jn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Mn=function(){function t(t,e,n,r){this.batchId=t,this.wn=e,this.baseMutations=n,this.mutations=r}return t.prototype.Tn=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fe(o,e,r[i]))}return e},t.prototype.In=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qe(i,e,e,this.wn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=qe(u,e,o,this.wn))}return e},t.prototype.mn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.In(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return Ge(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return Ge(t,e)}))},t}(),Un=function(){function t(t,e,n,r){this.batch=t,this.An=e,this.En=n,this.Rn=r}return t.from=function(e,n,r){v(e.mutations.length===r.length);for(var i=lt,o=e.mutations,s=0;s<o.length;s++)i=i.nt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Fn=function(){function t(t){var e=this;this.Pn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.gn=!1,this.yn=!1,t((function(t){e.gn=!0,e.result=t,e.Pn&&e.Pn(t)}),(function(t){e.gn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.yn&&y(),this.yn=!0,this.gn?this.error?this.pn(n,this.error):this.bn(e,this.result):new t((function(t,i){r.Pn=function(n){r.bn(e,n).next(t,i)},r.Vn=function(e){r.pn(n,e).next(t,i)}}))},t.prototype.vn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Sn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.bn=function(e,n){return e?this.Sn((function(){return e(n)})):t.resolve(n)},t.prototype.pn=function(e,n){return e?this.Sn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Dn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Cn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Dn(r)},t}(),qn=function(){function t(){this.Nn=new O((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Fn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.kn},set:function(t){this.kn=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.$n(),this.readTime=e,this.Nn.set(t.key,t)},t.prototype.Mn=function(t,e){this.$n(),e&&(this.readTime=e),this.Nn.set(t,null)},t.prototype.On=function(t,e){this.$n();var n=this.Nn.get(e);return void 0!==n?Fn.resolve(n):this.Ln(t,e)},t.prototype.getEntries=function(t,e){return this.qn(t,e)},t.prototype.apply=function(t){return this.$n(),this.Fn=!0,this.Bn(t)},t.prototype.$n=function(){},t}(),Bn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gn=function(){function t(){this.Un=[]}return t.prototype.Qn=function(t){this.Un.push(t)},t.prototype.Wn=function(){this.Un.forEach((function(t){return t()}))},t}(),Hn=function(){function t(t,e,n){this.jn=t,this.Kn=e,this.Gn=n}return t.prototype.zn=function(t,e){var n=this;return this.Kn.Hn(t,e).next((function(r){return n.Yn(t,e,r)}))},t.prototype.Yn=function(t,e,n){return this.jn.On(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].In(e,t);return t}))},t.prototype.Jn=function(t,e,n){var r=at();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].In(t,e);r=r.nt(t,e)})),r},t.prototype.Xn=function(t,e){var n=this;return this.jn.getEntries(t,e).next((function(e){return n.Zn(t,e)}))},t.prototype.Zn=function(t,e){var n=this;return this.Kn.ts(t,e).next((function(r){var i=n.Jn(t,e,r),o=st();return i.forEach((function(t,e){e||(e=new on(t,P.min())),o=o.nt(t,e)})),o}))},t.prototype.es=function(t,e,n){return function(t){return M.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ns(t,e.path):hn(e)?this.ss(t,e,n):this.rs(t,e,n)},t.prototype.ns=function(t,e){return this.zn(t,new M(e)).next((function(t){var e=ct();return t instanceof rn&&(e=e.nt(t.key,t)),e}))},t.prototype.ss=function(t,e,n){var r=this,i=e.collectionGroup,o=ct();return this.Gn.os(t,i).next((function(s){return Fn.forEach(s,(function(s){var a=e.rn(s.child(i));return r.rs(t,a,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.rs=function(t,e,n){var r,i,o=this;return this.jn.es(t,e,n).next((function(n){return r=n,o.Kn.hs(t,e)})).next((function(e){return o.as(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=qe(u,l,l,o.wn);r=h instanceof rn?r.nt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){_n(e,n)||(r=r.remove(t))})),r}))},t.prototype.as=function(t,e,n){for(var r=ft(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof $e&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.jn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rn&&(c=c.nt(t,e))})),c}))},t}(),zn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.us=n,this.cs=r}return t.ls=function(e,n){for(var r=ft(),i=ft(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),$n=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e._s=function(t){return n.fs(t)},this.ds=function(t){return e.ws(t)})}return t.prototype.fs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ds&&this.ds(t),t},t}();$n.Ts=-1;var Wn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Kn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Es=t,this.Is=e,this.ms=n,this.As=r,this.Rs=i,this.Ps=0,this.Vs=null,this.gs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ps=0},t.prototype.ys=function(){this.Ps=this.Rs},t.prototype.ps=function(t){var e=this;this.cancel();var n=Math.floor(this.Ps+this.bs()),r=Math.max(0,Date.now()-this.gs),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ps+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.Es.vs(this.Is,i,(function(){return e.gs=Date.now(),t()})),this.Ps*=this.As,this.Ps<this.ms&&(this.Ps=this.ms),this.Ps>this.Rs&&(this.Ps=this.Rs)},t.prototype.Ss=function(){null!==this.Vs&&(this.Vs.Ds(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.bs=function(){return(Math.random()-.5)*this.Ps},t}(),Xn=function(){function t(e,n,r){this.name=e,this.version=n,this.Cs=r,12.2===t.Ns(a.getUA())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return f("SimpleDb","Removing database:",t),er(window.indexedDB.deleteDatabase(t)).vn()},t.Fs=function(){if("undefined"==typeof indexedDB)return!1;if(t.ks())return!0;var e=a.getUA(),n=t.Ns(e),r=0<n&&n<10,i=t.xs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.ks=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.$s)},t.Ms=function(t,e){return t.store(e)},t.Ns=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Os=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onblocked=function(){n(new Yn("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new k(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Yn(e))},r.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.Cs.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,e.version).next((function(){f("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Ls&&(this.db.onversionchange=function(t){return e.Ls(t)}),this.db)]}}))}))},t.prototype.qs=function(t){this.Ls=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,a.Os()];case 2:return a.db=i.sent(),t=Jn.open(a.db,r?"readonly":"readwrite",e),s=n(t).catch((function(e){return t.abort(e),Fn.reject(e)})).vn(),u={},s.catch((function(){})),[4,t.Bs];case 3:return[2,(u.value=(i.sent(),s),u)];case 4:return f("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Qn=function(){function t(t){this.Us=t,this.Qs=!1,this.Ws=null}return Object.defineProperty(t.prototype,"gn",{get:function(){return this.Qs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"js",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Us=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Qs=!0},t.prototype.Ks=function(t){this.Ws=t},t.prototype.delete=function(){return er(this.Us.delete())},t}(),Yn=function(t){function e(e){var n=this;return(n=t.call(this,N.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(k);function Zn(t){return"IndexedDbTransactionError"===t.name}var Jn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Gs=new Wn,this.transaction.oncomplete=function(){e.Gs.resolve()},this.transaction.onabort=function(){t.error?e.Gs.reject(new Yn(t.error)):e.Gs.resolve()},this.transaction.onerror=function(t){var n=rr(t.target.error);e.Gs.reject(new Yn(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new Yn(e)}},Object.defineProperty(t.prototype,"Bs",{get:function(){return this.Gs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Gs.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new tr(e)},t}(),tr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),er(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),er(this.store.add(t))},t.prototype.get=function(t){var e=this;return er(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),er(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),er(this.store.count())},t.prototype.zs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Hs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ys=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Js=!1;var r=this.cursor(n);return this.Hs(r,(function(t,e,n){return n.delete()}))},t.prototype.Xs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Hs(r,e)},t.prototype.Zs=function(t){var e=this.cursor({});return new Fn((function(n,r){e.onerror=function(t){var e=rr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Hs=function(t,e){var n=[];return new Fn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qn(i),s=e(i.primaryKey,i.value,o);if(s instanceof Fn){var a=s.catch((function(t){return o.done(),Fn.reject(t)}));n.push(a)}o.gn?r():null===o.js?i.continue():i.continue(o.js)}else r()}})).next((function(){return Fn.Dn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Js?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function er(t){return new Fn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=rr(t.target.error);n(e)}}))}var nr=!1;function rr(t){var e=Xn.Ns(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new k("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nr||(nr=!0,setTimeout((function(){throw r}),0)),r}}return t}function ir(){return"undefined"!=typeof window?window:null}function or(){return"undefined"!=typeof document?document:null}var sr=function(){function t(t,e,n,r,i){this.ti=t,this.Is=e,this.ei=n,this.op=r,this.ni=i,this.si=new Wn,this.then=this.si.promise.then.bind(this.si.promise),this.si.promise.catch((function(t){}))}return t.ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.ri=setTimeout((function(){return e.oi()}),t)},t.prototype.Ds=function(){return this.oi()},t.prototype.cancel=function(t){null!==this.ri&&(this.clearTimeout(),this.si.reject(new k(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.oi=function(){var t=this;this.ti.hi((function(){return null!==t.ri?(t.clearTimeout(),t.op().then((function(e){return t.si.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ri&&(this.ni(this),clearTimeout(this.ri),this.ri=null)},t}(),ar=function(){function t(){var t=this;this.ai=Promise.resolve(),this.ui=[],this.ci=!1,this.li=[],this._i=null,this.fi=!1,this.di=[],this.wi=new Kn(this,"async_queue_retry"),this.Ti=function(){var e=or();e&&f("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.wi.Ss()};var e=or();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ti)}return Object.defineProperty(t.prototype,"Ei",{get:function(){return this.ci},enumerable:!1,configurable:!0}),t.prototype.hi=function(t){this.enqueue(t)},t.prototype.Ii=function(t){this.mi(),this.Ai(t)},t.prototype.Ri=function(t){return this.mi(),this.Ai(t)},t.prototype.Pi=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.mi(),this.ci?[3,2]:(this.ci=!0,(e=or())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ti),[4,this.Ri(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.mi(),this.ci?new Promise((function(t){})):this.Ai(t)},t.prototype.Vi=function(t){var e=this;this.ui.push(t),this.hi((function(){return e.gi()}))},t.prototype.gi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.ui.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ui[0]()];case 2:return n.sent(),this.ui.shift(),this.wi.reset(),[3,4];case 3:if(!Zn(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ui.length>0&&this.wi.ps((function(){return e.gi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ai=function(t){var e=this,n=this.ai.then((function(){return e.fi=!0,t().catch((function(t){throw e._i=t,e.fi=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.fi=!1,t}))}));return this.ai=n,n},t.prototype.vs=function(t,e,n){var r=this;this.mi(),this.di.indexOf(t)>-1&&(e=0);var i=sr.ii(this,t,e,n,(function(t){return r.yi(t)}));return this.li.push(i),i},t.prototype.mi=function(){this._i&&y()},t.prototype.pi=function(){},t.prototype.bi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ai];case 1:e.sent(),e.label=2;case 2:if(t!==this.ai)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this.li;e<n.length;e++)if(n[e].Is===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e.li.sort((function(t,e){return t.ei-e.ei}));for(var n=0,r=e.li;n<r.length;n++){var i=r[n];if(i.Ds(),"all"!==t&&i.Is===t)break}return e.bi()}))},t.prototype.Di=function(t){this.di.push(t)},t.prototype.yi=function(t){var e=this.li.indexOf(t);this.li.splice(e,1)},t}();function ur(t,e){if(d("AsyncQueue",e+": "+t),Zn(t))return new k(N.UNAVAILABLE,e+": "+t);throw t}function cr(t,e){var n=t[1],r=e[1],i=b(t[0],e[0]);return 0===i?b(n,r):i}var lr=function(){function t(t){this.Ci=t,this.buffer=new rt(cr),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();cr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),hr={xi:!1,$i:0,Mi:0,Oi:0},fr=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();fr.ji=-1,fr.Ki=1048576,fr.Gi=41943040,fr.Qi=10,fr.Wi=1e3,fr.zi=new fr(fr.Gi,fr.Qi,fr.Wi),fr.Hi=new fr(fr.ji,0,0);var dr=function(){function t(t,e){this.Yi=t,this.ti=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==fr.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ti.vs("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return Zn(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ei(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),pr=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return Fn.resolve($n.Ts);var r=new lr(e);return this.nr.pe(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.ur=function(t,e){var n=this;return this.params.Li===fr.ji?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Fn.resolve(hr)):this.cr(t).next((function(r){return r<n.params.Li?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),hr):n.lr(t,e)}))},t.prototype.cr=function(t){return this.nr.cr(t)},t.prototype.lr=function(t,e){var n,r,i,o,a,u,c,l=this,d=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>l.params.Bi?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Bi+" from "+e),r=l.params.Bi):r=e,o=Date.now(),l.rr(t,r)})).next((function(r){return n=r,a=Date.now(),l.hr(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.ar(t,n)})).next((function(t){return c=Date.now(),h()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),Fn.resolve({xi:!0,$i:r,Mi:i,Oi:t})}))},t}();function gr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=vr(e)),e=yr(t.get(n),e);return vr(e)}function yr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function vr(t){return t+"\x01\x01"}function mr(t){var e=t.length;if(v(e>=2),2===e)return v("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),V.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&y(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:y()}o=s+2}return new V(r)}var wr=function(t){this._r=t};function _r(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),o=new Je({mapValue:{fields:e.fields}});return new rn(r,i,o,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=M.j(e.noDocument.path),r=Sr(e.noDocument.readTime);return new on(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=M.j(e.unknownDocument.path),o=Sr(e.unknownDocument.version);return new sn(i,o)}return y()}function br(t,e,n){var r=Er(n),i=e.key.path.p().N();if(e instanceof rn){var o=function(t,e){return{name:re(t,e.key),fields:e.Ze().mapValue.fields,updateTime:Yt(t,e.version.A())}}(t._r,e);return new Qr(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof on){var s=e.key.path.N(),a=Cr(e.version),u=e.hasCommittedMutations;return new Qr(null,new Kr(s,a),null,u,r,i)}if(e instanceof sn){var c=e.key.path.N(),l=Cr(e.version);return new Qr(new Xr(c,l),null,null,!0,r,i)}return y()}function Er(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Ir(t){var e=new D(t[0],t[1]);return P.I(e)}function Cr(t){var e=t.A();return new Gr(e.seconds,e.nanoseconds)}function Sr(t){var e=new D(t.seconds,t.nanoseconds);return P.I(e)}function Tr(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t._r,e)})),r=e.mutations.map((function(e){return he(t._r,e)})),i=D.fromMillis(e.localWriteTimeMs);return new Mn(e.batchId,i,n,r)}function Ar(t){var e,n,r=Sr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sr(t.lastLimboFreeSnapshotVersion):P.min();return void 0!==t.query.documents?(v(1===(n=t.query).documents.length),e=dn(ln(se(n.documents[0])))):e=function(t){var e=se(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[we(e)]:void 0!==e.fieldFilter?[me(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):y():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Vn(ve((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return U(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ge(n.startAt));var l=null;return n.endAt&&(l=ge(n.endAt)),dn(cn(e,i,a,s,u,"F",c,l))}(t.query),new Q(e,t.targetId,0,t.lastListenSequenceNumber,r,i,W.fromBase64String(t.resumeToken))}function xr(t,e){var n,r=Cr(e.X),i=Cr(e.lastLimboFreeSnapshotVersion);n=$(e.target)?fe(t._r,e.target):de(t._r,e.target);var o=e.resumeToken.toBase64();return new Zr(e.targetId,H(e.target),r,o,e.sequenceNumber,i,n)}var Or=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Gn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return v(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.Ir=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dr(t).Xs({index:$r.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mr=function(t,e,n,r){var i=this,o=Pr(t),s=Dr(t);return s.add({}).next((function(a){v("number"==typeof a);for(var u=new Mn(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t._r,e)})),i=n.mutations.map((function(e){return le(t._r,e)}));return new $r(e,n.batchId,n.wn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new rt((function(t,e){return b(t.F(),e.F())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Wr.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(s.put(c)),l.push(o.put(g,Wr.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Gn.Ar(t,e))})),t.Qn((function(){i.wr[a]=u.keys()})),Fn.Dn(l).next((function(){return u}))}))},t.prototype.Rr=function(t,e){var n=this;return Dr(t).get(e).next((function(t){return t?(v(t.userId===n.userId),Tr(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?Fn.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.Vr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Dr(t).Xs({index:$r.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r),o=Tr(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.gr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dr(t).Xs({index:$r.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dr(t).zs($r.userMutationsIndex,n).next((function(t){return t.map((function(t){return Tr(e.serializer,t)}))}))},t.prototype.Hn=function(t,e){var n=this,r=Wr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Pr(t).Xs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=mr(r[1]);if(a===n.userId&&e.path.isEqual(c))return Dr(t).get(u).next((function(t){if(!t)throw y();v(t.userId===n.userId),o.push(Tr(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ts=function(t,e){var n=this,r=new rt(b),i=[];return e.forEach((function(e){var o=Wr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Pr(t).Xs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=mr(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Fn.Dn(i).next((function(){return n.pr(t,r)}))},t.prototype.hs=function(t,e){var n=this,r=e.path,i=r.length+1,o=Wr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rt(b);return Pr(t).Xs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=mr(t[1]);s===n.userId&&r.D(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Dr(t).get(e).next((function(t){if(null===t)throw y();v(t.userId===n.userId),r.push(Tr(n.serializer,t))})))})),Fn.Dn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return kr(t.vr,this.userId,e).next((function(r){return t.Qn((function(){n.Sr(e.batchId)})),Fn.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.Ir(t).next((function(n){if(!n)return Fn.resolve();var r=IDBKeyRange.lowerBound(Wr.prefixForUser(e.userId)),i=[];return Pr(t).Xs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=mr(t[1]);i.push(o)}else r.done()})).next((function(){v(0===i.length)}))}))},t.prototype.Nr=function(t,e){return Nr(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return Rr(t).get(this.userId).next((function(t){return t||new zr(e.userId,-1,"")}))},t}();function Nr(t,e,n){var r=Wr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Pr(t).Xs({range:o,Js:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function kr(t,e,n){var r=t.store($r.store),i=t.store(Wr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Xs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){v(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Wr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Fn.Dn(o).next((function(){return c}))}function Dr(t){return pi.Ms(t,$r.store)}function Pr(t){return pi.Ms(t,Wr.store)}function Rr(t){return pi.Ms(t,zr.store)}var Vr=function(){function t(t,e){this.serializer=t,this.Gn=e}return t.prototype.xn=function(t,e,n){return jr(t).put(Mr(e),n)},t.prototype.Mn=function(t,e){var n=jr(t),r=Mr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.On=function(t,e){var n=this;return jr(t).get(Mr(e)).next((function(t){return n.xr(t)}))},t.prototype.$r=function(t,e){var n=this;return jr(t).get(Mr(e)).next((function(t){var e=n.xr(t);return e?{Mr:e,size:Ur(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=at();return this.Or(t,e,(function(t,e){var i=n.xr(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=at(),i=new tt(M.P);return this.Or(t,e,(function(t,e){var o=n.xr(e);o?(r=r.nt(t,o),i=i.nt(t,Ur(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Or=function(t,e,n){if(e._())return Fn.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.at(),o=i.dt();return jr(t).Xs({range:r},(function(t,e,r){for(var s=M.j(t);o&&M.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.dt():null),o?r.Ks(o.path.N()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype.es=function(t,e,n){var r=this,i=ct(),o=e.path.length+1,s={};if(n.isEqual(P.min())){var a=e.path.N();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.N(),c=Er(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Qr.collectionReadTimeIndex}return jr(t).Xs(s,(function(t,n,s){if(t.length===o){var a=_r(r.serializer,n);e.path.D(a.key.path)?a instanceof rn&&_n(e,a)&&(i=i.nt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=st(),i=Er(e),o=jr(t),s=IDBKeyRange.lowerBound(i,!0);return o.Xs({index:Qr.readTimeIndex,range:s},(function(t,e){var o=_r(n.serializer,e);r=r.nt(o.key,o),i=e.readTime})).next((function(){return{Qr:r,readTime:Ir(i)}}))},t.prototype.Wr=function(t){var e=jr(t),n=P.min();return e.Xs({index:Qr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ir(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Lr(t).get(Yr.key).next((function(t){return v(!!t),t}))},t.prototype.kr=function(t,e){return Lr(t).put(Yr.key,e)},t.prototype.xr=function(t){if(t){var e=_r(this.serializer,t);return e instanceof on&&e.version.isEqual(P.min())?null:e}return null},t}();function Lr(t){return pi.Ms(t,Yr.store)}function jr(t){return pi.Ms(t,Qr.store)}function Mr(t){return t.path.N()}function Ur(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}Vr.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new O((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return i.__extends(e,t),e.prototype.Bn=function(t){var e=this,n=[],r=0,i=new rt((function(t,e){return b(t.F(),e.F())}));return this.Nn.forEach((function(o,s){var a=e.Yr.get(o);if(s){var u=br(e.Hr.serializer,s,e.readTime);i=i.add(o.path.p());var c=Ur(u);r+=c-a,n.push(e.Hr.xn(t,o,u))}else if(r-=a,e.Gr){var l=br(e.Hr.serializer,new on(o,P.min()),e.readTime);n.push(e.Hr.xn(t,o,l))}else n.push(e.Hr.Mn(t,o))})),i.forEach((function(r){n.push(e.Hr.Gn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),Fn.Dn(n)},e.prototype.Ln=function(t,e){var n=this;return this.Hr.$r(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Mr)}))},e.prototype.qn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(qn);var Fr=function(){function t(){this.Jr=new qr}return t.prototype.Ar=function(t,e){return this.Jr.add(e),Fn.resolve()},t.prototype.os=function(t,e){return Fn.resolve(this.Jr.getEntries(e))},t}(),qr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new rt(V.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rt(V.P)).N()},t}(),Br=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=10);var o=new Jn(e);n<1&&r>=1&&(function(t){t.createObjectStore(Hr.store)}(t),function(t){t.createObjectStore(zr.store,{keyPath:zr.keyPath}),t.createObjectStore($r.store,{keyPath:$r.keyPath,autoIncrement:!0}).createIndex($r.userMutationsIndex,$r.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Wr.store)}(t),ni(t),function(t){t.createObjectStore(Qr.store)}(t));var s=Fn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Jr.store),t.deleteObjectStore(Zr.store),t.deleteObjectStore(ti.store)}(t),ni(t)),s=s.next((function(){return function(t){var e=t.store(ti.store),n=new ti(0,0,P.min().A(),0);return e.put(ti.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store($r.store).zs().next((function(n){t.deleteObjectStore($r.store),t.createObjectStore($r.store,{keyPath:$r.keyPath,autoIncrement:!0}).createIndex($r.userMutationsIndex,$r.userMutationsKeyPath,{unique:!0});var r=e.store($r.store),i=n.map((function(t){return r.put(t)}));return Fn.Dn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ri.store,{keyPath:ri.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Yr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Qr.store);e.createIndex(Qr.readTimeIndex,Qr.readTimeIndexPath,{unique:!1}),e.createIndex(Qr.collectionReadTimeIndex,Qr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Qr.store).Xs((function(t,n){e+=Ur(n)})).next((function(){var n=new Yr(e);return t.store(Yr.store).put(Yr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(zr.store),r=t.store($r.store);return n.zs().next((function(n){return Fn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.zs($r.userMutationsIndex,i).next((function(r){return Fn.forEach(r,(function(r){v(r.userId===n.userId);var i=Tr(e.serializer,r);return kr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Jr.store),n=t.store(Qr.store);return t.store(ti.store).get(ti.key).next((function(t){var r=[];return n.Xs((function(n,i){var o=new V(n),s=function(t){return[0,gr(t)]}(o);r.push(e.get(s).next((function(n){return n?Fn.resolve():function(n){return e.put(new Jr(0,gr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Fn.Dn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ei.store,{keyPath:ei.keyPath});var n=e.store(ei.store),r=new qr,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:gr(i)})}};return e.store(Qr.store).Xs({Js:!0},(function(t,e){var n=new V(t);return i(n.p())})).next((function(){return e.store(Wr.store).Xs({Js:!0},(function(t,e){var n=mr(t[1]);return i(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Zr.store);return n.Xs((function(t,r){var i=Ar(r),o=xr(e.serializer,i);return n.put(o)}))},t}(),Gr=function(t,e){this.seconds=t,this.nanoseconds=e},Hr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Hr.store="owner",Hr.key="owner";var zr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};zr.store="mutationQueues",zr.keyPath="userId";var $r=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$r.store="mutations",$r.keyPath="batchId",$r.userMutationsIndex="userMutationsIndex",$r.userMutationsKeyPath=["userId","batchId"];var Wr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,gr(e)]},t.key=function(t,e,n){return[t,gr(e),n]},t}();Wr.store="documentMutations",Wr.PLACEHOLDER=new Wr;var Kr=function(t,e){this.path=t,this.readTime=e},Xr=function(t,e){this.path=t,this.version=e},Qr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Qr.store="remoteDocuments",Qr.readTimeIndex="readTimeIndex",Qr.readTimeIndexPath="readTime",Qr.collectionReadTimeIndex="collectionReadTimeIndex",Qr.collectionReadTimeIndexPath=["parentPath","readTime"];var Yr=function(t){this.byteSize=t};Yr.store="remoteDocumentGlobal",Yr.key="remoteDocumentGlobalKey";var Zr=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Zr.store="targets",Zr.keyPath="targetId",Zr.queryTargetsIndexName="queryTargetsIndex",Zr.queryTargetsKeyPath=["canonicalId","targetId"];var Jr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Jr.store="targetDocuments",Jr.keyPath=["targetId","path"],Jr.documentTargetsIndex="documentTargetsIndex",Jr.documentTargetsKeyPath=["path","targetId"];var ti=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ti.key="targetGlobalKey",ti.store="targetGlobal";var ei=function(t,e){this.collectionId=t,this.parent=e};function ni(t){t.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.documentTargetsIndex,Jr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Zr.store,{keyPath:Zr.keyPath}).createIndex(Zr.queryTargetsIndexName,Zr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ti.store)}ei.store="collectionParents",ei.keyPath=["collectionId","parent"];var ri=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ri.store="clientMetadata",ri.keyPath="clientId";var ii=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([zr.store,$r.store,Wr.store,Qr.store,Zr.store,Hr.store,ti.store,Jr.store],[ri.store]),[Yr.store]),[ei.store]),oi=function(){function t(){this.Xr=new qr}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Qn((function(){n.Xr.add(e)}));var o={collectionId:r,parent:gr(i)};return si(t).put(o)}return Fn.resolve()},t.prototype.os=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[I(e),""],!1,!0);return si(t).zs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(mr(o.parent))}return n}))},t}();function si(t){return pi.Ms(t,ei.store)}var ai=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),ui=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new ai(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return P.I(new D(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.uo(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.co(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.uo(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return ci(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return v(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return ci(t).Xs((function(s,a){var u=Ar(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r._o(t,u)))})).next((function(){return Fn.Dn(o)})).next((function(){return i}))},t.prototype.pe=function(t,e){return ci(t).Xs((function(t,n){var r=Ar(n);e(r)}))},t.prototype.so=function(t){return li(t).get(ti.key).next((function(t){return v(null!==t),t}))},t.prototype.io=function(t,e){return li(t).put(ti.key,e)},t.prototype.uo=function(t,e){return ci(t).put(xr(this.serializer,e))},t.prototype.co=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=H(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ci(t).Xs({range:r,index:Zr.queryTargetsIndexName},(function(t,n,r){var o=Ar(n);z(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],o=hi(t);return e.forEach((function(e){var s=gr(e.path);i.push(o.put(new Jr(n,s))),i.push(r.dr.Eo(t,n,e))})),Fn.Dn(i)},t.prototype.Io=function(t,e,n){var r=this,i=hi(t);return Fn.forEach(e,(function(e){var o=gr(e.path);return Fn.Dn([i.delete([n,o]),r.dr.mo(t,n,e)])}))},t.prototype.fo=function(t,e){var n=hi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hi(t),i=ft();return r.Xs({range:n,Js:!0},(function(t,e,n){var r=mr(t[1]),o=new M(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=gr(e.path),r=IDBKeyRange.bound([n],[I(n)],!1,!0),i=0;return hi(t).Xs({index:Jr.documentTargetsIndex,Js:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return ci(t).get(e).next((function(t){return t?Ar(t):null}))},t}();function ci(t){return pi.Ms(t,Zr.store)}function li(t){return pi.Ms(t,ti.store)}function hi(t){return pi.Ms(t,Jr.store)}var fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return i.__extends(e,t),e}(Gn),pi=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Es=o,this.window=s,this.document=a,this.Po=c,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.Fs())throw new k(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new vi(this,i),this.No=n+"main",this.serializer=new wr(u),this.Fo=new Xn(this.No,10,new Br(this.serializer)),this.ko=new ui(this.dr,this.serializer),this.Gn=new oi,this.jn=new Vr(this.serializer,this.Gn),this.window&&this.window.localStorage?this.xo=this.window.localStorage:(this.xo=null,!1===l&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof di)return Xn.Ms(t.vr,e);throw y()},t.prototype.start=function(){var t=this;return this.$o().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new k(N.FAILED_PRECONDITION,fi);return t.Mo(),t.Oo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new $n(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.qs((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Es.hi((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.$o()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.$o=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return yi(e).put(new ri(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.Es.Vi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(Zn(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Es.Vi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return gi(t).get(Hr.key).next((function(t){return Fn.resolve(e.Go(t))}))},t.prototype.zo=function(t){return yi(t).delete(this.clientId)},t.prototype.Ho=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,ri.store);return n.zs().next((function(t){var e=o.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Fn.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.xo)for(n=0,r=e;n<r.length;n++)this.xo.removeItem(this.Xo(r[n].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.Es.vs("client_metadata_refresh",4e3,(function(){return t.$o().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?Fn.resolve(!0):gi(t).get(Hr.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new k(N.FAILED_PRECONDITION,fi);return!1}}return!(!e.networkEnabled||!e.inForeground)||yi(t).zs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.jo(e).next((function(){return t.zo(e)}))})).catch((function(t){f("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return yi(e).zs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return Or.Tr(t,this.serializer,this.Gn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.jn},t.prototype.uh=function(){return this.Gn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return f("IndexedDbPersistence","Starting transaction:",t),this.Fo.runTransaction("readonly"===e?"readonly":"readwrite",ii,(function(o){return r=new di(o,i.yo?i.yo.next():$n.Ts),"readwrite-primary"===e?i.Qo(r).next((function(t){return!!t||i.Wo(r)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Es.Vi((function(){return i.Co(!1)})),new k(N.FAILED_PRECONDITION,Bn);return n(r)})).next((function(t){return i.Ko(r).next((function(){return t}))})):i.lh(r).next((function(){return n(r)}))})).then((function(t){return r.Wn(),t}))},t.prototype.lh=function(t){var e=this;return gi(t).get(Hr.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new k(N.FAILED_PRECONDITION,fi)}))},t.prototype.Ko=function(t){var e=new Hr(this.clientId,this.allowTabSynchronization,Date.now());return gi(t).put(Hr.key,e)},t.Fs=function(){return Xn.Fs()},t.prototype.jo=function(t){var e=this,n=gi(t);return n.get(Hr.key).next((function(t){return e.Go(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Hr.key)):Fn.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.Es.hi((function(){return t.inForeground="visible"===t.document.visibilityState,t.$o()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Oo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.Es.hi((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.xo)||void 0===e?void 0:e.getItem(this.Xo(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.xo)try{this.xo.setItem(this.Xo(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ih=function(){if(this.xo)try{this.xo.removeItem(this.Xo(this.clientId))}catch(t){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gi(t){return pi.Ms(t,Hr.store)}function yi(t){return pi.Ms(t,ri.store)}var vi=function(){function t(t,e){this.db=t,this.Yi=new pr(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.hh().pe(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return mi(t,n)},t.prototype.mo=function(t,e,n){return mi(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return mi(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return Rr(t).Zs((function(r){return Nr(t,r,e).next((function(t){return t&&(n=!0),Fn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],o=0;return this.fh(t,(function(s,a){if(a<=e){var u=n.dh(t,s).next((function(e){if(!e)return o++,r.On(t,s).next((function(){return r.Mn(s),hi(t).delete([0,gr(s.path)])}))}));i.push(u)}})).next((function(){return Fn.Dn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return mi(t,e)},t.prototype.fh=function(t,e){var n,r=hi(t),i=$n.Ts;return r.Xs({index:Jr.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==$n.Ts&&e(new M(mr(n)),i),i=s,n=o):i=$n.Ts})).next((function(){i!==$n.Ts&&e(new M(mr(n)),i)}))},t.prototype.cr=function(t){return this.db.ah().zr(t)},t}();function mi(t,e){return hi(t).put(function(t,e){return new Jr(0,gr(t.path),e)}(e,t.Ro))}function wi(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _i=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new tt(b),this.Ih=new O((function(t){return H(t)}),z),this.mh=P.min(),this.Kn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new Hn(this.Ah,this.Kn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.Vh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.Kn,n=this.Rh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Kn.yr(r).next((function(s){return i=s,e=o.persistence.oh(t),n=new Hn(o.Ah,e,o.persistence.uh()),e.yr(r)})).next((function(t){for(var e=[],o=[],s=ft(),a=0,u=i;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return n.Xn(r,s).next((function(t){return{gh:t,yh:e,ph:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Kn=e,this.Rh=n,this.Th.Ph(this.Rh),r)]}}))}))},t.prototype.bh=function(t){var e,n=this,r=D.now(),i=t.reduce((function(t,e){return t.add(e.key)}),ft());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Rh.Xn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=Be(c,e.get(c.key));null!=l&&s.push(new $e(c.key,l,en(l.proto.mapValue),je.exists(!0)))}return n.Kn.mr(o,r,s,t)}))})).then((function(t){var n=t.mn(e);return{batchId:t.batchId,Nn:n}}))},t.prototype.vh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Ah.jr({Gr:!0});return e.Sh(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Kn.Cr(n)})).next((function(){return e.Rh.Xn(n,r)}))}))},t.prototype.Dh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Kn.Rr(n,t).next((function(t){return v(null!==t),r=t.keys(),e.Kn.br(n,t)})).next((function(){return e.Kn.Cr(n)})).next((function(){return e.Rh.Xn(n,r)}))}))},t.prototype.gr=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Kn.gr(e)}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ko.ro(e)}))},t.prototype.Ch=function(e){var n=this,r=e.X,i=this.Eh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Ah.jr({Gr:!0});i=n.Eh;var a=[];e.Qt.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.ko.Io(o,e.Xt,s).next((function(){return n.ko.To(o,e.Yt,s)})));var c=e.resumeToken;if(c.H()>0){var l=u.tt(c,r).Z(o.Ro);i=i.nt(s,l),t.Nh(u,l,e)&&a.push(n.ko.lo(o,l))}}}));var u=st(),c=ft();if(e.jt.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var l=t.get(i);c instanceof on&&c.version.isEqual(P.min())?(s.Mn(i,r),u=u.nt(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(s.xn(c,r),u=u.nt(i,c)):f("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.Kt.has(i)&&a.push(n.persistence.dr.wh(o,i))}))}))),!r.isEqual(P.min())){var l=n.ko.ro(o).next((function(t){return n.ko.ho(o,o.Ro,r)}));a.push(l)}return Fn.Dn(a).next((function(){return s.apply(o)})).next((function(){return n.Rh.Zn(o,u)}))})).then((function(t){return n.Eh=i,t}))},t.Nh=function(t,e,n){return v(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Fh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.kh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fn.forEach(t,(function(t){return Fn.forEach(t.us,(function(n){return c.persistence.dr.Eo(e,t.targetId,n)})).next((function(){return Fn.forEach(t.cs,(function(n){return c.persistence.dr.mo(e,t.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!Zn(e=i.sent()))throw e;return f("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)s=(o=r[n]).targetId,o.fromCache||(a=this.Eh.get(s),u=a.et(a.X),this.Eh=this.Eh.nt(s,u));return[2]}}))}))},t.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Kn.Vr(n,t)}))},t.prototype.$h=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Rh.zn(n,t)}))},t.prototype.Mh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.ko.wo(n,t).next((function(i){return i?Fn.resolve(r=i):e.ko.no(n).next((function(i){return r=new Q(t,i,0,n.Ro),e.ko.ao(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Eh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.Eh=e.Eh.nt(n.targetId,n),e.Ih.set(t,n.targetId)),n}))},t.prototype.wo=function(t,e){var n=this.Ih.get(e);return void 0!==n?Fn.resolve(this.Eh.get(n)):this.ko.wo(t,e)},t.prototype.Oh=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:n=this.Eh.get(t),r=e?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,(function(t){return s.persistence.dr.removeTarget(t,n)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Zn(o=i.sent()))throw o;return f("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return this.Eh=this.Eh.remove(t),this.Ih.delete(n.target),[2]}}))}))},t.prototype.Lh=function(t,e){var n=this,r=P.min(),i=ft();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.wo(o,dn(t)).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.ko.Ao(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Th.es(o,t,e?r:P.min(),e?i:ft())})).next((function(t){return{documents:t,qh:i}}))}))},t.prototype.Sh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Fn.resolve();return o.forEach((function(r){s=s.next((function(){return n.On(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);v(null!==s),(!o||o.version.o(s)<0)&&(o=i.Tn(r,o,e))&&n.xn(o,e.An)}))})),s.next((function(){return r.Kn.br(t,i)}))},t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ur(n,e.Eh)}))},t}();function bi(t,e){var n=m(t),r=m(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function Ei(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==N.FAILED_PRECONDITION||t.message!==Bn)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}_i.Fh=3e8;var Ii=function(){function t(){this.Bh=new rt(Ci.Uh),this.Qh=new rt(Ci.Wh)}return t.prototype._=function(){return this.Bh._()},t.prototype.Eo=function(t,e){var n=new Ci(t,e);this.Bh=this.Bh.add(n),this.Qh=this.Qh.add(n)},t.prototype.jh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.mo=function(t,e){this.Kh(new Ci(t,e))},t.prototype.Gh=function(t,e){var n=this;t.forEach((function(t){return n.mo(t,e)}))},t.prototype.zh=function(t){var e=this,n=new M(new V([])),r=new Ci(n,t),i=new Ci(n,t+1),o=[];return this.Qh.vt([r,i],(function(t){e.Kh(t),o.push(t.key)})),o},t.prototype.Hh=function(){var t=this;this.Bh.forEach((function(e){return t.Kh(e)}))},t.prototype.Kh=function(t){this.Bh=this.Bh.delete(t),this.Qh=this.Qh.delete(t)},t.prototype.Yh=function(t){var e=new M(new V([])),n=new Ci(e,t),r=new Ci(e,t+1),i=ft();return this.Qh.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new Ci(t,0),n=this.Bh.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),Ci=function(){function t(t,e){this.key=t,this.Jh=e}return t.Uh=function(t,e){return M.P(t.key,e.key)||b(t.Jh,e.Jh)},t.Wh=function(t,e){return b(t.Jh,e.Jh)||M.P(t.key,e.key)},t}(),Si=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.Xh=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Si.UNAUTHENTICATED=new Si(null),Si.Zh=new Si("google-credentials-uid"),Si.ta=new Si("first-party-uid");var Ti=function(t,e){this.user=e,this.type="OAuth",this.ea={},this.ea.Authorization="Bearer "+t},Ai=function(){function t(){this.na=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.sa=function(){},t.prototype.ia=function(t){this.na=t,t(Si.UNAUTHENTICATED)},t.prototype.ra=function(){this.na=null},t}(),xi=function(){function t(t){var e=this;this.oa=null,this.currentUser=Si.UNAUTHENTICATED,this.ha=!1,this.aa=0,this.na=null,this.forceRefresh=!1,this.oa=function(){e.aa++,e.currentUser=e.ua(),e.ha=!0,e.na&&e.na(e.currentUser)},this.aa=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oa):(this.oa(null),t.get().then((function(t){e.auth=t,e.oa&&e.auth.addAuthTokenListener(e.oa)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.aa,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.aa!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(v("string"==typeof n.accessToken),new Ti(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.sa=function(){this.forceRefresh=!0},t.prototype.ia=function(t){this.na=t,this.ha&&t(this.currentUser)},t.prototype.ra=function(){this.auth&&this.auth.removeAuthTokenListener(this.oa),this.oa=null,this.na=null},t.prototype.ua=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t),new Si(t)},t}(),Oi=function(){function t(t,e){this.ca=t,this.la=e,this.type="FirstParty",this.user=Si.ta}return Object.defineProperty(t.prototype,"ea",{get:function(){var t={"X-Goog-AuthUser":this.la},e=this.ca.auth._a([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ni=function(){function t(t,e){this.ca=t,this.la=e}return t.prototype.getToken=function(){return Promise.resolve(new Oi(this.ca,this.la))},t.prototype.ia=function(t){t(Si.ta)},t.prototype.ra=function(){},t.prototype.sa=function(){},t}(),ki=function(){function t(t,e,n,r,i,o){this.Es=t,this.fa=n,this.da=r,this.wa=i,this.listener=o,this.state=0,this.Ta=0,this.Ea=null,this.stream=null,this.wi=new Kn(t,e)}return t.prototype.Ia=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ma=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Aa()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ia()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Ra=function(){this.state=0,this.wi.reset()},t.prototype.Pa=function(){var t=this;this.ma()&&null===this.Ea&&(this.Ea=this.Es.vs(this.fa,6e4,(function(){return t.Va()})))},t.prototype.ga=function(t){this.ya(),this.stream.send(t)},t.prototype.Va=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.ma()?[2,this.close(0)]:[2]}))}))},t.prototype.ya=function(){this.Ea&&(this.Ea.cancel(),this.Ea=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.ya(),this.wi.cancel(),this.Ta++,3!==t?this.wi.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.wi.ys()):e&&e.code===N.UNAUTHENTICATED&&this.wa.sa(),null!==this.stream&&(this.pa(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ba(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.pa=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.va(this.Ta),n=this.Ta;this.wa.getToken().then((function(e){t.Ta===n&&t.Sa(e)}),(function(n){e((function(){var e=new k(N.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Da(e)}))}))},t.prototype.Sa=function(t){var e=this,n=this.va(this.Ta);this.stream=this.Ca(t),this.stream.Na((function(){n((function(){return e.state=2,e.listener.Na()}))})),this.stream.ba((function(t){n((function(){return e.Da(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Aa=function(){var t=this;this.state=4,this.wi.ps((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Da=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.va=function(t){var e=this;return function(n){e.Es.hi((function(){return e.Ta===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Di=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.Ca=function(t){return this.da.Fa("Listen",t)},e.prototype.onMessage=function(t){this.wi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(v(void 0===e||"string"==typeof e),W.fromBase64String(e||"")):(v(void 0===e||e instanceof Uint8Array),W.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?N.UNKNOWN:J(t.code);return new k(e,t.message||"")}(s);n=new Et(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=ie(t,u.document.name),l=te(u.document.updateTime),h=new Je({mapValue:{fields:u.document.fields}}),f=new rn(c,l,h,{});n=new _t(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=ie(t,d.document),g=d.readTime?te(d.readTime):P.min(),m=new on(p,g);n=new _t([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var w=e.documentRemove,_=ie(t,w.document);n=new _t([],w.removedTargetIds||[],_,null)}else{if(!("filter"in e))return y();var b=e.filter,E=new Y(b.count||0);n=new bt(b.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return P.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?P.min():e.readTime?te(e.readTime):P.min()}(t);return this.listener.ka(e,n)},e.prototype.xa=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=$(r)?{documents:fe(t,r)}:{query:de(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=Zt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ga(e)},e.prototype.$a=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.ga(e)},e}(ki),Pi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Ma=!1,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ma=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.pa=function(){this.Ma&&this.La([])},e.prototype.Ca=function(t){return this.da.Fa("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ma){this.wi.reset();var e=function(t,e){return t&&t.length>0?(v(void 0!==e),t.map((function(t){return function(t,e){var n=te(t.updateTime?t.updateTime:e);n.isEqual(P.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Le(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.qa(n,e)}return v(!t.writeResults||0===t.writeResults.length),this.Ma=!0,this.listener.Ba()},e.prototype.Ua=function(){var t={};t.database=ae(this.serializer),this.ga(t)},e.prototype.La=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.ga(n)},e}(ki),Ri=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.da=n,i.serializer=r,i.Qa=!1,i}return i.__extends(e,t),e.prototype.Wa=function(){if(this.Qa)throw new k(N.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.ja=function(t,e,n){var r=this;return this.Wa(),this.credentials.getToken().then((function(i){return r.da.ja(t,e,n,i)})).catch((function(t){throw t.code===N.UNAUTHENTICATED&&r.credentials.sa(),t}))},e.prototype.Ka=function(t,e,n){var r=this;return this.Wa(),this.credentials.getToken().then((function(i){return r.da.Ka(t,e,n,i)})).catch((function(t){throw t.code===N.UNAUTHENTICATED&&r.credentials.sa(),t}))},e.prototype.terminate=function(){this.Qa=!1},e}((function(){})),Vi=function(){function t(t,e){this.ti=t,this.Ga=e,this.state="Unknown",this.za=0,this.Ha=null,this.Ya=!0}return t.prototype.Ja=function(){var t=this;0===this.za&&(this.Xa("Unknown"),this.Ha=this.ti.vs("online_state_timeout",1e4,(function(){return t.Ha=null,t.Za("Backend didn't respond within 10 seconds."),t.Xa("Offline"),Promise.resolve()})))},t.prototype.tu=function(t){"Online"===this.state?this.Xa("Unknown"):(this.za++,this.za>=1&&(this.eu(),this.Za("Connection failed 1 times. Most recent error: "+t.toString()),this.Xa("Offline")))},t.prototype.set=function(t){this.eu(),this.za=0,"Online"===t&&(this.Ya=!1),this.Xa(t)},t.prototype.Xa=function(t){t!==this.state&&(this.state=t,this.Ga(t))},t.prototype.Za=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ya?(d(e),this.Ya=!1):f("OnlineStateTracker",e)},t.prototype.eu=function(){null!==this.Ha&&(this.Ha.cancel(),this.Ha=null)},t}(),Li=function(){function t(t,e,n,r,o){var s=this;this.nu=t,this.su=e,this.ti=n,this.iu=[],this.ru=new Map,this.ou=null,this.hu=new Set,this.au=o,this.au.uu((function(t){n.hi((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?(f("RemoteStore","Restarting streams for network reachability change."),[4,this.lu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this._u=new Vi(n,r),this.fu=function(t,e,n){var r=m(t);return r.Wa(),new Di(e,r.da,r.credentials,r.serializer,n)}(this.su,n,{Na:this.du.bind(this),ba:this.wu.bind(this),ka:this.Tu.bind(this)}),this.Eu=function(t,e,n){var r=m(t);return r.Wa(),new Pi(e,r.da,r.credentials,r.serializer,n)}(this.su,n,{Na:this.Iu.bind(this),ba:this.mu.bind(this),Ba:this.Au.bind(this),qa:this.qa.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.hu.delete(0),this.Ru()},t.prototype.Ru=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?(this.Pu()?this.Vu():this._u.set("Unknown"),[4,this.gu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.hu.add(0),[4,this.yu()];case 1:return t.sent(),this._u.set("Offline"),[2]}}))}))},t.prototype.yu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Eu.stop()];case 1:return t.sent(),[4,this.fu.stop()];case 2:return t.sent(),this.iu.length>0&&(f("RemoteStore","Stopping write stream with "+this.iu.length+" pending writes"),this.iu=[]),this.pu(),[2]}}))}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.hu.add(5),[4,this.yu()];case 1:return t.sent(),this.au.th(),this._u.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.ru.has(t.targetId)||(this.ru.set(t.targetId,t),this.Pu()?this.Vu():this.fu.ma()&&this.bu(t))},t.prototype.vu=function(t){this.ru.delete(t),this.fu.ma()&&this.Su(t),0===this.ru.size&&(this.fu.ma()?this.fu.Pa():this.cu()&&this._u.set("Unknown"))},t.prototype.Me=function(t){return this.ru.get(t)||null},t.prototype.$e=function(t){return this.Du.$e(t)},t.prototype.bu=function(t){this.ou.de(t.targetId),this.fu.xa(t)},t.prototype.Su=function(t){this.ou.de(t),this.fu.$a(t)},t.prototype.Vu=function(){this.ou=new Ct(this),this.fu.start(),this._u.Ja()},t.prototype.Pu=function(){return this.cu()&&!this.fu.Ia()&&this.ru.size>0},t.prototype.cu=function(){return 0===this.hu.size},t.prototype.pu=function(){this.ou=null},t.prototype.du=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.ru.forEach((function(e,n){t.bu(e)})),[2]}))}))},t.prototype.wu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.pu(),this.Pu()?(this._u.tu(t),this.Vu()):this._u.set("Unknown"),[2]}))}))},t.prototype.Tu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this._u.set("Online"),!(t instanceof Et&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.Cu(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.Nu(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof _t?this.ou.Pe(t):t instanceof bt?this.ou.De(t):this.ou.ye(t),e.isEqual(P.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.nu.ro()];case 8:return r=i.sent(),e.o(r)>=0?[4,this.Fu(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.Nu(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.Nu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!Zn(t))throw t;return this.hu.add(1),[4,this.yu()];case 1:return r.sent(),this._u.set("Offline"),e||(e=function(){return n.nu.ro()}),this.ti.Vi((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.hu.delete(1),[4,this.Ru()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.ku=function(t){var e=this;return t().catch((function(n){return e.Nu(n,t)}))},t.prototype.Fu=function(t){var e=this,n=this.ou.Fe(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=e.ru.get(r);i&&e.ru.set(r,i.tt(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.ru.get(t);if(n){e.ru.set(t,n.tt(W.Y,n.X)),e.Su(t);var r=new Q(n.target,t,1,n.sequenceNumber);e.bu(r)}})),this.Du.Ch(n)},t.prototype.Cu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.ru.has(o=r[n])?[4,this.Du.xu(o,e)]:[3,3]:[3,5];case 2:i.sent(),this.ru.delete(o),this.ou.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.gu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:t=this.iu.length>0?this.iu[this.iu.length-1].batchId:-1,r.label=1;case 1:if(!this.$u())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.nu.xh(t)];case 3:return null===(e=r.sent())?(0===this.iu.length&&this.Eu.Pa(),[3,7]):(t=e.batchId,this.Mu(e),[3,6]);case 4:return n=r.sent(),[4,this.Nu(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Ou()&&this.Lu(),[2]}}))}))},t.prototype.$u=function(){return this.cu()&&this.iu.length<10},t.prototype.qu=function(){return this.iu.length},t.prototype.Mu=function(t){this.iu.push(t),this.Eu.ma()&&this.Eu.Oa&&this.Eu.La(t.mutations)},t.prototype.Ou=function(){return this.cu()&&!this.Eu.Ia()&&this.iu.length>0},t.prototype.Lu=function(){this.Eu.start()},t.prototype.Iu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Eu.Ua(),[2]}))}))},t.prototype.Au=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){for(t=0,e=this.iu;t<e.length;t++)this.Eu.La(e[t].mutations);return[2]}))}))},t.prototype.qa=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.iu.shift(),r=Un.from(n,t,e),[4,this.ku((function(){return o.Du.Bu(r)}))];case 1:return i.sent(),[4,this.gu()];case 2:return i.sent(),[2]}}))}))},t.prototype.mu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.Eu.Oa?[4,this.Uu(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Ou()&&this.Lu(),[2]}}))}))},t.prototype.Uu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return Z(n=t.code)&&n!==N.ABORTED?(e=this.iu.shift(),this.Eu.Ra(),[4,this.ku((function(){return r.Du.Qu(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.gu()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.lu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.hu.add(4),[4,this.yu()];case 1:return t.sent(),this._u.set("Unknown"),this.Eu.Ra(),this.fu.Ra(),this.hu.delete(4),[4,this.Ru()];case 2:return t.sent(),[2]}}))}))},t.prototype.Wu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ti.pi(),f("RemoteStore","RemoteStore received new credentials"),this.hu.add(3),[4,this.yu()];case 1:return e.sent(),this._u.set("Unknown"),[4,this.Du.Wu(t)];case 2:return e.sent(),this.hu.delete(3),[4,this.Ru()];case 3:return e.sent(),[2]}}))}))},t.prototype.ju=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t?(this.hu.delete(2),[4,this.Ru()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.hu.add(2),[4,this.yu()]);case 3:e.sent(),this._u.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function ji(t,e){return"firestore_clients_"+t+"_"+e}function Mi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function Ui(t,e){return"firestore_targets_"+t+"_"+e}var Fi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ku=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new k(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Gu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ku=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new k(r.error.code,r.error.message)),i?new t(e,r.state,o):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Gu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ku=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pt(),s=0;i&&s<r.activeTargetIds.length;++s)i=q(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ku=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hi=function(){function t(){this.activeTargetIds=pt()}return t.prototype.zu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Hu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Gu=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zi=function(){function t(t,e,n,r,i){this.window=t,this.Es=e,this.persistenceKey=n,this.Yu=r,this.Du=null,this.Ga=null,this._s=null,this.Ju=this.Xu.bind(this),this.Zu=new tt(b),this.tr=!1,this.tc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ec=ji(this.persistenceKey,this.Yu),this.nc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Zu=this.Zu.nt(this.Yu,new Hi),this.sc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.ic=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.rc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.oc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ju)}return t.Fs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Du.rh()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Yu&&(o=this.getItem(ji(this.persistenceKey,r)))&&(s=Bi.Ku(r,o))&&(this.Zu=this.Zu.nt(s.clientId,s));for(this.hc(),(a=this.storage.getItem(this.oc))&&(u=this.ac(a))&&this.uc(u),c=0,l=this.tc;c<l.length;c++)this.Xu(l[c]);return this.tc=[],this.window.addEventListener("unload",(function(){return h.th()})),this.tr=!0,[2]}}))}))},t.prototype.ws=function(t){this.setItem(this.nc,JSON.stringify(t))},t.prototype.cc=function(){return this.lc(this.Zu)},t.prototype._c=function(t){var e=!1;return this.Zu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.fc=function(t){this.dc(t,"pending")},t.prototype.wc=function(t,e,n){this.dc(t,e,n),this.Tc(t)},t.prototype.Ec=function(t){var e="not-current";if(this._c(t)){var n=this.storage.getItem(Ui(this.persistenceKey,t));if(n){var r=qi.Ku(t,n);r&&(e=r.state)}}return this.Ic.zu(t),this.hc(),e},t.prototype.mc=function(t){this.Ic.Hu(t),this.hc()},t.prototype.Ac=function(t){return this.Ic.activeTargetIds.has(t)},t.prototype.Rc=function(t){this.removeItem(Ui(this.persistenceKey,t))},t.prototype.Pc=function(t,e,n){this.Vc(t,e,n)},t.prototype.Vh=function(t,e,n){var r=this;e.forEach((function(t){r.Tc(t)})),this.currentUser=t,n.forEach((function(t){r.fc(t)}))},t.prototype.gc=function(t){this.yc(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.Ju),this.removeItem(this.ec),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Xu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ec)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Es.Vi((function(){return i.__awaiter(e,void 0,void 0,(function(){var t,e,r,o,s,a;return i.__generator(this,(function(i){if(this.tr){if(null!==n.key)if(this.sc.test(n.key)){if(null==n.newValue)return t=this.pc(n.key),[2,this.bc(t,null)];if(e=this.vc(n.key,n.newValue))return[2,this.bc(e.clientId,e)]}else if(this.ic.test(n.key)){if(null!==n.newValue&&(r=this.Sc(n.key,n.newValue)))return[2,this.Dc(r)]}else if(this.rc.test(n.key)){if(null!==n.newValue&&(o=this.Cc(n.key,n.newValue)))return[2,this.Nc(o)]}else if(n.key===this.oc){if(null!==n.newValue&&(s=this.ac(n.newValue)))return[2,this.uc(s)]}else n.key===this.nc&&(a=function(t){var e=$n.Ts;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==$n.Ts&&this._s(a)}else this.tc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ic",{get:function(){return this.Zu.get(this.Yu)},enumerable:!1,configurable:!0}),t.prototype.hc=function(){this.setItem(this.ec,this.Ic.Gu())},t.prototype.dc=function(t,e,n){var r=new Fi(this.currentUser,t,e,n),i=Mi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Gu())},t.prototype.Tc=function(t){var e=Mi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.yc=function(t){this.storage.setItem(this.oc,JSON.stringify({clientId:this.Yu,onlineState:t}))},t.prototype.Vc=function(t,e,n){var r=Ui(this.persistenceKey,t),i=new qi(t,e,n);this.setItem(r,i.Gu())},t.prototype.pc=function(t){var e=this.sc.exec(t);return e?e[1]:null},t.prototype.vc=function(t,e){var n=this.pc(t);return Bi.Ku(n,e)},t.prototype.Sc=function(t,e){var n=this.ic.exec(t),r=Number(n[1]);return Fi.Ku(new Si(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Cc=function(t,e){var n=this.rc.exec(t),r=Number(n[1]);return qi.Ku(r,e)},t.prototype.ac=function(t){return Gi.Ku(t)},t.prototype.Dc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Du.Fc(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Nc=function(t){return this.Du.kc(t.targetId,t.state,t.error)},t.prototype.bc=function(t,e){var n=this,r=e?this.Zu.nt(t,e):this.Zu.remove(t),i=this.lc(this.Zu),o=this.lc(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.Du.xc(s,a).then((function(){n.Zu=r}))},t.prototype.uc=function(t){this.Zu.get(t.clientId)&&this.Ga(t.onlineState)},t.prototype.lc=function(t){var e=pt();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),$i=function(){function t(){this.$c=new Hi,this.Mc={},this.Ga=null,this._s=null}return t.prototype.fc=function(t){},t.prototype.wc=function(t,e,n){},t.prototype.Ec=function(t){return this.$c.zu(t),this.Mc[t]||"not-current"},t.prototype.Pc=function(t,e,n){this.Mc[t]=e},t.prototype.mc=function(t){this.$c.Hu(t)},t.prototype.Ac=function(t){return this.$c.activeTargetIds.has(t)},t.prototype.Rc=function(t){delete this.Mc[t]},t.prototype.cc=function(){return this.$c.activeTargetIds},t.prototype._c=function(t){return this.$c.activeTargetIds.has(t)},t.prototype.start=function(){return this.$c=new Hi,Promise.resolve()},t.prototype.Vh=function(t,e,n){},t.prototype.gc=function(t){},t.prototype.th=function(){},t.prototype.ws=function(t){},t}(),Wi=function(t){this.key=t},Ki=function(t){this.key=t},Xi=function(){function t(t,e){this.query=t,this.Oc=e,this.Lc=null,this.Ht=!1,this.qc=ft(),this.Lt=ft(),this.Bc=bn(t),this.Uc=new gt(this.Bc)}return Object.defineProperty(t.prototype,"Qc",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Wc=function(t,e){var n=this,r=e?e.jc:new yt,i=e?e.Uc:this.Uc,o=e?e.Lt:this.Lt,s=i,a=!1,u=this.query.hn()&&i.size===this.query.limit?i.last():null,c=this.query.an()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var l=i.get(t),h=e instanceof rn?e:null;h&&(h=_n(n.query,h)?h:null);var f=!!l&&n.Lt.has(l.key),d=!!h&&(h.Ke||n.Lt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Kc(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Bc(h,u)>0||c&&n.Bc(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.hn()||this.query.an())for(;s.size>this.query.limit;){var l=this.query.hn()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Uc:s,jc:r,Gc:a,Lt:o}},t.prototype.Kc=function(t,e){return t.Ke&&e.hasCommittedMutations&&!e.Ke},t.prototype.Bn=function(t,e,n){var r=this,i=this.Uc;this.Uc=t.Uc,this.Lt=t.Lt;var o=t.jc.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||r.Bc(t.doc,e.doc)})),this.zc(n);var s=e?this.Hc():[],a=0===this.qc.size&&this.Ht?1:0,u=a!==this.Lc;return this.Lc=a,0!==o.length||u?{snapshot:new vt(this.query,t.Uc,i,o,t.Lt,0===a,u,!1),Yc:s}:{Yc:s}},t.prototype.Jc=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Bn({Uc:this.Uc,jc:new yt,Lt:this.Lt,Gc:!1},!1)):{Yc:[]}},t.prototype.Xc=function(t){return!this.Oc.has(t)&&!!this.Uc.has(t)&&!this.Uc.get(t).Ke},t.prototype.zc=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Oc=e.Oc.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Oc=e.Oc.delete(t)})),this.Ht=t.Ht)},t.prototype.Hc=function(){var t=this;if(!this.Ht)return[];var e=this.qc;this.qc=ft(),this.Uc.forEach((function(e){t.Xc(e.key)&&(t.qc=t.qc.add(e.key))}));var n=[];return e.forEach((function(e){t.qc.has(e)||n.push(new Ki(e))})),this.qc.forEach((function(t){e.has(t)||n.push(new Wi(t))})),n},t.prototype.Zc=function(t){this.Oc=t.qh,this.qc=ft();var e=this.Wc(t.documents);return this.Bn(e,!0)},t.prototype.tl=function(){return vt.Ut(this.query,this.Uc,this.Lt,0===this.Lc)},t}(),Qi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yi=function(t){this.key=t,this.el=!1},Zi=function(){function t(t,e,n,r,i,o){this.nu=t,this.nl=e,this.su=n,this.sl=r,this.currentUser=i,this.il=o,this.rl=null,this.ol=new O((function(t){return mn(t)}),vn),this.hl=new Map,this.al=[],this.ul=new tt(M.P),this.cl=new Map,this.ll=new Ii,this._l={},this.fl=new Map,this.dl=ai.eo(),this.onlineState="Unknown",this.wl=void 0}return Object.defineProperty(t.prototype,"Tl",{get:function(){return!0===this.wl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.rl=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.El("listen()"),(n=this.ol.get(t))?(this.sl.Ec(n.targetId),e=n.view.tl(),[3,4]):[3,1];case 1:return[4,this.nu.Mh(dn(t))];case 2:return r=i.sent(),o=this.sl.Ec(r.targetId),[4,this.Il(t,r.targetId,"current"===o)];case 3:e=i.sent(),this.Tl&&this.nl.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.Il=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.nu.Lh(t,!0)];case 1:return r=i.sent(),o=new Xi(t,r.qh),s=o.Wc(r.documents),a=wt.zt(e,n&&"Offline"!==this.onlineState),u=o.Bn(s,this.Tl,a),this.ml(e,u.Yc),c=new Qi(t,e,o),[2,(this.ol.set(t,c),this.hl.has(e)?this.hl.get(e).push(t):this.hl.set(e,[t]),u.snapshot)]}}))}))},t.prototype.vu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.El("unlisten()"),e=this.ol.get(t),(n=this.hl.get(e.targetId)).length>1?[2,(this.hl.set(e.targetId,n.filter((function(e){return!vn(e,t)}))),void this.ol.delete(t))]:this.Tl?(this.sl.mc(e.targetId),this.sl._c(e.targetId)?[3,2]:[4,this.nu.Oh(e.targetId,!1).then((function(){r.sl.Rc(e.targetId),r.nl.vu(e.targetId),r.Al(e.targetId)})).catch(Ei)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Al(e.targetId),[4,this.nu.Oh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.El("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.nu.bh(t)];case 2:return n=i.sent(),this.sl.fc(n.batchId),this.Rl(n.batchId,e),[4,this.Pl(n.Nn)];case 3:return i.sent(),[4,this.nl.gu()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=ur(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.Ch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.El("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.Ch(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.cl.get(e);r&&(v(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.el=!0:t.Jt.size>0?v(r.el):t.Xt.size>0&&(v(r.el),r.el=!1))})),[4,this.Pl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Ei(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Jc=function(t,e){if(this.Tl&&0===e||!this.Tl&&1===e){this.El("applyOnlineStateChange()");var n=[];this.ol.forEach((function(e,r){var i=r.view.Jc(t);i.snapshot&&n.push(i.snapshot)})),this.rl.Vl(t),this.rl.ka(n),this.onlineState=t,this.Tl&&this.sl.gc(t)}},t.prototype.xu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.El("rejectListens()"),this.sl.Pc(t,"rejected",e),n=this.cl.get(t),(r=n&&n.key)?(o=(o=new tt(M.P)).nt(r,new on(r,P.min())),s=ft().add(r),a=new mt(P.min(),new Map,new rt(b),o,s),[4,this.Ch(a)]):[3,2];case 1:return i.sent(),this.ul=this.ul.remove(r),this.cl.delete(t),this.gl(),[3,4];case 2:return[4,this.nu.Oh(t,!1).then((function(){return u.Al(t,e)})).catch(Ei)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.Bu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.El("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.vh(t)];case 2:return n=r.sent(),this.yl(e,null),this.pl(e),this.sl.wc(e,"acknowledged"),[4,this.Pl(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ei(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Qu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.El("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.Dh(t)];case 2:return n=r.sent(),this.yl(t,e),this.pl(t),this.sl.wc(t,"rejected",e),[4,this.Pl(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ei(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl.cu()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.nu.gr()];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.fl.get(e)||[]).push(t),this.fl.set(e,n),[3,4]);case 3:return r=i.sent(),o=ur(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.pl=function(t){(this.fl.get(t)||[]).forEach((function(t){t.resolve()})),this.fl.delete(t)},t.prototype.vl=function(t){this.fl.forEach((function(e){e.forEach((function(e){e.reject(new k(N.CANCELLED,t))}))})),this.fl.clear()},t.prototype.Rl=function(t,e){var n=this._l[this.currentUser.Xh()];n||(n=new tt(b)),n=n.nt(t,e),this._l[this.currentUser.Xh()]=n},t.prototype.yl=function(t,e){var n=this._l[this.currentUser.Xh()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this._l[this.currentUser.Xh()]=n}},t.prototype.Al=function(t,e){var n=this;void 0===e&&(e=null),this.sl.mc(t);for(var r=0,i=this.hl.get(t);r<i.length;r++){var o=i[r];this.ol.delete(o),e&&this.rl.Sl(o,e)}this.hl.delete(t),this.Tl&&this.ll.zh(t).forEach((function(t){n.ll.Nr(t)||n.Dl(t)}))},t.prototype.Dl=function(t){var e=this.ul.get(t);null!==e&&(this.nl.vu(e),this.ul=this.ul.remove(t),this.cl.delete(e),this.gl())},t.prototype.ml=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Wi?(this.ll.Eo(i.key,t),this.Cl(i)):i instanceof Ki?(f("SyncEngine","Document no longer in limbo: "+i.key),this.ll.mo(i.key,t),this.ll.Nr(i.key)||this.Dl(i.key)):y()}},t.prototype.Cl=function(t){var e=t.key;this.ul.get(e)||(f("SyncEngine","New document in limbo: "+e),this.al.push(e),this.gl())},t.prototype.gl=function(){for(;this.al.length>0&&this.ul.size<this.il;){var t=this.al.shift(),e=this.dl.next();this.cl.set(e,new Yi(t)),this.ul=this.ul.nt(t,e),this.nl.listen(new Q(dn(ln(t.path)),e,2,$n.Ts))}},t.prototype.Nl=function(){return this.ul},t.prototype.Fl=function(){return this.al},t.prototype.Pl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.ol.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.Wc(t);return e.Gc?s.nu.Lh(a.query,!1).then((function(t){return a.view.Wc(t.documents,e)})):e})).then((function(t){var i=e&&e.Qt.get(a.targetId),o=a.view.Bn(t,s.Tl,i);if(s.ml(a.targetId,o.Yc),o.snapshot){s.Tl&&s.sl.Pc(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=zn.ls(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.rl.ka(n),[4,this.nu.kh(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.El=function(t){},t.prototype.Wu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.Xh()),[4,this.nu.Vh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.vl("'waitForPendingWrites' promise is rejected due to a user change."),this.sl.Vh(t,e.yh,e.ph),[4,this.Pl(e.gh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.$e=function(t){var e=this.cl.get(t);if(e&&e.el)return ft().add(e.key);var n=ft(),r=this.hl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.ol.get(o[i]);n=n.Ct(s.view.Qc)}return n},t}();function Ji(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,(n=m(t)).nu.Lh(e.query,!0)];case 1:return r=i.sent(),o=e.view.Zc(r),[2,(n.Tl&&n.ml(e.targetId,o.Yc),o)]}}))}))}function to(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=m(t)).El("applyBatchState()"),[4,function(t,e){var n=m(t),r=m(n.Kn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Xn(t,e):Fn.resolve(null)}))}))}(o.nu,e)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,o.nl.gu()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(o.yl(e,r||null),function(t,e){m(m(t).Kn).Sr(e)}(o.nu,e)):y(),i.label=4;case 4:return[4,o.Pl(s)];case 5:return i.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function eo(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(t),!0!==e||!0===n.wl?[3,3]:(r=n.sl.cc(),[4,no(n,r.N())]);case 1:return o=i.sent(),n.wl=!0,[4,n.nl.ju(!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)n.nl.listen(a[s]);return[3,7];case 3:return!1!==e||!1===n.wl?[3,7]:(u=[],c=Promise.resolve(),n.hl.forEach((function(t,e){n.sl.Ac(e)?u.push(e):c=c.then((function(){return n.Al(e),n.nu.Oh(e,!0)})),n.nl.vu(e)})),[4,c]);case 4:return i.sent(),[4,no(n,u)];case 5:return i.sent(),function(t){var e=m(t);e.cl.forEach((function(t,n){e.nl.vu(n)})),e.ll.Hh(),e.cl=new Map,e.ul=new tt(M.P)}(n),n.wl=!1,[4,n.nl.ju(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function no(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,h,f,d,p,g;return i.__generator(this,(function(i){switch(i.label){case 0:n=m(t),r=[],o=[],s=0,a=e,i.label=1;case 1:return s<a.length?(c=void 0,(l=n.hl.get(u=a[s]))&&0!==l.length?[4,n.nu.Mh(dn(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=n.ol.get(f[h]),[4,Ji(n,d)]):[3,6];case 4:(p=i.sent()).snapshot&&o.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,bi(n.nu,u)];case 8:return g=i.sent(),[4,n.nu.Mh(g)];case 9:return c=i.sent(),[4,n.Il(ro(g),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.rl.ka(o),r)]}}))}))}function ro(t){return cn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function io(t){var e=m(t);return m(m(e.nu).persistence).rh()}function oo(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=m(t)).wl?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.hl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=m(t),n=m(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.mh)})).then((function(t){var n=t.Qr;return e.mh=t.readTime,n}))}(o.nu)];case 3:return s=i.sent(),a=mt.Gt(e,"current"===n),[4,o.Pl(s,a)];case 4:return i.sent(),[3,8];case 5:return[4,o.nu.Oh(e,!0)];case 6:return i.sent(),o.Al(e,r),[3,8];case 7:y(),i.label=8;case 8:return[2]}}))}))}function so(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c,l,h,d;return i.__generator(this,(function(p){switch(p.label){case 0:if(!(r=m(t)).wl)return[3,10];o=0,s=e,p.label=1;case 1:return o<s.length?r.hl.has(a=s[o])?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,bi(r.nu,a)]:[3,6];case 2:return u=p.sent(),[4,r.nu.Mh(u)];case 3:return c=p.sent(),[4,r.Il(ro(u),c.targetId,!1)];case 4:p.sent(),r.nl.listen(c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return r.hl.has(t)?[4,r.nu.Oh(t,!1).then((function(){r.nl.vu(t),r.Al(t)})).catch(Ei)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,p.label=7;case 7:return h<d.length?[5,l(d[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var ao=function(){this.kl=void 0,this.listeners=[]},uo=function(){function t(t){this.Du=t,this.xl=new O((function(t){return mn(t)}),vn),this.onlineState="Unknown",this.$l=new Set,this.Du.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.xl.get(e=t.query))||(n=!0,r=new ao),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.Du.listen(e)];case 2:return o.kl=i.sent(),[3,4];case 3:return s=i.sent(),a=ur(s,"Initialization of query '"+wn(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.xl.set(e,r),r.listeners.push(t),t.Jc(this.onlineState),r.kl&&t.Ml(r.kl)&&this.Ol(),[2]}}))}))},t.prototype.vu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.xl.get(e=t.query))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?[2,(this.xl.delete(e),this.Du.vu(e))]:[2]}))}))},t.prototype.ka=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.xl.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].Ml(i)&&(e=!0);o.kl=i}}e&&this.Ol()},t.prototype.Sl=function(t,e){var n=this.xl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.xl.delete(t)},t.prototype.Vl=function(t){this.onlineState=t;var e=!1;this.xl.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Jc(t)&&(e=!0)})),e&&this.Ol()},t.prototype.Ll=function(t){this.$l.add(t),t.next()},t.prototype.ql=function(t){this.$l.delete(t)},t.prototype.Ol=function(){this.$l.forEach((function(t){t.next()}))},t}(),co=function(){function t(t,e,n){this.query=t,this.Bl=e,this.Ul=!1,this.Ql=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ml=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vt(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.qt,!0)}var o=!1;return this.Ul?this.Wl(t)&&(this.Bl.next(t),o=!0):this.jl(t,this.onlineState)&&(this.Kl(t),o=!0),this.Ql=t,o},t.prototype.onError=function(t){this.Bl.error(t)},t.prototype.Jc=function(t){this.onlineState=t;var e=!1;return this.Ql&&!this.Ul&&this.jl(this.Ql,t)&&(this.Kl(this.Ql),e=!0),e},t.prototype.jl=function(t,e){return!t.fromCache||!(this.options.Gl&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.Wl=function(t){return t.docChanges.length>0||!!(t.qt||this.Ql&&this.Ql.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Kl=function(t){t=vt.Ut(t.query,t.docs,t.Lt,t.fromCache),this.Ul=!0,this.Bl.next(t)},t}(),lo=function(){function t(){}return t.prototype.Ph=function(t){this.zl=t},t.prototype.es=function(t,e,n,r){var i=this;return e.on()||n.isEqual(P.min())?this.Hl(t,e):this.zl.Xn(t,r).next((function(o){var a=i.Yl(e,o);return(e.hn()||e.an())&&i.Gc(e.en,a,r,n)?i.Hl(t,e):(h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wn(e)),i.zl.es(t,e,n).next((function(t){return a.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.Yl=function(t,e){var n=new rt(bn(t));return e.forEach((function(e,r){r instanceof rn&&_n(t,r)&&(n=n.add(r))})),n},t.prototype.Gc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Hl=function(t,e){return h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",wn(e)),this.zl.es(t,e,P.min())},t}(),ho=function(){function t(t,e){this.Gn=t,this.dr=e,this.Kn=[],this.Jl=1,this.Xl=new rt(Ci.Uh)}return t.prototype.Ir=function(t){return Fn.resolve(0===this.Kn.length)},t.prototype.mr=function(t,e,n,r){var i=this.Jl;this.Jl++;var o=new Mn(i,e,n,r);this.Kn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xl=this.Xl.add(new Ci(u.key,i)),this.Gn.Ar(t,u.key.path.p())}return Fn.resolve(o)},t.prototype.Rr=function(t,e){return Fn.resolve(this.Zl(e))},t.prototype.Vr=function(t,e){var n=this.t_(e+1),r=n<0?0:n;return Fn.resolve(this.Kn.length>r?this.Kn[r]:null)},t.prototype.gr=function(){return Fn.resolve(0===this.Kn.length?-1:this.Jl-1)},t.prototype.yr=function(t){return Fn.resolve(this.Kn.slice())},t.prototype.Hn=function(t,e){var n=this,r=new Ci(e,0),i=new Ci(e,Number.POSITIVE_INFINITY),o=[];return this.Xl.vt([r,i],(function(t){var e=n.Zl(t.Jh);o.push(e)})),Fn.resolve(o)},t.prototype.ts=function(t,e){var n=this,r=new rt(b);return e.forEach((function(t){var e=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY);n.Xl.vt([e,i],(function(t){r=r.add(t.Jh)}))})),Fn.resolve(this.e_(r))},t.prototype.hs=function(t,e){var n=e.path,r=n.length+1,i=n;M.W(i)||(i=i.child(""));var o=new Ci(new M(i),0),s=new rt(b);return this.Xl.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.Jh)),!0)}),o),Fn.resolve(this.e_(s))},t.prototype.e_=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;v(0===this.n_(e.batchId,"removed")),this.Kn.shift();var r=this.Xl;return Fn.forEach(e.mutations,(function(i){var o=new Ci(i.key,e.batchId);return r=r.delete(o),n.dr.Dr(t,i.key)})).next((function(){n.Xl=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new Ci(e,0),r=this.Xl.Dt(n);return Fn.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return Fn.resolve()},t.prototype.n_=function(t,e){return this.t_(t)},t.prototype.t_=function(t){return 0===this.Kn.length?0:t-this.Kn[0].batchId},t.prototype.Zl=function(t){var e=this.t_(t);return e<0||e>=this.Kn.length?null:this.Kn[e]},t}(),fo=function(){function t(t,e){this.Gn=t,this.s_=e,this.docs=new tt(M.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.s_(e);return this.docs=this.docs.nt(r,{Mr:e,size:s,readTime:n}),this.size+=s-o,this.Gn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.On=function(t,e){var n=this.docs.get(e);return Fn.resolve(n?n.Mr:null)},t.prototype.getEntries=function(t,e){var n=this,r=at();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Mr:null)})),Fn.resolve(r)},t.prototype.es=function(t,e,n){for(var r=ct(),i=new M(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.value,u=a.Mr,c=a.readTime;if(!e.path.D(s.key.path))break;c.o(n)<=0||u instanceof rn&&_n(e,u)&&(r=r.nt(u.key,u))}return Fn.resolve(r)},t.prototype.i_=function(t,e){return Fn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return Fn.resolve(this.size)},t}();fo.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return i.__extends(e,t),e.prototype.Bn=function(t){var e=this,n=[];return this.Nn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),Fn.Dn(n)},e.prototype.Ln=function(t,e){return this.Hr.On(t,e)},e.prototype.qn=function(t,e){return this.Hr.getEntries(t,e)},e}(qn);var po=function(){function t(t){this.persistence=t,this.r_=new O((function(t){return H(t)}),z),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.o_=0,this.h_=new Ii,this.targetCount=0,this.a_=ai.to()}return t.prototype.pe=function(t,e){return this.r_.forEach((function(t,n){return e(n)})),Fn.resolve()},t.prototype.ro=function(t){return Fn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return Fn.resolve(this.o_)},t.prototype.no=function(t){return this.highestTargetId=this.a_.next(),Fn.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.o_&&(this.o_=e),Fn.resolve()},t.prototype.uo=function(t){this.r_.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.a_=new ai(e),this.highestTargetId=e),t.sequenceNumber>this.o_&&(this.o_=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.uo(e),this.targetCount+=1,Fn.resolve()},t.prototype.lo=function(t,e){return this.uo(e),Fn.resolve()},t.prototype._o=function(t,e){return this.r_.delete(e.target),this.h_.zh(e.targetId),this.targetCount-=1,Fn.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return this.r_.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.r_.delete(s),o.push(r.fo(t,a.targetId)),i++)})),Fn.Dn(o).next((function(){return i}))},t.prototype.do=function(t){return Fn.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.r_.get(e)||null;return Fn.resolve(n)},t.prototype.To=function(t,e,n){return this.h_.jh(e,n),Fn.resolve()},t.prototype.Io=function(t,e,n){this.h_.Gh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),Fn.Dn(i)},t.prototype.fo=function(t,e){return this.h_.zh(e),Fn.resolve()},t.prototype.Ao=function(t,e){var n=this.h_.Yh(e);return Fn.resolve(n)},t.prototype.Nr=function(t,e){return Fn.resolve(this.h_.Nr(e))},t}(),go=function(){function t(t){var e=this;this.u_={},this.yo=new $n(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new po(this),this.Gn=new Fr,this.jn=new fo(this.Gn,(function(t){return e.dr.c_(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.Gn},t.prototype.oh=function(t){var e=this.u_[t.Xh()];return e||(e=new ho(this.Gn,this.dr),this.u_[t.Xh()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new yo(this.yo.next());return this.dr.l_(),n(i).next((function(t){return r.dr.__(i).next((function(){return t}))})).vn().then((function(t){return i.Wn(),t}))},t.prototype.f_=function(t,e){return Fn.Cn(Object.values(this.u_).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return i.__extends(e,t),e}(Gn),vo=function(){function t(t){this.persistence=t,this.d_=new Ii,this.w_=null}return t.T_=function(e){return new t(e)},Object.defineProperty(t.prototype,"E_",{get:function(){if(this.w_)return this.w_;throw y()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.d_.Eo(n,e),this.E_.delete(n),Fn.resolve()},t.prototype.mo=function(t,e,n){return this.d_.mo(n,e),this.E_.add(n),Fn.resolve()},t.prototype.Dr=function(t,e){return this.E_.add(e),Fn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.d_.zh(e.targetId).forEach((function(t){return n.E_.add(t)}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.E_.add(t)}))})).next((function(){return r._o(t,e)}))},t.prototype.l_=function(){this.w_=new Set},t.prototype.__=function(t){var e=this,n=this.persistence.ah().jr();return Fn.forEach(this.E_,(function(r){return e.I_(t,r).next((function(t){t||n.Mn(r)}))})).next((function(){return e.w_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.I_(t,e).next((function(t){t?n.E_.delete(e):n.E_.add(e)}))},t.prototype.c_=function(t){return 0},t.prototype.I_=function(t,e){var n=this;return Fn.Cn([function(){return Fn.resolve(n.d_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.f_(t,e)}])},t}(),mo=function(){function t(t){this.m_=t.m_,this.A_=t.A_}return t.prototype.Na=function(t){this.R_=t},t.prototype.ba=function(t){this.P_=t},t.prototype.onMessage=function(t){this.V_=t},t.prototype.close=function(){this.A_()},t.prototype.send=function(t){this.m_(t)},t.prototype.g_=function(){this.R_()},t.prototype.y_=function(t){this.P_(t)},t.prototype.p_=function(t){this.V_(t)},t}(),wo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_o=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return i.__extends(e,t),e.prototype.N_=function(t,e,n,r){return new Promise((function(i,o){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case u.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),o(new k(N.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(N).indexOf(e)>=0?e:N.UNKNOWN}(r.status);o(new k(a,r.message))}else o(new k(N.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new k(N.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Fa=function(t,e){var n=[this.v_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.C_(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),c=!1,l=!1,h=new mo({m_:function(t){l?f("Connection","Not sending because WebChannel is closed:",t):(c||(f("Connection","Opening WebChannel transport."),s.open(),c=!0),f("Connection","WebChannel sending:",t),s.send(t))},A_:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){l||f("Connection","WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,f("Connection","WebChannel transport closed"),h.y_())})),d(u.WebChannel.EventType.ERROR,(function(t){l||(l=!0,p("Connection","WebChannel transport errored:",t),h.y_(new k(N.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];v(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){f("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=K[t];if(void 0!==e)return J(e)}(i),a=r.message;void 0===o&&(o=N.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.y_(new k(o,a)),s.close()}else f("Connection","WebChannel received:",n),h.p_(n)}})),setTimeout((function(){h.g_()}),0),h},e}(function(){function t(t){this.b_=t,this.s=t.s,this.v_=(t.ssl?"https":"http")+"://"+t.host,this.S_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.ja=function(t,e,n,r){var i=this.D_(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.C_(o,r),this.N_(t,i,o,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ka=function(t,e,n,r){return this.ja(t,e,n,r)},t.prototype.C_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.18.0",t["Content-Type"]="text/plain",e)for(var n in e.ea)e.ea.hasOwnProperty(n)&&(t[n]=e.ea[n])},t.prototype.D_=function(t,e){return this.v_+"/v1/"+e+":"+wo[t]},t}()),bo=function(){function t(){var t=this;this.F_=function(){return t.k_()},this.x_=function(){return t.M_()},this.O_=[],this.L_()}return t.prototype.uu=function(t){this.O_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.F_),window.removeEventListener("offline",this.x_)},t.prototype.L_=function(){window.addEventListener("online",this.F_),window.addEventListener("offline",this.x_)},t.prototype.k_=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.O_;t<e.length;t++)(0,e[t])(0)},t.prototype.M_=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.O_;t<e.length;t++)(0,e[t])(1)},t.Fs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Eo=function(){function t(){}return t.prototype.uu=function(t){},t.prototype.th=function(){},t}();function Io(t){return new Wt(t,!0)}var Co="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",So=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.sl=this.q_(t),this.persistence=this.B_(t),[4,this.persistence.start()];case 1:return e.sent(),this.U_=this.Q_(t),this.nu=this.W_(t),[2]}}))}))},t.prototype.Q_=function(t){return null},t.prototype.W_=function(t){return e=this.persistence,n=new lo,new _i(e,n,t.j_);var e,n},t.prototype.B_=function(t){if(t.G_.K_)throw new k(N.FAILED_PRECONDITION,Co);return new go(vo.T_)},t.prototype.q_=function(t){return new $i},t.prototype.terminate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.U_&&this.U_.stop(),[4,this.sl.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new k(N.FAILED_PRECONDITION,Co)},t}(),To=function(t){function e(e){var n=this;return(n=t.call(this)||this).z_=e,n}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,this.z_.initialize(this,e)];case 2:return o.sent(),n=this.z_.Du,this.sl instanceof zi?(this.sl.Du={Fc:to.bind(null,n),kc:oo.bind(null,n),xc:so.bind(null,n),rh:io.bind(null,n)},[4,this.sl.start()]):[3,4];case 3:o.sent(),o.label=4;case 4:return[4,this.persistence.qo((function(t){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,eo(this.z_.Du,t)];case 1:return e.sent(),this.U_&&(t&&!this.U_.tr?this.U_.start(this.nu):t||this.U_.stop()),[2]}}))}))}))];case 5:return o.sent(),[2]}}))}))},e.prototype.q_=function(t){if(t.G_.K_&&t.G_.synchronizeTabs){var e=ir();if(!zi.Fs(e))throw new k(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wi(t.b_.s,t.b_.persistenceKey);return new zi(e,t.ti,n,t.clientId,t.j_)}return new $i},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){return e=m(t),n=m(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.mh=t}))]}))}))}(this.nu)];case 2:return n.sent(),[2]}}))}))},e.prototype.Q_=function(t){return new dr(this.persistence.dr.Yi,t.ti)},e.prototype.B_=function(t){var e=wi(t.b_.s,t.b_.persistenceKey),n=Io(t.b_.s);return new pi(t.G_.synchronizeTabs,e,t.clientId,fr.Ui(t.G_.cacheSizeBytes),t.ti,ir(),or(),n,this.sl,t.G_.Vo)},e.prototype.q_=function(t){return new $i},e.prototype.clearPersistence=function(t,e){return function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return Xn.Fs()?[4,Xn.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(wi(t,e))},e}(So)),Ao=function(){function t(){}return t.prototype.initialize=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.nu?[3,3]:(this.nu=t.nu,this.sl=t.sl,this.su=this.H_(e),this.nl=this.Y_(e),this.Du=this.J_(e),this.X_=this.Z_(e),this.sl.Ga=function(t){return n.Du.Jc(t,1)},this.nl.Du=this.Du,[4,this.nl.start()]);case 1:return r.sent(),[4,this.nl.ju(this.Du.Tl)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.Z_=function(t){return new uo(this.Du)},t.prototype.H_=function(t){var e=Io(t.b_.s),n=new _o(t.b_);return function(t,e,n){return new Ri(t,e,n)}(t.credentials,n,e)},t.prototype.Y_=function(t){var e=this;return new Li(this.nu,this.su,t.ti,(function(t){return e.Du.Jc(t,0)}),bo.Fs()?new bo:new Eo)},t.prototype.J_=function(t){return function(t,e,n,r,i,o,s){var a=new Zi(t,e,n,r,i,o);return s&&(a.wl=!0),a}(this.nu,this.nl,this.su,this.sl,t.j_,t.il,!t.G_.K_||!t.G_.synchronizeTabs)},t.prototype.terminate=function(){return this.nl.th()},t}();function xo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Oo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.tf(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.tf(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.ef=function(){this.muted=!0},t.prototype.tf=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function No(t,e){if(0!==e.length)throw new k(N.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Ko(e.length,"argument")+".")}function ko(t,e,n){if(e.length!==n)throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires "+Ko(n,"argument")+", but was called with "+Ko(e.length,"argument")+".")}function Do(t,e,n){if(e.length<n)throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Ko(n,"argument")+", but was called with "+Ko(e.length,"argument")+".")}function Po(t,e,n,r){if(e.length<n||e.length>r)throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Ko(e.length,"argument")+".")}function Ro(t,e,n,r){Fo(t,e,Wo(n)+" argument",r)}function Vo(t,e,n,r){void 0!==r&&Ro(t,e,n,r)}function Lo(t,e,n,r){Fo(t,e,n+" option",r)}function jo(t,e,n,r){void 0!==r&&Lo(t,e,n,r)}function Mo(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Bo(u))}var c=Bo(r);throw new k(N.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Uo(t,e,n,r){if(!e.some((function(t){return t===r})))throw new k(N.INVALID_ARGUMENT,"Invalid value "+Bo(r)+" provided to function "+t+"() for its "+Wo(n)+" argument. Acceptable values: "+e.join(", "));return r}function Fo(t,e,n,r){if(!("object"===e?qo(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Bo(r);throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function qo(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Bo(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function Go(t,e,n){if(void 0===n)throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Wo(e)+" argument, but it was undefined.")}function Ho(t,e,n){A(e,(function(e,r){if(n.indexOf(e)<0)throw new k(N.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function zo(t,e,n,r){var i=Bo(r);return new k(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+Wo(n)+" argument to be a "+e+", but it was: "+i)}function $o(t,e,n){if(n<=0)throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+Wo(e)+" argument to be a positive number, but it was: "+n+".")}function Wo(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Ko(t,e){return t+" "+e+(1===t?"":"s")}function Xo(){if("undefined"==typeof Uint8Array)throw new k(N.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qo(){if("undefined"==typeof atob)throw new k(N.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yo=function(){function t(t){Qo(),this.nf=t}return t.fromBase64String=function(e){ko("Blob.fromBase64String",arguments,1),Ro("Blob.fromBase64String","string",1,e),Qo();try{return new t(W.fromBase64String(e))}catch(e){throw new k(N.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(ko("Blob.fromUint8Array",arguments,1),Xo(),!(e instanceof Uint8Array))throw zo("Blob.fromUint8Array","Uint8Array",1,e);return new t(W.fromUint8Array(e))},t.prototype.toBase64=function(){return ko("Blob.toBase64",arguments,0),Qo(),this.nf.toBase64()},t.prototype.toUint8Array=function(){return ko("Blob.toUint8Array",arguments,0),Xo(),this.nf.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.nf.isEqual(t.nf)},t}(),Zo=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new k(N.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Ko(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Ro("FieldPath","string",e,t[e]),0===t[e].length)throw new k(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.sf=new j(t)},Jo=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return new e(j.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw zo("isEqual","FieldPath",1,t);return this.sf.isEqual(t.sf)},e}(Zo),ts=new RegExp("[~\\*/\\[\\]]"),es=function(){this.if=this},ns=function(t){function e(e){var n=this;return(n=t.call(this)||this).rf=e,n}return i.__extends(e,t),e.prototype.hf=function(t){if(2!==t.af)throw t.uf(1===t.af?this.rf+"() can only appear at the top level of your update data":this.rf+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(es);function rs(t,e,n){return new ys({af:3,cf:e.settings.cf,methodName:t.rf,lf:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var is=function(t){function e(e){var n=this;return(n=t.call(this)||this).rf=e,n}return i.__extends(e,t),e.prototype.hf=function(t){return new Ve(t.path,new Te)},e.prototype.isEqual=function(t){return t instanceof e},e}(es),os=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r._f=n,r}return i.__extends(e,t),e.prototype.hf=function(t){var e=rs(this,t,!0),n=this._f.map((function(t){return Es(t,e)})),r=new Ae(n);return new Ve(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(es),ss=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r._f=n,r}return i.__extends(e,t),e.prototype.hf=function(t){var e=rs(this,t,!0),n=this._f.map((function(t){return Es(t,e)})),r=new Oe(n);return new Ve(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(es),as=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.ff=n,r}return i.__extends(e,t),e.prototype.hf=function(t){var e=new ke(t.serializer,Qt(t.serializer,this.ff));return new Ve(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(es),us=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.delete=function(){return No("FieldValue.delete",arguments),new cs(new ns("FieldValue.delete"))},e.serverTimestamp=function(){return No("FieldValue.serverTimestamp",arguments),new cs(new is("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Do("FieldValue.arrayUnion",arguments,1),new cs(new os("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Do("FieldValue.arrayRemove",arguments,1),new cs(new ss("FieldValue.arrayRemove",t))},e.increment=function(t){return Ro("FieldValue.increment","number",1,t),ko("FieldValue.increment",arguments,1),new cs(new as("FieldValue.increment",t))},e}(es),cs=function(t){function e(e){var n=this;return(n=t.call(this)||this).if=e,n.rf=e.rf,n}return i.__extends(e,t),e.prototype.hf=function(t){return this.if.hf(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.if.isEqual(t.if)},e}(us),ls=function(){function t(t,e){if(ko("GeoPoint",arguments,2),Ro("GeoPoint","number",1,t),Ro("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new k(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new k(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.df=t,this.wf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.wf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.df===t.df&&this.wf===t.wf},t.prototype.T=function(t){return b(this.df,t.df)||b(this.wf,t.wf)},t}(),hs=/^__.*__$/,fs=function(t,e,n){this.Tf=t,this.Ef=e,this.If=n},ds=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.mf=function(t,e){var n=[];return n.push(null!==this.Le?new $e(t,this.data,this.Le,e):new ze(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ke(t,this.fieldTransforms)),n},t}(),ps=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.mf=function(t,e){var n=[new $e(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new Ke(t,this.fieldTransforms)),n},t}();function gs(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var ys=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Af(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.settings.af},enumerable:!1,configurable:!0}),t.prototype.Rf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.Pf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Rf({path:n,lf:!1});return r.Vf(t),r},t.prototype.gf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Rf({path:n,lf:!1});return r.Af(),r},t.prototype.yf=function(t){return this.Rf({path:void 0,lf:!0})},t.prototype.uf=function(t){return xs(t,this.settings.methodName,this.settings.pf||!1,this.path,this.settings.cf)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.Af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Vf(this.path.get(t))},t.prototype.Vf=function(t){if(0===t.length)throw this.uf("Document fields must not be empty");if(gs(this.af)&&hs.test(t))throw this.uf('Document fields cannot begin and end with "__"')},t}(),vs=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Io(t)}return t.prototype.bf=function(t,e,n,r){return void 0===r&&(r=!1),new ys({af:t,methodName:e,cf:n,path:j.$(),lf:!1,pf:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function ms(t,e,n,r,i,o){void 0===o&&(o={});var s=t.bf(o.merge||o.mergeFields?2:0,e,n,i);Ss("Data must be an object, but it was:",s,r);var a,u,c=Is(r,s);if(o.merge)a=new Re(s.Le),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof Zo)p=d.sf;else{if("string"!=typeof d)throw y();p=As(e,d,n)}if(!s.contains(p))throw new k(N.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Os(l,p)||l.push(p)}a=new Re(l),u=s.fieldTransforms.filter((function(t){return a.je(t.field)}))}else a=null,u=s.fieldTransforms;return new ds(new Je(c),a,u)}function ws(t,e,n,r){var i=t.bf(1,e,n);Ss("Data must be an object, but it was:",i,r);var o=[],s=new tn;A(r,(function(t,r){var a=As(e,t,n),u=i.gf(a);if(r instanceof es&&r.if instanceof ns)o.push(a);else{var c=Es(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Re(o);return new ps(s.Ge(),a,i.fieldTransforms)}function _s(t,e,n,r,i,o){var s=t.bf(1,e,n),a=[Ts(e,r,n)],u=[i];if(o.length%2!=0)throw new k(N.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ts(e,o[c])),u.push(o[c+1]);for(var l=[],h=new tn,f=a.length-1;f>=0;--f)if(!Os(l,a[f])){var d=a[f],p=u[f],g=s.gf(d);if(p instanceof es&&p.if instanceof ns)l.push(d);else{var y=Es(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new Re(l);return new ps(h.Ge(),v,s.fieldTransforms)}function bs(t,e,n,r){return void 0===r&&(r=!1),Es(n,t.bf(r?4:3,e))}function Es(t,e){if(Cs(t))return Ss("Unsupported field value:",e,t),Is(t,e);if(t instanceof es)return function(t,e){if(!gs(e.af))throw e.uf(t.rf+"() can only be used with update() and set()");if(!e.path)throw e.uf(t.rf+"() is not currently supported inside arrays");var n=t.hf(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.lf&&4!==e.af)throw e.uf("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Es(o[i],e.yf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=D.fromDate(t);return{timestampValue:Yt(e.serializer,n)}}if(t instanceof D){var r=new D(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yt(e.serializer,r)}}if(t instanceof ls)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yo)return{bytesValue:Zt(e.serializer,t)};if(t instanceof fs){var i=e.s,o=t.Tf;if(!o.isEqual(i))throw e.uf("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.Tf||e.s,t.Ef.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.uf("Unsupported field value: "+Bo(t))}(t,e)}function Is(t,e){var n={};return x(t)?e.path&&e.path.length>0&&e.Le.push(e.path):A(t,(function(t,r){var i=Es(r,e.Pf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Cs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof D||t instanceof ls||t instanceof Yo||t instanceof fs||t instanceof es)}function Ss(t,e,n){if(!Cs(n)||!qo(n)){var r=Bo(n);throw e.uf("an object"===r?t+" a custom object":t+" "+r)}}function Ts(t,e,n){if(e instanceof Zo)return e.sf;if("string"==typeof e)return As(t,e);throw xs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function As(t,e,n){try{return function(t){if(t.search(ts)>=0)throw new k(N.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Jo.bind.apply(Jo,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new k(N.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).sf}catch(e){throw xs((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function xs(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new k(N.INVALID_ARGUMENT,(a+=". ")+t+u)}function Os(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ns=function(){function t(t){this.su=t,this.vf=new Map,this.mutations=[],this.Sf=!1,this.Df=null,this.Cf=new Set}return t.prototype.Nf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.Ff(),this.mutations.length>0)throw new k(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(t),r=ae(n.serializer)+"/documents",o={documents:e.map((function(t){return re(n.serializer,t)}))},[4,n.Ka("BatchGetDocuments",r,o)];case 1:return s=i.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){v(!!e.found);var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new Je({mapValue:{fields:e.found.fields}});return new rn(n,r,i,{})}(t,e):"missing"in e?function(t,e){v(!!e.missing),v(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new on(n,r)}(t,e):y()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());v(!!e),u.push(e)})),u)]}}))}))}(this.su,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof on||t instanceof rn?n.kf(t):y()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.mf(t,this.Ue(t))),this.Cf.add(t)},t.prototype.update=function(t,e){try{this.write(e.mf(t,this.xf(t)))}catch(t){this.Df=t}this.Cf.add(t)},t.prototype.delete=function(t){this.write([new Ye(t,this.Ue(t))]),this.Cf.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.Ff(),this.Df)throw this.Df;return t=this.vf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new M(V.k(n));e.mutations.push(new Ze(r,e.Ue(r)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(t),r=ae(n.serializer)+"/documents",o={writes:e.map((function(t){return le(n.serializer,t)}))},[4,n.ja("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.su,this.mutations)];case 1:return n.sent(),this.Sf=!0,[2]}}))}))},t.prototype.kf=function(t){var e;if(t instanceof rn)e=t.version;else{if(!(t instanceof on))throw y();e=P.min()}var n=this.vf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new k(N.ABORTED,"Document version changed between two reads.")}else this.vf.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.vf.get(t.toString());return!this.Cf.has(t)&&e?je.updateTime(e):je.Qe()},t.prototype.xf=function(t){var e=this.vf.get(t.toString());if(!this.Cf.has(t)&&e){if(e.isEqual(P.min()))throw new k(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(e)}return je.exists(!0)},t.prototype.write=function(t){this.Ff(),this.mutations=this.mutations.concat(t)},t.prototype.Ff=function(){},t}(),ks=function(){function t(t,e,n,r){this.ti=t,this.su=e,this.updateFunction=n,this.si=r,this.$f=5,this.wi=new Kn(this.ti,"transaction_retry")}return t.prototype.run=function(){this.Mf()},t.prototype.Mf=function(){var t=this;this.wi.ps((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=new Ns(this.su),(e=this.Of(t))&&e.then((function(e){n.ti.hi((function(){return t.commit().then((function(){n.si.resolve(e)})).catch((function(t){n.Lf(t)}))}))})).catch((function(t){n.Lf(t)})),[2]}))}))}))},t.prototype.Of=function(t){try{var e=this.updateFunction(t);return!U(e)&&e.catch&&e.then?e:(this.si.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.si.reject(t),null}},t.prototype.Lf=function(t){var e=this;this.$f>0&&this.qf(t)?(this.$f-=1,this.ti.hi((function(){return e.Mf(),Promise.resolve()}))):this.si.reject(t)},t.prototype.qf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Z(e)}return!1},t}(),Ds=function(){function t(t,e){this.credentials=t,this.ti=e,this.clientId=_.t(),this.Bf=new Wn}return t.prototype.start=function(t,e,n,r){var i=this;this.Uf(),this.b_=t;var o=new Wn,s=!1;return this.credentials.ia((function(t){if(!s)return s=!0,f("FirestoreClient","Initializing. user=",t.uid),i.Qf(e,n,r,t,o).then(i.Bf.resolve,i.Bf.reject);i.ti.Vi((function(){return i.nl.Wu(t)}))})),this.ti.hi((function(){return i.Bf.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Uf(),this.ti.enqueue((function(){return t.persistence.Uo(!0),t.nl.enableNetwork()}))},t.prototype.Qf=function(t,e,n,r,o){return i.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return i.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(s={ti:this.ti,b_:this.b_,clientId:this.clientId,credentials:this.credentials,j_:r,il:100,G_:n})];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.sl=t.sl,this.nu=t.nu,this.U_=t.U_,this.su=e.su,this.nl=e.nl,this.Du=e.Du,this.Wf=e.X_,this.persistence.Bo((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.jf(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Qf(new So,new Ao,{K_:!1},r,o))];case 4:return[2]}}))}))},t.prototype.jf=function(t){return"FirebaseError"===t.name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Uf=function(){if(this.ti.Ei)throw new k(N.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Uf(),this.ti.enqueue((function(){return t.persistence.Uo(!1),t.nl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.ti.Pi((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.U_&&this.U_.stop(),[4,this.nl.th()];case 1:return t.sent(),[4,this.sl.th()];case 2:return t.sent(),[4,this.persistence.th()];case 3:return t.sent(),this.credentials.ra(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Uf();var e=new Wn;return this.ti.hi((function(){return t.Du.bl(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Uf();var i=new Oo(n),o=new co(t,i,e);return this.ti.hi((function(){return r.Wf.listen(o)})),function(){i.ef(),r.ti.hi((function(){return r.Wf.vu(o)}))}},t.prototype.Kf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(s){switch(s.label){case 0:return r=new Wn,[4,t.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var t,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.$h(n)];case 1:return(t=i.sent())instanceof rn?r.resolve(t):t instanceof on?r.resolve(null):r.reject(new k(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=i.sent(),s=ur(o,"Failed to get document '"+n+" from cache"),r.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),r.promise)]}}))}))}(this.ti,this.nu,t))]}}))}))},t.prototype.Gf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Wn,o=Ps(t,e,ln(n.path),{includeMetadataChanges:!0,Gl:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new k(N.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new k(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ti,this.Wf,t,e))]}}))}))},t.prototype.zf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(s){switch(s.label){case 0:return r=new Wn,[4,t.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var t,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.Lh(n,!0)];case 1:return t=i.sent(),o=new Xi(n,t.qh),s=o.Wc(t.documents),a=o.Bn(s,!1),r.resolve(a.snapshot),[3,3];case 2:return u=i.sent(),c=ur(u,"Failed to execute query '"+n+" against cache"),r.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),r.promise)]}}))}))}(this.ti,this.nu,t))]}}))}))},t.prototype.Hf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Wn,o=Ps(t,e,n,{includeMetadataChanges:!0,Gl:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new k(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ti,this.Wf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Uf();var n=new Wn;return this.ti.hi((function(){return e.Du.write(t,n)})),n.promise},t.prototype.s=function(){return this.b_.s},t.prototype.Ll=function(t){var e=this;this.Uf();var n=new Oo(t);return this.ti.hi((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Wf.Ll(n)]}))}))})),function(){n.ef(),e.ti.hi((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Wf.ql(n)]}))}))}))}},Object.defineProperty(t.prototype,"Yf",{get:function(){return this.ti.Ei},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Uf();var n=new Wn;return this.ti.hi((function(){return new ks(e.ti,e.su,t,n).run(),Promise.resolve()})),n.promise},t}();function Ps(t,e,n,r,i){var o=new Oo(i),s=new co(n,o,r);return t.hi((function(){return e.listen(s)})),function(){o.ef(),t.hi((function(){return e.vu(s)}))}}var Rs=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Jf=n,this.Xf=r}return t.prototype.Zf=function(t){switch(Nt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.td(t.timestampValue);case 4:return this.ed(t);case 5:return t.stringValue;case 6:return new Yo(Mt(t.bytesValue));case 7:return this.nd(t.referenceValue);case 8:return this.sd(t.geoPointValue);case 9:return this.rd(t.arrayValue);case 10:return this.od(t.mapValue);default:throw y()}},t.prototype.od=function(t){var e=this,n={};return A(t.fields||{},(function(t,r){n[t]=e.Zf(r)})),n},t.prototype.sd=function(t){return new ls(jt(t.latitude),jt(t.longitude))},t.prototype.rd=function(t){var e=this;return(t.values||[]).map((function(t){return e.Zf(t)}))},t.prototype.ed=function(t){switch(this.Jf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return At(n)?t(n):n}(t);return null==e?null:this.Zf(e);case"estimate":return this.td(xt(t));default:return null}},t.prototype.td=function(t){var e=Lt(t),n=new D(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nd=function(t){var e=V.k(t);v(be(e));var n=new S(e.get(1),e.get(3)),r=new M(e.g(5));return n.isEqual(this.s)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Xf(r)},t}(),Vs=fr.ji,Ls=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new k(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Lo("settings","non-empty string","host",t.host),this.host=t.host,jo("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Ho("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),jo("settings","object","credentials",t.credentials),this.credentials=t.credentials,jo("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),jo("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?d("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&d("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,jo("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=fr.Gi;else{if(t.cacheSizeBytes!==Vs&&t.cacheSizeBytes<fr.Ki)throw new k(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+fr.Ki);this.cacheSizeBytes=t.cacheSizeBytes}jo("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),js=function(){function t(e,n,r,o){var s=this;if(void 0===r&&(r=new So),void 0===o&&(o=new Ao),this.hd=r,this.ad=o,this.ud=null,this.ld=new ar,this.INTERNAL={delete:function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this._d(),[4,this.fd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.ud=a,this.Tf=t.dd(a),this.wd=a.name,this.Td=new xi(n)}else{var u=e;if(!u.projectId)throw new k(N.INVALID_ARGUMENT,"Must provide projectId");this.Tf=new S(u.projectId,u.database),this.wd="[DEFAULT]",this.Td=new Ai}this.Ed=new Ls({})}return Object.defineProperty(t.prototype,"Id",{get:function(){return this.md||(this.md=new vs(this.Tf,this.Ed.ignoreUndefinedProperties)),this.md},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){ko("Firestore.settings",arguments,1),Ro("Firestore.settings","object",1,t);var e=new Ls(t);if(this.fd&&!this.Ed.isEqual(e))throw new k(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Ed=e,void 0!==e.credentials&&(this.Td=function(t){if(!t)return new Ai;switch(t.type){case"gapi":var e=t.Ad;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ni(e,t.la||"0");case"provider":return t.Ad;default:throw new k(N.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this._d(),this.fd.enableNetwork()},t.prototype.disableNetwork=function(){return this._d(),this.fd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.fd)throw new k(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&d("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new k(N.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Rd(this.hd,this.ad,{K_:!0,cacheSizeBytes:this.Ed.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.fd&&!this.fd.Yf)throw new k(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Wn,[2,(this.ld.Ii((function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hd.clearPersistence(this.Tf,this.wd)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Pd",{get:function(){return this._d(),this.fd.Yf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this._d(),this.fd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this._d(),xo(t)?this.fd.Ll(t):(Ro("Firestore.onSnapshotsInSync","function",1,t),this.fd.Ll({next:t}))},t.prototype._d=function(){return this.fd||this.Rd(new So,new Ao,{K_:!1}),this.fd},t.prototype.Vd=function(){return new C(this.Tf,this.wd,this.Ed.host,this.Ed.ssl,this.Ed.forceLongPolling)},t.prototype.Rd=function(t,e,n){var r=this.Vd();return this.fd=new Ds(this.Td,this.ld),this.fd.start(r,t,e,n)},t.dd=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new k(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new k(N.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ud)throw new k(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ud},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return ko("Firestore.collection",arguments,1),Ro("Firestore.collection","non-empty string",1,t),this._d(),new Zs(V.k(t),this,null)},t.prototype.doc=function(t){return ko("Firestore.doc",arguments,1),Ro("Firestore.doc","non-empty string",1,t),this._d(),Fs.gd(V.k(t),this,null)},t.prototype.collectionGroup=function(t){if(ko("Firestore.collectionGroup",arguments,1),Ro("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new k(N.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._d(),new Qs(function(t){return new un(V.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return ko("Firestore.runTransaction",arguments,1),Ro("Firestore.runTransaction","function",1,t),this._d().transaction((function(n){return t(new Ms(e,n))}))},t.prototype.batch=function(){return this._d(),new Us(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){ko("Firestore.setLogLevel",arguments,1),Uo("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),l.setLogLevel(t)},t.prototype.yd=function(){return this.Ed.timestampsInSnapshots},t}(),Ms=function(){function t(t,e){this.pd=t,this.bd=e}return t.prototype.get=function(t){var e=this;ko("Transaction.get",arguments,1);var n=na("Transaction.get",t,this.pd);return this.bd.Nf([n.Ef]).then((function(t){if(!t||1!==t.length)return y();var r=t[0];if(r instanceof on)return new Bs(e.pd,n.Ef,null,!1,!1,n.If);if(r instanceof rn)return new Bs(e.pd,n.Ef,r,!1,!1,n.If);throw y()}))},t.prototype.set=function(t,e,n){Po("Transaction.set",arguments,2,3);var r=na("Transaction.set",t,this.pd);n=Js("Transaction.set",n);var i=ia(r.If,e,n),o=ms(this.pd.Id,"Transaction.set",r.Ef,i,null!==r.If,n);return this.bd.set(r.Ef,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Jo?(Do("Transaction.update",arguments,3),r=na("Transaction.update",t,this.pd),i=_s(this.pd.Id,"Transaction.update",r.Ef,e,n,o)):(ko("Transaction.update",arguments,2),r=na("Transaction.update",t,this.pd),i=ws(this.pd.Id,"Transaction.update",r.Ef,e)),this.bd.update(r.Ef,i),this},t.prototype.delete=function(t){ko("Transaction.delete",arguments,1);var e=na("Transaction.delete",t,this.pd);return this.bd.delete(e.Ef),this},t}(),Us=function(){function t(t){this.pd=t,this.vd=[],this.Sd=!1}return t.prototype.set=function(t,e,n){Po("WriteBatch.set",arguments,2,3),this.Dd();var r=na("WriteBatch.set",t,this.pd);n=Js("WriteBatch.set",n);var i=ia(r.If,e,n),o=ms(this.pd.Id,"WriteBatch.set",r.Ef,i,null!==r.If,n);return this.vd=this.vd.concat(o.mf(r.Ef,je.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Dd(),"string"==typeof e||e instanceof Jo?(Do("WriteBatch.update",arguments,3),r=na("WriteBatch.update",t,this.pd),i=_s(this.pd.Id,"WriteBatch.update",r.Ef,e,n,o)):(ko("WriteBatch.update",arguments,2),r=na("WriteBatch.update",t,this.pd),i=ws(this.pd.Id,"WriteBatch.update",r.Ef,e)),this.vd=this.vd.concat(i.mf(r.Ef,je.exists(!0))),this},t.prototype.delete=function(t){ko("WriteBatch.delete",arguments,1),this.Dd();var e=na("WriteBatch.delete",t,this.pd);return this.vd=this.vd.concat(new Ye(e.Ef,je.Qe())),this},t.prototype.commit=function(){return this.Dd(),this.Sd=!0,this.vd.length>0?this.pd._d().write(this.vd):Promise.resolve()},t.prototype.Dd=function(){if(this.Sd)throw new k(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Fs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.Tf,e,r)||this).Ef=e,i.firestore=n,i.If=r,i.fd=i.firestore._d(),i}return i.__extends(e,t),e.gd=function(t,n,r){if(t.length%2!=0)throw new k(N.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new M(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ef.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zs(this.Ef.path.p(),this.firestore,this.If)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ef.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(ko("DocumentReference.collection",arguments,1),Ro("DocumentReference.collection","non-empty string",1,t),!t)throw new k(N.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=V.k(t);return new Zs(this.Ef.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw zo("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Ef.isEqual(t.Ef)&&this.If===t.If},e.prototype.set=function(t,e){Po("DocumentReference.set",arguments,1,2),e=Js("DocumentReference.set",e);var n=ia(this.If,t,e),r=ms(this.firestore.Id,"DocumentReference.set",this.Ef,n,null!==this.If,e);return this.fd.write(r.mf(this.Ef,je.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Jo?(Do("DocumentReference.update",arguments,2),n=_s(this.firestore.Id,"DocumentReference.update",this.Ef,t,e,r)):(ko("DocumentReference.update",arguments,1),n=ws(this.firestore.Id,"DocumentReference.update",this.Ef,t)),this.fd.write(n.mf(this.Ef,je.exists(!0)))},e.prototype.delete=function(){return ko("DocumentReference.delete",arguments,0),this.fd.write([new Ye(this.Ef,je.Qe())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Po("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||xo(i[a])||(Ho("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),jo("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(xo(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Ro("DocumentReference.onSnapshot","function",a,i[a]),Vo("DocumentReference.onSnapshot","function",a+1,i[a+1]),Vo("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Cd(t))},error:i[a+1],complete:i[a+2]};return this.fd.listen(ln(this.Ef.path),u,l)},e.prototype.get=function(t){var e=this;Po("DocumentReference.get",arguments,0,1),ea("DocumentReference.get",t);var n=this.firestore._d();return t&&"cache"===t.source?n.Kf(this.Ef).then((function(t){return new Bs(e.firestore,e.Ef,t,!0,t instanceof rn&&t.Ke,e.If)})):n.Gf(this.Ef,t).then((function(t){return e.Cd(t)}))},e.prototype.withConverter=function(t){return new e(this.Ef,this.firestore,t)},e.prototype.Cd=function(t){var e=t.docs.get(this.Ef);return new Bs(this.firestore,this.Ef,e,t.fromCache,t.hasPendingWrites,this.If)},e}(fs),qs=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Bs=function(){function t(t,e,n,r,i,o){this.pd=t,this.Ef=e,this.Nd=n,this.Fd=r,this.kd=i,this.If=o}return t.prototype.data=function(t){var e=this;if(Po("DocumentSnapshot.data",arguments,0,1),t=ta("DocumentSnapshot.data",t),this.Nd){if(this.If){var n=new Gs(this.pd,this.Ef,this.Nd,this.Fd,this.kd,null);return this.If.fromFirestore(n,t)}return new Rs(this.pd.Tf,this.pd.yd(),t.serverTimestamps||"none",(function(t){return new Fs(t,e.pd,null)})).Zf(this.Nd.Ze())}},t.prototype.get=function(t,e){var n=this;if(Po("DocumentSnapshot.get",arguments,1,2),e=ta("DocumentSnapshot.get",e),this.Nd){var r=this.Nd.data().field(Ts("DocumentSnapshot.get",t,this.Ef));if(null!==r)return new Rs(this.pd.Tf,this.pd.yd(),e.serverTimestamps||"none",(function(t){return new Fs(t,n.pd,n.If)})).Zf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ef.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Fs(this.Ef,this.pd,this.If)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Nd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new qs(this.kd,this.Fd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw zo("isEqual","DocumentSnapshot",1,e);return this.pd===e.pd&&this.Fd===e.Fd&&this.Ef.isEqual(e.Ef)&&(null===this.Nd?null===e.Nd:this.Nd.isEqual(e.Nd))&&this.If===e.If},t}(),Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Bs);function Hs(t,e,n,r,i,o,s){var a;if(i.O()){if("array-contains"===o||"array-contains-any"===o)throw new k(N.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ws(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($s(r,t,l[c]));a={arrayValue:{values:u}}}else a=$s(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ws(s,o),a=bs(n,e,s,"in"===o||"not-in"===o);var h=En.create(i,o,a);return function(t,e){if(e.ln()){var n=t.cn();if(null!==n&&!n.isEqual(e.field))throw new k(N.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.un();null!==r&&Ks(0,e.field,r)}var i=t._n(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new k(N.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}function zs(t,e,n){if(null!==t.startAt)throw new k(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new k(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vn(e,n);return function(t,e){if(null===t.un()){var n=t.cn();null!==n&&Ks(0,n,e.field)}}(t,r),r}function $s(t,e,n){if("string"==typeof n){if(""===n)throw new k(N.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hn(e)&&-1!==n.indexOf("/"))throw new k(N.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(V.k(n));if(!M.W(r))throw new k(N.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ut(t,new M(r))}if(n instanceof fs)return Ut(t,n.Ef);throw new k(N.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bo(n)+".")}function Ws(t,e){if(!Array.isArray(t)||0===t.length)throw new k(N.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new k(N.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new k(N.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new k(N.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Ks(t,e,n){if(!n.isEqual(e))throw new k(N.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Xs(t){if(t.an()&&0===t.tn.length)throw new k(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qs=function(){function t(t,e,n){this.xd=t,this.firestore=e,this.If=n}return t.prototype.where=function(e,n,r){var i;ko("Query.where",arguments,3),Go("Query.where",3,r),i="not-in"===n||"!="===n?n:Uo("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=Ts("Query.where",e),s=Hs(this.xd,"Query.where",this.firestore.Id,this.firestore.Tf,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new un(t.path,t.collectionGroup,t.tn.slice(),n,t.limit,t.en,t.startAt,t.endAt)}(this.xd,s),this.firestore,this.If)},t.prototype.orderBy=function(e,n){var r;if(Po("Query.orderBy",arguments,1,2),Vo("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new k(N.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ts("Query.orderBy",e),o=zs(this.xd,i,r);return new t(function(t,e){var n=t.tn.concat([e]);return new un(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.en,t.startAt,t.endAt)}(this.xd,o),this.firestore,this.If)},t.prototype.limit=function(e){return ko("Query.limit",arguments,1),Ro("Query.limit","number",1,e),$o("Query.limit",1,e),new t(pn(this.xd,e,"F"),this.firestore,this.If)},t.prototype.limitToLast=function(e){return ko("Query.limitToLast",arguments,1),Ro("Query.limitToLast","number",1,e),$o("Query.limitToLast",1,e),new t(pn(this.xd,e,"L"),this.firestore,this.If)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Do("Query.startAt",arguments,1);var i=this.$d("Query.startAt",e,n,!0);return new t(gn(this.xd,i),this.firestore,this.If)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Do("Query.startAfter",arguments,1);var i=this.$d("Query.startAfter",e,n,!1);return new t(gn(this.xd,i),this.firestore,this.If)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Do("Query.endBefore",arguments,1);var i=this.$d("Query.endBefore",e,n,!0);return new t(yn(this.xd,i),this.firestore,this.If)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Do("Query.endAt",arguments,1);var i=this.$d("Query.endAt",e,n,!1);return new t(yn(this.xd,i),this.firestore,this.If)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw zo("isEqual","Query",1,e);return this.firestore===e.firestore&&vn(this.xd,e.xd)&&this.If===e.If},t.prototype.withConverter=function(e){return new t(this.xd,this.firestore,e)},t.prototype.$d=function(t,e,n,r){if(Go(t,1,e),e instanceof Bs)return ko(t,i.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new k(N.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=fn(t);s<a.length;s++){var u=a[s];if(u.field.O())o.push(Ut(e,r.key));else{var c=r.field(u.field);if(At(c))throw new k(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.F();throw new k(N.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new kn(o,i)}(this.xd,this.firestore.Tf,t,e.Nd,r);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.tn;if(i.length>s.length)throw new k(N.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.O()){if("string"!=typeof c)throw new k(N.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hn(t)&&-1!==c.indexOf("/"))throw new k(N.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(V.k(c));if(!M.W(l))throw new k(N.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new M(l);a.push(Ut(e,h))}else{var f=bs(n,r,c);a.push(f)}}return new kn(a,o)}(this.xd,this.firestore.Tf,this.firestore.Id,t,o,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Po("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||xo(i[a])||(Ho("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),jo("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),xo(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Ro("Query.onSnapshot","function",a,i[a]),Vo("Query.onSnapshot","function",a+1,i[a+1]),Vo("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new Ys(r.firestore,r.xd,t,r.If))},error:i[a+1],complete:i[a+2]};return Xs(this.xd),this.firestore._d().listen(this.xd,s,c)},t.prototype.get=function(t){var e=this;Po("Query.get",arguments,0,1),ea("Query.get",t),Xs(this.xd);var n=this.firestore._d();return(t&&"cache"===t.source?n.zf(this.xd):n.Hf(this.xd,t)).then((function(t){return new Ys(e.firestore,e.xd,t,e.If)}))},t}(),Ys=function(){function t(t,e,n,r){this.pd=t,this.Md=e,this.Od=n,this.If=r,this.Ld=null,this.qd=null,this.metadata=new qs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Od.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Od.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Po("QuerySnapshot.forEach",arguments,1,2),Ro("QuerySnapshot.forEach","function",1,t),this.Od.docs.forEach((function(r){t.call(e,n.Bd(r,n.metadata.fromCache,n.Od.Lt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Qs(this.Md,this.pd,this.If)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Ho("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),jo("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Od.Bt)throw new k(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Ld&&this.qd===e||(this.Ld=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:ra(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Od,e,this.Bd.bind(this)),this.qd=e),this.Ld},t.prototype.isEqual=function(e){if(!(e instanceof t))throw zo("isEqual","QuerySnapshot",1,e);return this.pd===e.pd&&vn(this.Md,e.Md)&&this.Od.isEqual(e.Od)&&this.If===e.If},t.prototype.Bd=function(t,e,n){return new Gs(this.pd,t.key,t,e,n,this.If)},t}(),Zs=function(t){function e(e,n,r){var i=this;if((i=t.call(this,ln(e),n,r)||this).Ud=e,e.length%2!=1)throw new k(N.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.xd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.xd.path.p();return t._()?null:new Fs(new M(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Po("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=_.t()),Ro("CollectionReference.doc","non-empty string",1,t);var e=V.k(t);return Fs.gd(this.xd.path.child(e),this.firestore,this.If)},e.prototype.add=function(t){ko("CollectionReference.add",arguments,1),Ro("CollectionReference.add","object",1,this.If?this.If.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Ud,this.firestore,t)},e}(Qs);function Js(t,e){if(void 0===e)return{merge:!1};if(Ho(t,e,["merge","mergeFields"]),jo(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Bo(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new k(N.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Bo(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Jo}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new k(N.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ta(t,e){return void 0===e?{}:(Ho(t,e,["serverTimestamps"]),Mo(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ea(t,e){Vo(t,"object",1,e),e&&(Ho(t,e,["source"]),Mo(t,0,"source",e.source,["default","server","cache"]))}function na(t,e,n){if(e instanceof fs){if(e.firestore!==n)throw new k(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw zo(t,"DocumentReference",1,e)}function ra(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function ia(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var oa={Firestore:js,GeoPoint:ls,Timestamp:D,Blob:Yo,Transaction:Ms,WriteBatch:Us,DocumentReference:Fs,DocumentSnapshot:Bs,Query:Qs,QueryDocumentSnapshot:Gs,QuerySnapshot:Ys,CollectionReference:Zs,FieldPath:Jo,FieldValue:us,setLogLevel:js.setLogLevel,CACHE_SIZE_UNLIMITED:Vs};function sa(t){!function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",(function(t){return function(t,e){var n=new Ao,r=new To(n);return new js(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},oa)))}(t),t.registerVersion("@firebase/firestore","1.16.4")}sa(o),e.__PRIVATE_registerFirestore=sa},D57K:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return w})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return I})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("D57K"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.18.0","app"),t.exports=i},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("D57K"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(y){u={error:y}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",void 0),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Jn})),n.d(e,"EventType",(function(){return tr})),n.d(e,"WebChannel",(function(){return er})),n.d(e,"XhrIo",(function(){return nr})),n.d(e,"createWebChannelTransport",(function(){return Zn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},b.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var A,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var k=u.navigator;if(k){var D=k.userAgent;if(D){A=D;break t}}A=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var M,U,F=O(A,"Opera"),q=O(A,"Trident")||O(A,"MSIE"),B=O(A,"Edge"),G=B||q,H=O(A,"Gecko")&&!(O(A.toLowerCase(),"webkit")&&!O(A,"Edge"))&&!(O(A,"Trident")||O(A,"MSIE"))&&!O(A,"Edge"),z=O(A.toLowerCase(),"webkit")&&!O(A,"Edge");function $(){var t=u.document;return t?t.documentMode:void 0}t:{var W="",K=(U=A,H?/rv:([^\);]+)(\)|;)/.exec(U):B?/Edge\/([\d\.]+)/.exec(U):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):z?/WebKit\/(\S+)/.exec(U):F?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(K&&(W=K?K[1]:""),q){var X=$();if(null!=X&&X>parseFloat(W)){M=String(X);break t}}M=W}var Q={};function Y(t){return function(t,e){var n=Q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=x(String(M)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=N(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==s[2].length,0==a[2].length)||N(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var Z=u.document&&q&&($()||parseInt(M,10))||void 0,J=!q||9<=Number(Z),tt=q&&!Y("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!J)return null;var a=_t(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=J?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function vt(t){return t in dt?dt[t]:dt[t]="on"+t}function mt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&yt(t),n.call(r,e)}function wt(t,e){if(t.Y)return!0;if(!J){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new rt(e,this))}return mt(t,new rt(e,this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function It(){b.call(this),this.c=new ct(this),this.J=this,this.C=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&lt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(It,b),It.prototype[ot]=!0,(o=It.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&yt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;L(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ct(s,r,!0,t)&&i}if(i=Ct(s=t.a=n,r,!0,t)&&i,i=Ct(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(It.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function Tt(){this.b=this.a=null}var At,xt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Nt}),(function(t){t.reset()}),100);function Ot(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function kt(t){u.setTimeout((function(){throw t}),0)}function Dt(t,e){At||function(){var t=u.Promise.resolve(void 0);At=function(){t.then(Vt)}}(),Pt||(At(),Pt=!0),Rt.add(t,e)}Tt.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Rt=new Tt;function Vt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){kt(n)}var e=xt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Lt(t,e){It.call(this),this.b=t||1,this.a=e||u,this.f=v(this.Ya,this),this.g=w()}function jt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Mt(t,e,n){if("function"==l(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ut(t){t.a=Mt((function(){t.a=null,t.c&&(t.c=!1,Ut(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Lt,It),(o=Lt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=w()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(jt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=w())},o.G=function(){Lt.S.G.call(this),jt(this),delete this.a};var Ft=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ut(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(b);function qt(t){b.call(this),this.b=t,this.a={}}_(qt,b);var Bt=[];function Gt(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ht(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&yt(t)}),t),t.a={}}function zt(){this.a=!0}function $t(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return St(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.G=function(){qt.S.G.call(this),Ht(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zt.prototype.info=function(){};var Wt=null;function Kt(){return Wt=Wt||new It}function Xt(t){nt.call(this,"serverreachability",t)}function Qt(t){var e=Kt();e.dispatchEvent(new Xt(e,t))}function Yt(t){nt.call(this,"statevent",t)}function Zt(t){var e=Kt();e.dispatchEvent(new Yt(e,t))}function Jt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}_(Xt,nt),_(Yt,nt),_(Jt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,se={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qt(this),this.P=he,this.R=new Lt(t=G?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(ae,nt),_(ue,nt),_(ce,re),oe=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Le(Ne(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=w(),me(t),t.l=Ne(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Xe(n.b,"t",r),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ft(v(t.Ca,t,t.a),t.O)),Gt(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Qt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ye(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ve(t,n);if(i==de){4==e&&(t.h=4,Zt(14),r=!1),$t(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Zt(15),$t(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$t(t.c,t.f,i,null),Ie(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(e),e.F=!0)):($t(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),be(t))}function ve(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function me(t){t.U=w()+t.P,we(t,t.P)}function we(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(v(t.Ua,t),e)}function _e(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function be(t){0==t.g.v||t.A||Un(t.g,t)}function Ee(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,jt(t.R),Ht(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ie(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Mn(n),An(n)}Vn(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(v(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Mn(n),!T(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(O(l,"spdy")||O(l,"quic")||O(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ve(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=w()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Gn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(_e(p),me(p)),u.a=d}else Rn(u);0<n.g.length&&Nn(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):Tn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Qt(4)}catch(y){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Se(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Se)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==En(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!G&&!this.a.$())){this.A||4!=e||7==n||Qt(8==n||0>=r?3:2),_e(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Ee(this),be(this);break t}$t(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ie(this,u)}this.I?(ye(this,e,o),G&&this.b&&3==e&&(Gt(this.J,this.R,"tick",this.Va),this.R.start())):($t(this.c,this.f,o,null),Ie(this,o)),4==e&&Ee(this),this.b&&!this.A&&(4==e?Un(this.g,this):(this.b=!1,me(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Ee(this),be(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=En(this.a),e=this.a.$();this.D<e.length&&(_e(this),ye(this,t,e),this.b&&4!=t&&me(this))}},o.cancel=function(){this.A=!0,Ee(this)},o.Ua=function(){this.o=null;var t=w();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Qt(3),Zt(17)),Ee(this),this.h=2,be(this)):we(this,this.U-t)},(o=Se.prototype).K=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Te(this),this.a.concat()},o.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},o.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Oe){this.a=void 0!==e?e:t.a,ke(this,t.f),this.j=t.j,De(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new Se(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(xe))?(this.a=!!e,ke(this,n[1]||"",!0),this.j=je(n[2]||""),De(this,n[3]||"",!0),Pe(this,n[4]),this.g=je(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=je(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function Ne(t){return new Oe(t)}function ke(t,e,n){t.f=n?je(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function De(t,e,n){t.c=n?je(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&($e(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(We(this,e),Xe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Me(e,Ge)),t.b=new ze(e,t.a))}function Ve(t,e,n){t.b.set(e,n)}function Le(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Me(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Me(e,Fe,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Me(e,Fe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Me(n,"/"==n.charAt(0)?Be:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Me(n,He)),t.join("")};var Fe=/[#\/\?@]/g,qe=/[#\?:]/g,Be=/[#\?]/g,Ge=/[#\?@]/g,He=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $e(t){t.a||(t.a=new Se,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function We(t,e){$e(t),e=Qe(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function Ke(t,e){return $e(t),e=Qe(t,e),Ae(t.a.b,e)}function Xe(t,e,n){We(t,e),0<n.length&&(t.c=null,t.a.set(Qe(t,e),S(n)),t.b+=n.length)}function Qe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Ze(t){this.g=t||Je,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=ze.prototype).add=function(t,e){$e(this),this.c=null,t=Qe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){$e(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){$e(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){$e(this);var e=[];if("string"==typeof t)Ke(this,t)&&(e=C(e,this.a.get(Qe(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},o.set=function(t,e){return $e(this),this.c=null,Ke(this,t=Qe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Je=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Ce(t,(function(t,n){var i=t;f(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ze.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){It.call(this),this.headers=new Se,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}_(fn,It);var dn="",pn=/^https?$/i,gn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mn(t),_n(t)}function mn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=En(t)||2!=t.X()))if(t.l&&4==En(t))Mt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(xe)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<En(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",mn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){bn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function bn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function In(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.pa=0,this.g=[],this.c=new zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Cn("baseRetryDelayMs",5e3,t),this.Ma=Cn("retryDelaySeedMs",1e4,t),this.Ja=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ze(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Tn(t){if(xn(t),3==t.v){var e=t.R++,n=Ne(t.B);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Dn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Le(Ne(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=w(),me(e)}Bn(t)}function An(t){t.a&&(Ln(t),t.a.cancel(),t.a=null)}function xn(t){An(t),t.j&&(u.clearTimeout(t.j),t.j=null),Mn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function On(t,e){t.g.push(new Ye(t.La++,e)),3==t.v&&Nn(t)}function Nn(t){tn(t.b)||t.h||(t.h=!0,Dt(t.Ba,t),t.u=0)}function kn(t,e){var n;n=e?e.f:t.R++;var r=Ne(t.B);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.P),Dn(t,r),t.i&&t.l&&In(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Dn(t,e){t.f&&Ce({},(function(t,n){Ve(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?v(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{cn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,Dt(t.Aa,t),t.o=0)}function Vn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(v(t.Aa,t),Fn(t,t.o)),t.o++,0))}function Ln(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function jn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ne(t.la);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.H?"0":"1"),Ve(e,"AID",t.P),Dn(t,e),Ve(e,"TYPE","xmlhttp"),t.i&&t.l&&In(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Le(Ne(e)),n.j=null,n.I=!0,ge(n,t)}function Mn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Un(t,e){var n=null;if(t.a==e){Mn(t),Ln(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=w()-e.u;var i=t.u;(r=Kt()).dispatchEvent(new Jt(r,n,e,i)),Nn(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(v(t.Ba,t,e),Fn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Vn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function Fn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=v(t.Xa,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||ke(n,"https"),Le(n)),function(t,e){var n=new zt;if(u.Image){var r=new Image;r.onload=m(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=m(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),Bn(t),xn(t)}function Bn(t){t.v=0,t.I=-1,t.f&&(0==sn(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function Gn(t,e,n){var r=function(t){return t instanceof Oe?Ne(t):new Oe(t,void 0)}(n);if(""!=r.c)e&&De(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&ke(i,t),e&&De(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&P(t.W,(function(t,e){Ve(r,e,t)})),n=t.na,(e=t.A)&&n&&Ve(r,e,n),Ve(r,"VER",t.ha),Dn(t,r),r}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function zn(){}function $n(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Wn(t,e){It.call(this),this.a=new Sn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Qn(this)}function Kn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){ue.call(this),this.status=1}function Qn(t){this.a=t}(o=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=v(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void vn(this,o)}t=n||"";var i=new Se(this.headers);r&&Ce(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=yn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bn(this),0<this.o&&((this.D=function(t){return q&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.xa,this)):this.m=Mt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?wn(this):this.Ta())},o.Ta=function(){wn(this)},o.X=function(){try{return 2<En(this)?this.a.status:-1}catch(U){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),Ve(i=Ne(this.B),"RID",t),Ve(i,"CVER",22),this.A&&Ve(i,"X-HTTP-Session-Id",this.A),Dn(this,i),this.i&&r&&In(i,this.i,r),rn(this.b,n),this.Ga&&Ve(i,"TYPE","init"),this.da?(Ve(i,"$req",e),Ve(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?kn(this,t):0==this.g.length||tn(this.b)||kn(this))},o.Aa=function(){if(this.j=null,jn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(v(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,An(this),jn(this))},o.Ra=function(){null!=this.m&&(this.m=null,An(this),Vn(this),Zt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(o=zn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},$n.prototype.a=function(t,e){return new Wn(t,e)},_(Wn,It),(o=Wn.prototype).addEventListener=function(t,e,n,r){Wn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Wn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Zt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Gn(t,null,t.fa),Nn(t)},o.close=function(){Tn(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,On(this.a,e)}else this.g?((e={}).__data__=St(t),On(this.a,e)):On(this.a,t)},o.G=function(){this.a.f=null,delete this.f,Tn(this.a),delete this.a,Wn.S.G.call(this)},_(Kn,ae),_(Xn,ue),_(Qn,zn),Qn.prototype.ta=function(){this.a.dispatchEvent("a")},Qn.prototype.sa=function(t){this.a.dispatchEvent(new Kn(t))},Qn.prototype.ra=function(t){this.a.dispatchEvent(new Xn(t))},Qn.prototype.qa=function(){this.a.dispatchEvent("b")},$n.prototype.createWebChannel=$n.prototype.a,Wn.prototype.send=Wn.prototype.Pa,Wn.prototype.open=Wn.prototype.Oa,Wn.prototype.close=Wn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",It.prototype.listen=It.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Yn={createWebChannelTransport:function(){return new $n},ErrorCode:ee,EventType:ne,WebChannel:ie,XhrIo:fn},Zn=Yn.createWebChannelTransport,Jn=Yn.ErrorCode,tr=Yn.EventType,er=Yn.WebChannel,nr=Yn.XhrIo;e.default=Yn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?f(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let m=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class b extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends m{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new b(this,t))}asObservable(){const t=new m;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class T extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=x(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function k(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[y])return r=t,t=>{const e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return A(t);if(k(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function P(t,e,n,r,i=new T(t,n,r)){if(!i.closed)return e instanceof m?e.subscribe(i):D(e)(i)}class R extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function V(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(t,e))}}class L{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new j(t,this.project,this.thisArg))}}class j extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function M(t,e){return new m(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function U(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new m(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(k(t))return function(t,e){return new m(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return M(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new m(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof m?t:new m(D(t))}function F(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(F((n,r)=>U(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends R{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new T(this,e,n),i=this.destination;i.add(r);const o=P(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(t=Number.POSITIVE_INFINITY){return F(v,t)}function H(t,e){return e?M(t,e):new m(A(t))}function z(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends m{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return z()(this)}}const X=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new I}function Z(t){return{toString:t}.toString()}function J(t,e,n){return Z(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const tt=J("Inject",t=>({token:t})),et=J("Optional"),nt=J("Self"),rt=J("SkipSelf");var it=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ot(t){for(let e in t)if(t[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function st(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return lt(t,t[ft])||lt(t,t[gt])}function lt(t,e){return e&&e.token===t?e:null}function ht(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(yt))?t[dt]:null}const ft=ot({"\u0275prov":ot}),dt=ot({"\u0275inj":ot}),pt=ot({"\u0275provFallback":ot}),gt=ot({ngInjectableDef:ot}),yt=ot({ngInjectorDef:ot});function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function mt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wt=ot({__forward_ref__:ot});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return vt(this())},t}function bt(t){return Et(t)?t():t}function Et(t){return"function"==typeof t&&t.hasOwnProperty(wt)&&t.__forward_ref__===_t}const It="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,St="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,At=It||Tt||Ct||St,xt=ot({"\u0275cmp":ot}),Ot=ot({"\u0275dir":ot}),Nt=ot({"\u0275pipe":ot}),kt=ot({"\u0275mod":ot}),Dt=ot({"\u0275loc":ot}),Pt=ot({"\u0275fac":ot}),Rt=ot({__NG_ELEMENT_ID__:ot});class Vt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Lt=new Vt("INJECTOR",-1),jt={},Mt=/\n/gm,Ut=ot({provide:String,useValue:ot});let Ft,qt=void 0;function Bt(t){const e=qt;return qt=t,e}function Gt(t){const e=Ft;return Ft=t,e}function Ht(t,e=it.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?$t(t,void 0,e):qt.get(t,e&it.Optional?null:void 0,e)}function zt(t,e=it.Default){return(Ft||Ht)(bt(t),e)}function $t(t,e,n){const r=ct(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&it.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${vt(t)}]`)}function Wt(t){const e=[];for(let n=0;n<t.length;n++){const r=bt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=it.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof et||"Optional"===i.ngMetadataName||i===et?n|=it.Optional:i instanceof rt||"SkipSelf"===i.ngMetadataName||i===rt?n|=it.SkipSelf:i instanceof nt||"Self"===i.ngMetadataName||i===nt?n|=it.Self:t=i instanceof tt||i===tt?i.token:i}e.push(zt(t,n))}else e.push(zt(r))}return e}class Kt{get(t,e=jt){if(e===jt){const e=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Xt{}class Qt{}function Yt(t,e){t.forEach(t=>Array.isArray(t)?Yt(t,e):e(t))}function Zt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function te(t,e,n){let r=ne(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ee(t,e){const n=ne(t,e);if(n>=0)return t[1|n]}function ne(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var re=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),ie=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const oe={},se=[];let ae=0;function ue(t){return Z(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||se,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ie.Emulated,id:"c",styles:t.styles||se,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ae++,n.inputs=de(t.inputs,e),n.outputs=de(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ce):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(le):null,n})}function ce(t){return ge(t)||function(t){return t[Ot]||null}(t)}function le(t){return function(t){return t[Nt]||null}(t)}const he={};function fe(t){const e={type:t.type,bootstrap:t.bootstrap||se,declarations:t.declarations||se,imports:t.imports||se,exports:t.exports||se,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Z(()=>{he[t.id]=t.type}),e}function de(t,e){if(null==t)return oe;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const pe=ue;function ge(t){return t[xt]||null}function ye(t,e){return t.hasOwnProperty(Pt)?t[Pt]:null}function ve(t,e){const n=t[kt]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function me(t){return Array.isArray(t)&&"object"==typeof t[1]}function we(t){return Array.isArray(t)&&!0===t[1]}function _e(t){return 0!=(8&t.flags)}function be(t){return 2==(2&t.flags)}function Ee(t){return 1==(1&t.flags)}function Ie(t){return null!==t.template}function Ce(t){return 0!=(512&t[2])}class Se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Te(){return Ae}function Ae(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oe),xe}function xe(){const t=Ne(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===oe)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Oe(t,e,n,r){const i=Ne(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:oe,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Se(u&&u.currentValue,e,s===oe),t[r]=e}function Ne(t){return t.__ngSimpleChanges__||null}Te.ngInherit=!0;let ke=void 0;function De(t){return!!t.listen}const Pe={createRenderer:(t,e)=>void 0!==ke?ke:"undefined"!=typeof document?document:void 0};function Re(t){for(;Array.isArray(t);)t=t[0];return t}function Ve(t,e){return Re(e[t+20])}function Le(t,e){return Re(e[t.index])}function je(t,e){return t.data[e+20]}function Me(t,e){const n=e[t];return me(n)?n:n[0]}function Ue(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Fe(t){return 128==(128&t[2])}function qe(t,e){return null===t||null==e?null:t[e]}function Be(t){t[18]=0}function Ge(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const He={lFrame:un(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ze(){return He.bindingsEnabled}function $e(){return He.lFrame.lView}function We(){return He.lFrame.tView}function Ke(){return He.lFrame.previousOrParentTNode}function Xe(t,e){He.lFrame.previousOrParentTNode=t,He.lFrame.isParent=e}function Qe(){return He.lFrame.isParent}function Ye(){return He.checkNoChangesMode}function Ze(t){He.checkNoChangesMode=t}function Je(){const t=He.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tn(){return He.lFrame.bindingIndex++}function en(t,e){const n=He.lFrame;n.bindingIndex=n.bindingRootIndex=t,nn(e)}function nn(t){He.lFrame.currentDirectiveIndex=t}function rn(t){He.lFrame.currentQueryIndex=t}function on(t,e){const n=an();He.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function sn(t,e){const n=an(),r=t[1];He.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function an(){const t=He.lFrame,e=null===t?null:t.child;return null===e?un(t):e}function un(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function cn(){const t=He.lFrame;return He.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const ln=cn;function hn(){const t=cn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fn(){return He.lFrame.selectedIndex}function dn(t){He.lFrame.selectedIndex=t}function pn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function gn(t,e,n){mn(t,e,3,n)}function yn(t,e,n,r){(3&t[2])===n&&mn(t,e,n,r)}function vn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function mn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(wn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function wn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class _n{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function bn(t,e,n){const r=De(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];In(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function En(t){return 3===t||4===t||6===t}function In(t){return 64===t.charCodeAt(0)}function Cn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Sn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Sn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Tn(t){return-1!==t}function An(t){return 32767&t}function xn(t){return t>>16}function On(t,e){let n=xn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Nn(t){return"string"==typeof t?t:null==t?"":""+t}function kn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Nn(t)}const Dn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Pn(t){return t instanceof Function?t():t}let Rn=!0;function Vn(t){const e=Rn;return Rn=t,e}let Ln=0;function jn(t,e){const n=Un(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Mn(r.data,t),Mn(e,null),Mn(r.blueprint,null));const i=Fn(t,e),o=t.injectorIndex;if(Tn(i)){const t=An(i),n=On(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Mn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Un(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Fn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function qn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(r=n[Rt]),null==r&&(r=n[Rt]=Ln++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Bn(t,e,n,r=it.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rt)?t[Rt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){on(e,t);try{const t=i();if(null!=t||r&it.Optional)return t;throw new Error(`No provider for ${kn(n)}!`)}finally{ln()}}else if("number"==typeof i){if(-1===i)return new Kn(t,e);let o=null,s=Un(t,e),a=-1,u=r&it.Host?e[16][6]:null;for((-1===s||r&it.SkipSelf)&&(a=-1===s?Fn(t,e):e[s+8],Wn(r,!1)?(o=e[1],s=An(a),e=On(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if($n(i,s,t.data)){const t=Hn(s,e,n,o,r,u);if(t!==Gn)return t}Wn(r,e[1].data[s+8]===u)&&$n(i,s,e)?(o=t,s=An(a),e=On(a,e)):s=-1}}}if(r&it.Optional&&void 0===i&&(i=null),0==(r&(it.Self|it.Host))){const t=e[9],o=Gt(void 0);try{return t?t.get(n,i,r&it.Optional):$t(n,i,r&it.Optional)}finally{Gt(o)}}if(r&it.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${kn(n)}]`)}const Gn={};function Hn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ie(t)&&t.type===n)return u}return null}(a,s,n,null==r?be(a)&&Rn:r!=s&&3===a.type,i&it.Host&&o===a);return null!==u?zn(e,s,u,a):Gn}function zn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _n){const s=i;if(s.resolving)throw new Error("Circular dep for "+kn(o[n]));const a=Vn(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=Gt(s.injectImpl)),on(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ae(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Gt(u),Vn(a),s.resolving=!1,ln()}}return i}function $n(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Wn(t,e){return!(t&it.Self||t&it.Host&&e)}class Kn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Bn(this._tNode,this._lView,t,void 0,e)}}function Xn(t){const e=t;if(Et(t))return()=>{const t=Xn(bt(e));return t?t():null};let n=ye(e);if(null===n){const t=ht(e);n=t&&t.factory}return n||null}function Qn(t){return Z(()=>{const e=t.prototype.constructor,n=e[Pt]||Xn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Pt]||Xn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Yn(t){return t.ngDebugContext}function Zn(t){return t.ngOriginalError}function Jn(t,...e){t.error(...e)}class tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Jn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Yn(t)?Yn(t):this._findContext(Zn(t)):null}_findOriginalError(t){let e=Zn(t);for(;e&&Zn(e);)e=Zn(e);return e}}let er=!0,nr=!1;function rr(){return nr=!0,er}function ir(t,e){t.__ngContext__=e}function or(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function sr(){throw new Error("Cannot mix multi providers and regular providers")}function ar(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function ur(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ar(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function cr(t){return 0===t.type&&"ng-template"!==t.tagName}function lr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function hr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(En(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!lr(t,u,n)||""===u&&1===e.length){if(fr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ur(t.attrs,c,n)){if(fr(r))return!1;s=!0}continue}const l=dr(8&r?"class":u,i,cr(t),n);if(-1===l){if(fr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ar(e,c,0)||2&r&&c!==t){if(fr(r))return!1;s=!0}}}}else{if(!s&&!fr(r)&&!fr(u))return!1;if(s&&fr(u))continue;s=!1,r=u|1&r}}return fr(r)||s}function fr(t){return 0==(1&t)}function dr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function pr(t,e,n=!1){for(let r=0;r<e.length;r++)if(hr(t,e[r],n))return!0;return!1}function gr(t,e){return t?":not("+e.trim()+")":e}function yr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||fr(s)||(e+=gr(o,i),i=""),r=s,o=o||!fr(r);n++}return""!==i&&(e+=gr(o,i)),e}const vr={};function mr(t){const e=t[3];return we(e)?e[3]:e}function wr(t){return br(t[13])}function _r(t){return br(t[4])}function br(t){for(;null!==t&&!we(t);)t=t[4];return t}function Er(t){Ir(We(),$e(),fn()+t,Ye())}function Ir(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&gn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&yn(e,r,0,n)}dn(n)}function Cr(t,e){return t<<17|e<<2}function Sr(t){return t>>17&32767}function Tr(t){return 2|t}function Ar(t){return(131068&t)>>2}function xr(t,e){return-131069&t|e<<2}function Or(t){return 1|t}function Nr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];rn(i),n.contentQueries(2,e[o],o)}}}function kr(t,e,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Dr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Be(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Pr(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=Ke(),a=Qe(),u=a?s:s&&s.parent,c=t.data[n]=Br(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return Xe(a,!0),a}function Rr(t,e,n){sn(e,e[6]);try{const r=t.viewQuery;null!==r&&ci(1,r,n);const i=t.template;null!==i&&jr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Nr(t,e),t.staticViewQueries&&ci(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ii(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,hn()}}function Vr(t,e,n,r){const i=e[2];if(256==(256&i))return;sn(e,e[6]);const o=Ye();try{Be(e),He.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&jr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&gn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&yn(e,n,0,null),vn(e,0)}if(function(t){for(let e=wr(t);null!==e;e=_r(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ge(r,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=_r(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Fe(n)&&Vr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Nr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&gn(e,n)}else{const n=t.contentHooks;null!==n&&yn(e,n,1),vn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,dn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(en(r,i),s(2,e[i])),i++)}}}finally{dn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ri(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ci(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&gn(e,n)}else{const n=t.viewHooks;null!==n&&yn(e,n,2),vn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ge(e[3],-1))}finally{hn()}}function Lr(t,e,n,r){const i=e[10],o=!Ye(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Rr(t,e,r),Vr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function jr(t,e,n,r,i){const o=fn();try{dn(-1),2&r&&e.length>20&&Ir(t,e,0,Ye()),n(r,i)}finally{dn(o)}}function Mr(t,e,n){ze()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||jn(n,e),ir(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ie(r);o&&Jr(e,n,r);const u=zn(e,t,a,n);ir(u,e),null!==s&&ti(0,a-i,u,r,0,s),o&&(Me(n.index,e)[8]=u)}}(t,e,n,Le(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=He.lFrame.currentDirectiveIndex;try{dn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];nn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Wr(r,i):s&&o.push(null)}}finally{dn(-1),nn(u)}}(t,e,n))}function Ur(t,e,n=Le){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Fr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function qr(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:vr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Br(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Hr(t,e,n,r){let i=!1;if(ze()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];pr(n,s.selectors,!1)&&(i||(i=[]),qn(jn(n,e),t,s.type),Ie(s)?(2&n.flags&&or(n),Xr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Yr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Kr(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Cn(n.mergedAttrs,c.hostAttrs),Zr(t,e,c),Qr(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),zr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||cr(e)?null:ei(n,i);o.push(c),s=Gr(n,u,s),a=Gr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),$r(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Cn(n.mergedAttrs,n.attrs),i}function zr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function $r(t,e,n){for(let r=0;r<n;r++)e.push(vr),t.blueprint.push(vr),t.data.push(null)}function Wr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kr(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Xr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Qr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ie(e)&&(n[""]=t)}}function Yr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zr(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ye(n.type)),i=new _n(r,Ie(n),null);t.blueprint.push(i),e.push(i)}function Jr(t,e,n){const r=Le(e,t),i=Fr(n),o=t[10],s=oi(t,Dr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function ti(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ei(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ni(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ri(t,e){const n=Me(e,t);if(Fe(n)){const t=n[1];80&n[2]?Vr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=wr(e);null!==r;r=_r(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Vr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Me(n[r],e);Fe(i)&&i[5]>0&&t(i)}}(n)}}function ii(t,e){const n=Me(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Rr(r,n,n[8])}function oi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function si(t){for(;t;){t[2]|=64;const e=mr(t);if(Ce(t)&&!e)return t;t=e}return null}function ai(t,e,n){const r=e[10];r.begin&&r.begin();try{Vr(t,e,t.template,n)}catch(i){throw fi(e,i),i}finally{r.end&&r.end()}}function ui(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ue(n),i=r[1];Lr(i,r,i.template,n)}}(t[8])}function ci(t,e,n){rn(0),e(t,n)}const li=(()=>Promise.resolve(null))();function hi(t){return t[7]||(t[7]=[])}function fi(t,e){const n=t[9],r=n?n.get(tr,null):null;r&&r.handleError(e)}function di(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function pi(t,e){const n=e[3];return-1===t.index?we(n)?n:null:n}function gi(t,e){const n=pi(t,e);return n?Ti(e[11],n[7]):null}function yi(t,e,n,r,i){if(null!=r){let o,s=!1;we(r)?o=r:me(r)&&(s=!0,r=r[0]);const a=Re(r);0===t&&null!==n?null==i?Ci(e,n,a):Ii(e,n,a,i||null):1===t&&null!==n?Ii(e,n,a,i||null):2===t?function(t,e,n){const r=Ti(t,e);r&&function(t,e,n,r){De(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Re(n)&&yi(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Ni(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function vi(t,e,n,r){const i=gi(t.node,e);i&&Ni(t,e,e[11],n?1:2,i,r)}function mi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&Ge(e[3],-1),n.splice(r,1)}function wi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&mi(i,r),e>0&&(t[n-1][4]=r[4]);const o=Jt(t,10+e);vi(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function _i(t,e){if(!(256&e[2])){const n=e[11];De(n)&&n.destroyNode&&Ni(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ei(t[1],t);for(;e;){let n=null;if(me(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)me(e)&&Ei(e[1],e),e=bi(e,t);null===e&&(e=t),me(e)&&Ei(e[1],e),n=e&&e[4]}e=n}}(e)}}function bi(t,e){let n;return me(t)&&(n=t[6])&&2===n.type?pi(n,t):t[3]===e?null:t[3]}function Ei(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _n)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Re(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&De(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&we(e[3])){r!==e[3]&&mi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ii(t,e,n,r){De(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ci(t,e,n){De(t)?t.appendChild(e,n):e.appendChild(n)}function Si(t,e,n,r){null!==r?Ii(t,e,n,r):Ci(t,e,n)}function Ti(t,e){return De(t)?t.parentNode(e):e.parentNode}function Ai(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?gi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Le(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ie.ShadowDom&&n!==ie.Native)return null}return Le(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=pi(t,e);return null===n?null:xi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Le(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Si(t,i,n[e],o);else Si(t,i,n,o)}}function xi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Le(n,e);if(0===r)return xi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return we(t)?xi(-1,t):Re(t)}}{const r=e[16],i=r[6],o=mr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Oi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&ir(Re(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Oi(t,e,n.child,r,i,o,!1),yi(e,t,i,a,o)):1===u?ki(t,e,r,n,i,o):yi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ni(t,e,n,r,i,o){Oi(n,r,t.node.child,e,i,o,!1)}function ki(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)yi(e,t,i,a[u],o);else Oi(t,e,a,s[3],i,o,!0)}function Di(t,e,n){De(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Pi(t,e,n){De(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ri{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Re(s)),we(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=mr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}_i(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=hi(e);i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){si(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ai(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ze(!0);try{ai(t,e,n)}finally{Ze(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ni(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Vi extends Ri{constructor(t){super(t),this._view=t}detectChanges(){ui(this._view)}checkNoChanges(){!function(t){Ze(!0);try{ui(t)}finally{Ze(!1)}}(this._view)}get context(){return null}}let Li,ji,Mi;function Ui(t,e,n){return Li||(Li=class extends t{}),new Li(Le(e,n))}let Fi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qi(),t})();const qi=function(t=!1){return function(t,e,n){if(!n&&be(t)){const n=Me(t.index,e);return new Ri(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ri(e[16],e):null}(Ke(),$e(),t)},Bi=Function,Gi=new Vt("Set Injector scope."),Hi={},zi={},$i=[];let Wi=void 0;function Ki(){return void 0===Wi&&(Wi=new Kt),Wi}function Xi(t,e=null,n=null,r){return new Qi(t,n,e||Ki(),r)}class Qi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Yt(e,n=>this.processProvider(n,t,e)),Yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Lt,Ji(void 0,this));const o=this.records.get(Gi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:vt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=jt,n=it.Default){this.assertNotDestroyed();const r=Bt(this);try{if(!(n&it.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Vt)&&ct(t);e=n&&this.injectableDefInScope(n)?Ji(Yi(t),Hi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&it.Self?Ki():this.parent).get(t,e=n&it.Optional&&e===jt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(vt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):vt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Mt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Bt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(vt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=bt(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Yt(r,t=>this.processProvider(t,n,r||$i))}}this.injectorDefTypes.add(o),this.records.set(o,Ji(r.factory,Hi));const a=r.providers;if(null!=a&&!s){const e=t;Yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=eo(t=bt(t))?t:bt(t&&t.provide);const i=function(t,e,n){return to(t)?Ji(void 0,t.useValue):Ji(Zi(t,e,n),Hi)}(t,e,n);if(eo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&sr()}else{let e=this.records.get(r);e?void 0===e.multi&&sr():(e=Ji(void 0,Hi,!0),e.factory=()=>Wt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===zi?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(vt(t)):e.value===Hi&&(e.value=zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Yi(t){const e=ct(t),n=null!==e?e.factory:ye(t);if(null!==n)return n;const r=ht(t);if(null!==r)return r.factory;if(t instanceof Vt)throw new Error(`Token ${vt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${vt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[gt]||t[pt]&&t[pt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Zi(t,e,n){let r=void 0;if(eo(t)){const e=bt(t);return ye(e)||Yi(e)}if(to(t))r=()=>bt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Wt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>zt(bt(t.useExisting));else{const i=bt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${vt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return ye(i)||Yi(i);r=()=>new i(...Wt(t.deps))}var i;return r}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function to(t){return null!==t&&"object"==typeof t&&Ut in t}function eo(t){return"function"==typeof t}const no=function(t,e,n){return function(t,e=null,n=null,r){const i=Xi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ro=(()=>{class t{static create(t,e){return Array.isArray(t)?no(t,e,""):no(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=jt,t.NULL=new Kt,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>zt(Lt)}),t.__NG_ELEMENT_ID__=-1,t})();const io=new Vt("AnalyzeForEntryComponents");function oo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=mt(i,t):2==o&&(r=mt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let so=null;function ao(){if(!so){const t=At.Symbol;if(t&&t.iterator)so=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(so=n)}}}return so}function uo(t){return!!co(t)&&(Array.isArray(t)||!(t instanceof Map)&&ao()in t)}function co(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function lo(t,e,n){return t[e]=n}function ho(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fo(t,e,n,r,i,o,s,a){const u=$e(),c=We(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Pr(e,n[6],t,0,s||null,qe(c,a));Hr(e,n,l,qe(c,u)),pn(e,l);const h=l.tViews=qr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Br(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Xe(h,!1);const f=u[11].createComment("");Ai(c,u,f,h),ir(f,u),oi(u,u[l]=ni(f,u,f,h)),Ee(h)&&Mr(c,u,h),null!=s&&Ur(u,h,a)}function po(t,e=it.Default){const n=$e();return null==n?zt(t,e):Bn(Ke(),n,bt(t),e)}function go(t,e,n){const r=$e();return ho(r,tn(),e)&&function(t,e,n,r,i,o,s,a){const u=Le(e,n);let c,l=e.inputs;null!=l&&(c=l[r])?(di(t,n,c,r,i),be(e)&&function(t,e){const n=Me(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,De(o)?o.setProperty(u,r,i):In(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(We(),function(){const t=He.lFrame;return je(t.tView,t.selectedIndex)}(),r,t,e,r[11],n),go}function yo(t,e,n,r,i){const o=i?"class":"style";di(t,n,e.inputs[o],o,r)}function vo(t,e,n,r){const i=$e(),o=We(),s=20+t,a=i[11],u=i[s]=kr(e,a,He.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=qe(a,o),c=Pr(e,n[6],t,3,i,u);return Hr(e,n,c,qe(a,s)),null!==c.attrs&&oo(c,c.attrs,!1),null!==c.mergedAttrs&&oo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Xe(c,!0);const l=c.mergedAttrs;null!==l&&bn(a,u,l);const h=c.classes;null!==h&&Pi(a,u,h);const f=c.styles;null!==f&&Di(a,u,f),Ai(o,i,u,c),0===He.lFrame.elementDepthCount&&ir(u,i),He.lFrame.elementDepthCount++,Ee(c)&&(Mr(o,i,c),function(t,e,n){if(_e(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ur(i,c)}function mo(){let t=Ke();Qe()?He.lFrame.isParent=!1:(t=t.parent,Xe(t,!1));const e=t;He.lFrame.elementDepthCount--;const n=We();n.firstCreatePass&&(pn(n,t),_e(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&yo(n,e,$e(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&yo(n,e,$e(),e.stylesWithoutHost,!1)}function wo(t,e,n,r){vo(t,e,n,r),mo()}function _o(t){return!!t&&"function"==typeof t.then}function bo(t){return!!t&&"function"==typeof t.subscribe}function Eo(t,e,n=!1,r){const i=$e(),o=We(),s=Ke();return function(t,e,n,r,i,o,s=!1,a){const u=Ee(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=hi(e);let h=!0;if(3===r.type){const f=Le(r,e),d=a?a(f):oe,p=d.target||f,g=l.length,y=a?t=>a(Re(t[r.index])).target:r.index;if(De(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Co(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=Co(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Eo}function Io(t,e,n){try{return!1!==e(n)}catch(r){return fi(t,r),!1}}function Co(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Me(t.index,e):e;0==(32&e[2])&&si(s);let a=Io(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Io(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function So(t=1){return function(t){return(He.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,He.lFrame.contextLView))[8]}(t)}const To=[];function Ao(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Sr(o):Ar(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];xo(t[a],e)&&(u=!0,t[a+1]=r?Or(n):Tr(n)),a=r?Sr(n):Ar(n)}u&&(t[n+1]=r?Tr(o):Or(o))}function xo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ne(t,e)>=0}function Oo(t,e){return function(t,e,n,r){const i=$e(),o=We(),s=function(t){const e=He.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[fn()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=He.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ko(n=No(null,t,e,n,!0),e.attrs,!0),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=No(i,t,e,n,!0),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Ar(r))return t[Sr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=No(null,t,e,n[1],!0),n=ko(n,e.attrs,!0),function(t,e,n,r){t[Sr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ko(r,t[o].hostAttrs,!0);return ko(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,a=Sr(s),u=Ar(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ne(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Sr(t[a+1]);t[r+1]=Cr(e,a),0!==e&&(t[e+1]=xr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Cr(a,0),0!==a&&(t[a+1]=xr(t[a+1],r)),a=r;else t[r+1]=Cr(u,0),0===a?a=r:t[u+1]=xr(t[u+1],r),u=r;l&&(t[r+1]=Tr(t[r+1])),Ao(t,c,r,!0),Ao(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&ne(o,e)>=0&&(n[r+1]=Or(n[r+1]))}(e,c,t,r),s=Cr(a,u),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==vr&&ho(i,s,e)&&function(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Po(1==(1&c)?Do(u,e,n,i,Ar(c),!0):void 0)||(Po(o)||function(t){return 2==(2&t)}(c)&&(o=Do(u,null,n,i,a,!0)),function(t,e,n,r,i){const o=De(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Ve(fn(),n),i,o))}(o,o.data[fn()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=vt(function(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}?t.changingThisBreaksApplicationSecurity:t}(t))),t}(e),0,s)}(t,e),Oo}function No(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ko(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ko(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),te(t,s,!!n||e[++o]))}return void 0===t?null:t}function Do(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===vr&&(l=c?To:void 0);let h=c?ee(l,r):u===r?l:void 0;if(o&&!Po(h)&&(h=ee(e,r)),Po(h)&&(a=h,s))return a;const f=t[i+1];i=s?Sr(f):Ar(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ee(t,r))}return a}function Po(t){return void 0!==t}function Ro(t,e=""){const n=$e(),r=We(),i=t+20,o=r.firstCreatePass?Pr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return De(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ai(r,n,s,o),Xe(o,!1)}function Vo(t){return Lo("",t,""),Vo}function Lo(t,e,n){const r=$e(),i=function(t,e,n,r){return ho(t,tn(),n)?e+Nn(n)+r:vr}(r,t,e,n);return i!==vr&&function(t,e,n){const r=Ve(e,t),i=t[11];De(i)?i.setValue(r,n):r.textContent=n}(r,fn(),i),Lo}function jo(t,e){const n=Ue(t)[1],r=n.data.length-1;pn(n,{directiveStart:r,directiveEnd:r+1})}function Mo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ie(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Uo(t.inputs),e.declaredInputs=Uo(t.declaredInputs),e.outputs=Uo(t.outputs);const n=i.hostBindings;n&&Bo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Fo(t,o),s&&qo(t,s),st(t.inputs,i.inputs),st(t.declaredInputs,i.declaredInputs),st(t.outputs,i.outputs),Ie(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cn(i.hostAttrs,n=Cn(n,i.hostAttrs))}}(r)}function Uo(t){return t===oe?{}:t===se?[]:t}function Fo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function qo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function Go(t,e,n,r,i){if(t=bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Go(t[o],e,n,r,i);else{const o=We(),s=$e();let a=eo(t)?t:bt(t.provide),u=Zi(t);const c=Ke(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(eo(t)||!t.multi){const r=new _n(u,i,po),d=$o(a,e,i?l:l+f,h);-1===d?(qn(jn(c,s),o,a),Ho(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=$o(a,e,l+f,h),p=$o(a,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){qn(jn(c,s),o,a);const l=function(t,e,n,r,i){const o=new _n(t,n,po);return o.multi=[],o.index=e,o.componentProviders=0,zo(o,i,r&&!n),o}(i?Ko:Wo,n.length,i,r,u);!i&&y&&(n[p].providerFactory=l),Ho(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ho(o,t,d>-1?d:p,zo(n[i?p:d],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Ho(t,e,n,r){const i=eo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function zo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $o(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Wo(t,e,n,r){return Xo(this.multi,[])}function Ko(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=zn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Xo(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Xo(i,o);return o}function Xo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=We();if(r.firstCreatePass){const i=Ie(t);Go(n,r.data,r.blueprint,i,!0),Go(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Yo{}class Zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${vt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Jo=(()=>{class t{}return t.NULL=new Zo,t})(),ts=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>es(t),t})();const es=function(t){return Ui(t,Ke(),$e())};class ns{}var rs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let is=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>os(),t})();const os=function(){const t=$e(),e=Me(Ke().index,t);return function(t){const e=t[11];if(De(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(me(e)?e:t)};let ss=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class as{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const us=new as("10.0.9");class cs{constructor(){}supports(t){return uo(t)}create(t){return new hs(t)}}const ls=(t,e)=>e;class hs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<gs(n,r,i)?e:n,s=gs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!uo(t))throw new Error(`Error trying to diff '${vt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new fs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ps),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ps),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ds{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ps{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ds,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ys{constructor(){}supports(t){return t instanceof Map||co(t)}create(){return new vs}}class vs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||co(t)))throw new Error(`Error trying to diff '${vt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ms(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ms{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ws=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new rt,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new cs])}),t})(),_s=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new rt,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new ys])}),t})();const bs=[new ys],Es=new ws([new cs]),Is=new _s(bs);let Cs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ss(t,ts),t})();const Ss=function(t,e){return function(t,e,n,r){return ji||(ji=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Dr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Rr(e,n,t),new Ri(n)}}),0===n.type?new ji(r,n,Ui(e,n,r)):null}(t,e,Ke(),$e())};let Ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>As(t,ts),t})();const As=function(t,e){return function(t,e,n,r){let i;Mi||(Mi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ui(e,this._hostTNode,this._hostView)}get injector(){return new Kn(this._hostTNode,this._hostView)}get parentInjector(){const t=Fn(this._hostTNode,this._hostView),e=On(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=xn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Tn(t)&&null!=n?new Kn(n,e):new Kn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Xt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),we(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Mi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Zt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),vi(r,n,!0,xi(i,this._lContainer)),t.attachToViewContainerRef(this),Zt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=wi(t,e);n&&_i(n[1],n)}(this._lContainer,e),Jt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=wi(this._lContainer,e);return n&&null!=Jt(this._lContainer[8],e)?new Ri(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(we(o))i=o;else{let t;if(4===n.type)t=Re(o);else if(t=r[11].createComment(""),Ce(r)){const e=r[11],i=Le(n,r);Ii(e,Ti(e,i),t,function(t,e){return De(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ai(r[1],r,t,n);r[n.index]=i=ni(o,r,t,n),oi(r,i)}return new Mi(i,n,r)}(t,e,Ke(),$e())},xs={};class Os extends Jo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ge(t);return new Ds(e,this.ngModule)}}function Ns(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ks=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dn});class Ds extends Yo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(yr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ns(this.componentDef.inputs)}get outputs(){return Ns(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,xs,i);return o!==xs||r===xs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ns,Pe),s=i.get(ss,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(De(t))return t.selectRootElement(e,n===ie.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):kr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Dn,clean:li,playerHandler:null,flags:0},f=qr(0,-1,null,1,0,null,null,null,null,null),d=Dr(null,f,h,l,null,null,o,a,s,i);let p,g;sn(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Pr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(oo(a,u,!0),null!==t&&(bn(i,t,u),null!==a.classes&&Pi(i,t,a.classes),null!==a.styles&&Di(i,t,a.styles)));const c=r.createRenderer(t,e),l=Dr(n,Fr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(qn(jn(a,n),s,e.type),Xr(s,a),Yr(a,n.length,1)),oi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)bn(a,c,["ng-version",us.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!fr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&bn(a,c,t),e&&e.length>0&&Pi(a,c,e.join(" "))}if(g=je(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ke();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Kr(t,r,1),Zr(t,e,n));const i=zn(e,t,e.length-1,r);ir(i,e);const o=Le(r,e);return o&&ir(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Ke();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){dn(a.index-20);const t=n[1];zr(t,e),$r(t,n,e.hostVars),Wr(e,s)}return s}(t,this.componentDef,d,h,[jo]),Rr(f,d,null)}finally{hn()}const y=new Ps(this.componentType,p,Ui(ts,g,d),d,g);return f.node.child=g,y}}class Ps extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Vi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Br(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Rs=void 0;var Vs=["en",[["a","p"],["AM","PM"],Rs],[["AM","PM"],Rs,Rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rs,"{1} 'at' {0}",Rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ls={};function js(t){return t in Ls||(Ls[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),Ls[t]}var Ms=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Us="en-US";function Fs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Us=t.toLowerCase().replace(/_/g,"-"))}const qs=new Map;class Bs extends Xt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Os(this);const n=ve(t),r=t[Dt]||null;r&&Fs(r),this._bootstrapComponents=Pn(n.bootstrap),this._r3Injector=Xi(t,e,[{provide:Xt,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],vt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ro.THROW_IF_NOT_FOUND,n=it.Default){return t===ro||t===Xt||t===Lt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Gs extends Qt{constructor(t){super(),this.moduleType=t,null!==ve(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${vt(e)} vs ${vt(e.name)}`)})(t,qs.get(t),e),qs.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Bs(this.moduleType,t)}}function Hs(t,e){const n=t[e];return n===vr?void 0:n}const zs=class extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}},$s=new Vt("Application Initializer");let Ws=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();_o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(zt($s,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ks=new Vt("AppId"),Xs={provide:Ks,useFactory:function(){return`${Qs()}${Qs()}${Qs()}`},deps:[]};function Qs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ys=new Vt("Platform Initializer"),Zs=new Vt("Platform ID"),Js=new Vt("appBootstrapListener");let ta=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const ea=new Vt("LocaleId"),na=new Vt("DefaultCurrencyCode");class ra{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ia=function(t){return new Gs(t)},oa=ia,sa=function(t){return Promise.resolve(ia(t))},aa=function(t){const e=ia(t),n=Pn(ve(t).declarations).reduce((t,e)=>{const n=ge(e);return n&&t.push(new Ds(n)),t},[]);return new ra(e,n)},ua=aa,ca=function(t){return Promise.resolve(aa(t))};let la=(()=>{class t{constructor(){this.compileModuleSync=oa,this.compileModuleAsync=sa,this.compileModuleAndAllComponentsSync=ua,this.compileModuleAndAllComponentsAsync=ca}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const ha=(()=>Promise.resolve(0))();function fa(t){"undefined"==typeof Zone?ha.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class da{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,va(t),ya(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),va(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ma(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),wa(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ma(t),e.invoke(r,i,o,s,a)}finally{wa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,va(t),ya(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!da.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(da.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ga,pa,pa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function pa(){}const ga={};function ya(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function va(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ma(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wa(t){t._nesting--,ya(t)}class _a{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ba=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{da.assertNotInAngularZone(),fa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(zt(da))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ea=(()=>{class t{constructor(){this._applications=new Map,Sa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Sa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Ia{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Ca,Sa=new Ia;const Ta=new Vt("AllowMultipleToken");class Aa{constructor(t,e){this.name=t,this.token=e}}function xa(t,e,n=[]){const r="Platform: "+e,i=new Vt(r);return(e=[])=>{let o=Oa();if(!o||o.injector.get(Ta,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Gi,useValue:"platform"});!function(t){if(Ca&&!Ca.destroyed&&!Ca.injector.get(Ta,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ca=t.get(Na);const e=t.get(Ys,null);e&&e.forEach(t=>t())}(ro.create({providers:t,name:r}))}return function(t){const e=Oa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Oa(){return Ca&&!Ca.destroyed?Ca:null}let Na=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _a:("zone.js"===t?void 0:t)||new da({enableLongStackTrace:rr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:da,useValue:n}];return n.run(()=>{const e=ro.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(tr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Pa(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return _o(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ws);return t.runInitializers(),t.donePromise.then(()=>(Fs(i.injector.get(ea,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ka({},e);return function(t,e,n){const r=new Gs(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Da);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${vt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(zt(ro))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function ka(t,e){return Array.isArray(e)?e.reduce(ka,t):Object.assign(Object.assign({},t),e)}let Da=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=rr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new m(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new m(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{da.assertNotInAngularZone(),fa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof m?t[0]:G(e)(H(t,n))}(s,a.pipe(t=>{return z()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Yo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Xt),i=n.create(ro.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(ba,null);return o&&i.injector.get(Ea).registerApplication(i.location.nativeElement,o),this._loadComponent(i),rr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Pa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Js,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Pa(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(zt(da),zt(ta),zt(ro),zt(tr),zt(Jo),zt(Ws))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Pa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ra{}class Va{}const La={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ja=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||La}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ma(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ma(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(zt(la),zt(Va,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Ma(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ua=xa(null,"core",[{provide:Zs,useValue:"unknown"},{provide:Na,deps:[ro]},{provide:Ea,deps:[]},{provide:ta,deps:[]}]),Fa=[{provide:Da,useClass:Da,deps:[da,ta,ro,tr,Jo,Ws]},{provide:ks,deps:[da],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ws,useClass:Ws,deps:[[new et,$s]]},{provide:la,useClass:la,deps:[]},Xs,{provide:ws,useFactory:function(){return Es},deps:[]},{provide:_s,useFactory:function(){return Is},deps:[]},{provide:ea,useFactory:function(t){return Fs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new tt(ea),new et,new rt]]},{provide:na,useValue:"USD"}];let qa=(()=>{class t{constructor(t){}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(zt(Da))},providers:Fa}),t})();const Ba={apiKey:"AIzaSyBqFKubuaVMQzV_91JRwiq8M0rzs0Js_A0",authDomain:"firechat-ea011.firebaseapp.com",databaseURL:"https://firechat-ea011.firebaseio.com",projectId:"firechat-ea011",storageBucket:"firechat-ea011.appspot.com",messagingSenderId:"509598662099",appId:"1:509598662099:web:59dfeb9e8d9e8f1f9f4326"};let Ga=null;function Ha(){return Ga}const za=new Vt("DocumentToken");let $a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Wa,token:t,providedIn:"platform"}),t})();function Wa(){return zt(Xa)}const Ka=new Vt("Location Initialized");let Xa=(()=>{class t extends $a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ha().getLocation(),this._history=Ha().getHistory()}getBaseHrefFromDOM(){return Ha().getBaseHref(this._doc)}onPopState(t){Ha().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ha().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Qa()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Qa()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(zt(za))},t.\u0275prov=at({factory:Ya,token:t,providedIn:"platform"}),t})();function Qa(){return!!window.history.pushState}function Ya(){return new Xa(zt(za))}function Za(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ja(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function tu(t){return t&&"?"!==t[0]?"?"+t:t}let eu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:nu,token:t,providedIn:"root"}),t})();function nu(t){const e=zt(za).location;return new iu(zt($a),e&&e.origin||"")}const ru=new Vt("appBaseHref");let iu=(()=>{class t extends eu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Za(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+tu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+tu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+tu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(zt($a),zt(ru,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t extends eu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Za(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+tu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+tu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(zt($a),zt(ru,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),su=(()=>{class t{constructor(t,e){this._subject=new zs,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Ja(uu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+tu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,uu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(zt(eu),zt($a))},t.normalizeQueryParams=tu,t.joinWithSlash=Za,t.stripTrailingSlash=Ja,t.\u0275prov=at({factory:au,token:t,providedIn:"root"}),t})();function au(){return new su(zt(eu),zt($a))}function uu(t){return t.replace(/\/index.html$/,"")}var cu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class lu{}let hu=(()=>{class t extends lu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=js(e);if(n)return n;const r=e.split("-")[0];if(n=js(r),n)return n;if("en"===r)return Vs;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ms.PluralCase]}(e||this.locale)(t)){case cu.Zero:return"zero";case cu.One:return"one";case cu.Two:return"two";case cu.Few:return"few";case cu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(zt(ea))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),fu=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(uo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+vt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(po(ws),po(_s),po(ts),po(is))},t.\u0275dir=pe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class du{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){rr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new du(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new gu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new gu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(po(Ts),po(Cs),po(ws))},t.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class gu{constructor(t,e){this.record=t,this.view=e}}let yu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new vu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(po(Ts),po(Cs))},t.\u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class vu{constructor(){this.$implicit=null,this.ngIf=null}}function mu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}let wu=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[{provide:lu,useClass:hu}]}),t})(),_u=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new bu(zt(za),window,zt(tr))}),t})();class bu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Eu(this.window.history)||Eu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}}function Eu(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Iu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Iu,Ga||(Ga=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Su||(Su=document.querySelector("base"),Su)?Su.getAttribute("href"):null;return null==e?null:(n=e,Cu||(Cu=document.createElement("a")),Cu.setAttribute("href",n),"/"===Cu.pathname.charAt(0)?Cu.pathname:"/"+Cu.pathname);var n}resetBaseElement(){Su=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Cu,Su=null;const Tu=new Vt("TRANSITION_ID"),Au=[{provide:$s,useFactory:function(t,e,n){return()=>{n.get(Ws).donePromise.then(()=>{const n=Ha();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Tu,za,ro],multi:!0}];class xu{static init(){var t;t=new xu,Sa=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ha().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ou=new Vt("EventManagerPlugins");let Nu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ou),zt(da))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class ku{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ha().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Du=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Pu=(()=>{class t extends Du{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ha().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(zt(za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ru={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vu=/%COMP%/g;function Lu(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Lu(t,i,n):(i=i.replace(Vu,t),n.push(i))}return n}function ju(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Uu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ie.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Fu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ie.Native:case ie.ShadowDom:return new qu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Lu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(zt(Nu),zt(Pu),zt(Ks))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Uu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ru[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ru[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ru[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&rs.DashCase?t.style.setProperty(e,n,r&rs.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&rs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ju(n)):this.eventManager.addEventListener(t,e,ju(n))}}class Fu extends Uu{constructor(t,e,n,r){super(t),this.component=n;const i=Lu(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Vu,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Vu,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class qu extends Uu{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ie.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Lu(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bu=(()=>{class t extends ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(zt(za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Gu=["alt","control","meta","shift"],Hu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$u={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Wu=(()=>{class t extends ku{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ha().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Gu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zu.hasOwnProperty(e)&&(e=zu[e]))}return Hu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Gu.forEach(r=>{r!=n&&(0,$u[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(zt(za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ku=xa(Ua,"browser",[{provide:Zs,useValue:"browser"},{provide:Ys,useValue:function(){Iu.makeCurrent(),xu.init()},multi:!0},{provide:za,useFactory:function(){return function(t){ke=t}(document),document},deps:[]}]),Xu=[[],{provide:Gi,useValue:"root"},{provide:tr,useFactory:function(){return new tr},deps:[]},{provide:Ou,useClass:Bu,multi:!0,deps:[za,da,Zs]},{provide:Ou,useClass:Wu,multi:!0,deps:[za]},[],{provide:Mu,useClass:Mu,deps:[Nu,Pu,Ks]},{provide:ns,useExisting:Mu},{provide:Du,useExisting:Pu},{provide:Pu,useClass:Pu,deps:[za]},{provide:ba,useClass:ba,deps:[da]},{provide:Nu,useClass:Nu,deps:[Ou,da]},[]];let Qu=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ks,useValue:e.appId},{provide:Tu,useExisting:Ks},Au]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(zt(t,12))},providers:Xu,imports:[wu,qa]}),t})();function Yu(t,e){return new m(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=U(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;const Zu=new Vt("NgValueAccessor"),Ju={provide:Zu,useExisting:_t(()=>tc),multi:!0};let tc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts))},t.\u0275dir=pe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Eo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Qo([Ju])]}),t})();const ec={provide:Zu,useExisting:_t(()=>rc),multi:!0},nc=new Vt("CompositionEventMode");let rc=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ha()?Ha().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts),po(nc,8))},t.\u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Eo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Qo([ec])]}),t})(),ic=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=pe({type:t}),t})(),oc=(()=>{class t extends ic{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return sc(e||t)},t.\u0275dir=pe({type:t,features:[Mo]}),t})();const sc=Qn(oc);function ac(){throw new Error("unimplemented")}class uc extends ic{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return ac()}get asyncValidator(){return ac()}}let cc=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(po(uc,2))},t.\u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Oo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Mo]}),t})();function lc(t){return null==t||0===t.length}function hc(t){return null!=t&&"number"==typeof t.length}const fc=new Vt("NgValidators"),dc=new Vt("NgAsyncValidators"),pc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gc{static min(t){return e=>{if(lc(e.value)||lc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(lc(e.value)||lc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return lc(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return lc(t.value)||pc.test(t.value)?null:{email:!0}}static minLength(t){return e=>lc(e.value)||!hc(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>hc(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return gc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(lc(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(yc);return 0==e.length?null:function(t){return mc(wc(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(yc);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Yu(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Yu(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Yu(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(V(t=>e(...t)))}return Yu(t,null)}(wc(t,e).map(vc)).pipe(V(mc))}}}function yc(t){return null!=t}function vc(t){const e=_o(t)?U(t):t;if(!bo(e))throw new Error("Expected validator to return Promise or Observable.");return e}function mc(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function wc(t,e){return e.map(e=>e(t))}function _c(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const bc={provide:Zu,useExisting:_t(()=>Ec),multi:!0};let Ec=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts))},t.\u0275dir=pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Eo("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Qo([bc])]}),t})();const Ic={provide:Zu,useExisting:_t(()=>Sc),multi:!0};let Cc=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(uc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts),po(Cc),po(ro))},t.\u0275dir=pe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Eo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Qo([Ic])]}),t})();const Tc={provide:Zu,useExisting:_t(()=>Ac),multi:!0};let Ac=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts))},t.\u0275dir=pe({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Eo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Qo([Tc])]}),t})();const xc='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Oc='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Nc={provide:Zu,useExisting:_t(()=>kc),multi:!0};let kc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts))},t.\u0275dir=pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Eo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Qo([Nc])]}),t})();const Dc={provide:Zu,useExisting:_t(()=>Pc),multi:!0};let Pc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(po(is),po(ts))},t.\u0275dir=pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Eo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Qo([Dc])]}),t})();function Rc(t,e){return[...e.path,t]}function Vc(t,e){t||jc(e,"Cannot find control with"),e.valueAccessor||jc(e,"No value accessor for form control with"),t.validator=gc.compose([t.validator,e.validator]),t.asyncValidator=gc.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Lc(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Lc(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Lc(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jc(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Mc(t){return null!=t?gc.compose(_c(t)):null}function Uc(t){return null!=t?gc.composeAsync(_c(t)):null}const Fc=[tc,Ac,Ec,kc,Pc,Sc];function qc(t){const e=Gc(t)?t.validators:t;return Array.isArray(e)?Mc(e):e||null}function Bc(t,e){const n=Gc(e)?e.asyncValidators:t;return Array.isArray(n)?Uc(n):n||null}function Gc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Hc{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=qc(t)}setAsyncValidators(t){this.asyncValidator=Bc(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=vc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof $c?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Wc&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new zs,this.statusChanges=new zs}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class zc extends Hc{constructor(t=null,e,n){super(qc(e),Bc(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $c extends Hc{constructor(t,e,n){super(qc(e),Bc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof zc?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Wc extends Hc{constructor(t,e,n){super(qc(e),Bc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zc?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Kc={provide:oc,useExisting:_t(()=>Qc)},Xc=(()=>Promise.resolve(null))();let Qc=(()=>{class t extends oc{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new zs,this.form=new $c({},Mc(t),Uc(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xc.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Vc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xc.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Xc.then(()=>{const e=this._findContainer(t.path),n=new $c({});(function(t,e){null==t&&jc(e,"Cannot find control with"),t.validator=gc.compose([t.validator,e.validator]),t.asyncValidator=gc.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xc.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Xc.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(po(fc,10),po(dc,10))},t.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Eo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qo([Kc]),Mo]}),t})(),Yc=(()=>{class t extends oc{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Rc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Mc(this._validators)}get asyncValidator(){return Uc(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Zc(e||t)},t.\u0275dir=pe({type:t,features:[Mo]}),t})();const Zc=Qn(Yc);class Jc{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${xc}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Oc}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${xc}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Oc}`)}}const tl={provide:oc,useExisting:_t(()=>el)};let el=(()=>{class t extends Yc{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Qc||Jc.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(po(oc,5),po(fc,10),po(dc,10))},t.\u0275dir=pe({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Qo([tl]),Mo]}),t})();const nl={provide:uc,useExisting:_t(()=>il)},rl=(()=>Promise.resolve(null))();let il=(()=>{class t extends uc{constructor(t,e,n,r){super(),this.control=new zc,this._registered=!1,this.update=new zs,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||jc(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===rc?n=e:(o=e,Fc.some(t=>o.constructor===t)?(r&&jc(t,"More than one built-in value accessor matches form control with"),r=e):(i&&jc(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(jc(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Rc(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Mc(this._rawValidators)}get asyncValidator(){return Uc(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof el)&&this._parent instanceof Yc?Jc.formGroupNameException():this._parent instanceof el||this._parent instanceof Qc||Jc.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Jc.missingNameException()}_updateValue(t){rl.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;rl.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(po(oc,9),po(fc,10),po(dc,10),po(Zu,10))},t.\u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qo([nl]),Mo,Te]}),t})(),ol=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),sl=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Cc],imports:[ol]}),t})();class al extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class ul extends al{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class cl extends ul{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let ll=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class hl extends ll{constructor(t,e=ll.now){super(t,()=>hl.delegate&&hl.delegate!==this?hl.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return hl.delegate&&hl.delegate!==this?hl.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class fl extends hl{}const dl=new fl(cl),pl=new hl(ul);function gl(){}function yl(t,e,n){return function(r){return r.lift(new vl(t,e,n))}}class vl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new ml(t,this.nextOrObserver,this.error,this.complete))}}class ml extends p{constructor(t,e,n,i){super(t),this._tapNext=gl,this._tapError=gl,this._tapComplete=gl,this._tapError=n||gl,this._tapComplete=i||gl,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||gl,this._tapError=e.error||gl,this._tapComplete=e.complete||gl)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}let wl=1;const _l=(()=>Promise.resolve())(),bl={};function El(t){return t in bl&&(delete bl[t],!0)}const Il={setImmediate(t){const e=wl++;return bl[e]=!0,_l.then(()=>El(e)&&t()),e},clearImmediate(t){El(t)}};class Cl extends ul{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Il.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Il.clearImmediate(e),t.scheduled=void 0)}}class Sl extends hl{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Tl=new Sl(Cl);class Al extends m{constructor(t,e=0,n=Tl){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Tl)}static create(t,e=0,n=Tl){return new Al(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Al.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class xl{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Al(e,this.delay,this.scheduler).subscribe(t)}}const Ol=new m(t=>t.complete());function Nl(t){return t?function(t){return new m(e=>t.schedule(()=>e.complete()))}(t):Ol}function kl(...t){let e=t[t.length-1];return S(e)?(t.pop(),M(t,e)):H(t)}let Dl=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return kl(this.value);case"E":return t=this.error,new m(e=>e.error(t));case"C":return Nl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Pl(t,e=0){return function(n){return n.lift(new Rl(t,e))}}class Rl{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Vl(t,this.scheduler,this.delay))}}class Vl extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Vl.dispatch,this.delay,new Ll(t,this.destination)))}_next(t){this.scheduleMessage(Dl.createNext(t))}_error(t){this.scheduleMessage(Dl.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Dl.createComplete()),this.unsubscribe()}}class Ll{constructor(t,e){this.notification=t,this.destination=e}}var jl=n("Wcq6");function Ml(){}class Ul{constructor(t,e=dl){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Fl{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ml,{},Ml,Ml)),e.pipe(yl({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ql{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ul(Zone.current)),this.insideAngular=t.run(()=>new Ul(Zone.current,pl))}}function Bl(t){return function(e){return(e=e.lift(new Fl(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new xl(t,e))}}(t.outsideAngular),Pl(t.insideAngular))}}const Gl=["ngOnDestroy"],Hl=new Vt("angularfire2.app.options"),zl=new Vt("angularfire2.app.nameOrConfig"),$l=new as("6.0.2");function Wl(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",jl.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Object(jl.initializeApp)(t,r))}const Kl={provide:class{},useFactory:Wl,deps:[Hl,da,[new et,zl]]};let Xl=(()=>{class t{constructor(t){Object(jl.registerVersion)("angularfire",$l.full,t.toString()),Object(jl.registerVersion)("angular",us.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:Hl,useValue:e},{provide:zl,useValue:n}]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(zt(Zs))},providers:[Kl]}),t})();function Ql(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yl(t,e,n))}}class Yl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Zl(t,this.accumulator,this.seed,this.hasSeed))}}class Zl extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Jl(t,e){return function(n){return n.lift(new th(t,e))}}class th{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new eh(t,this.predicate,this.thisArg))}}class eh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var nh=n("wj3C"),rh=n.n(nh),ih=n("6Joi");function oh(t,e){return function(t,e=pl){return new m(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function sh(t,e){return oh(t,e).pipe(V(t=>({payload:t,type:"query"})))}function ah(t,e){return sh(t,e).pipe(V(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function uh(t,e,n){return sh(t,n).pipe(V(t=>t.payload.docChanges()),Ql((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),V(t=>t.map(t=>({type:t.type,payload:t}))))}function ch(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class lh{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?ah(this.query,this.afs.schedulers.outsideAngular).pipe(V(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jl(t=>t.length>0),this.afs.keepUnstableUntilFirst):ah(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ql((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ch(t);return uh(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sh(this.query,this.afs.schedulers.outsideAngular).pipe(V(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return U(this.query.get(t)).pipe(Pl(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new hh(this.ref.doc(t),this.afs)}}class hh{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=yh(n,e);return new lh(r,i,this.afs)}snapshotChanges(){return oh(this.ref,this.afs.schedulers.outsideAngular).pipe(V(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(V(t=>t.payload.data()))}get(t){return U(this.ref.get(t)).pipe(Pl(this.afs.schedulers.insideAngular))}}class fh{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ah(this.query,this.afs.schedulers.outsideAngular).pipe(V(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jl(t=>t.length>0),this.afs.keepUnstableUntilFirst):ah(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ql((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ch(t);return uh(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return sh(this.query,this.afs.schedulers.outsideAngular).pipe(V(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return U(this.query.get(t)).pipe(Pl(this.afs.schedulers.insideAngular))}}const dh=new Vt("angularfire2.enableFirestorePersistence"),ph=new Vt("angularfire2.firestore.persistenceSettings"),gh=new Vt("angularfire2.firestore.settings");function yh(t,e=(t=>t)){return{query:e(t),ref:t}}let vh=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ql(o),this.keepUnstableUntilFirst=Bl(this.schedulers),this.firestore=o.runOutsideAngular(()=>{const n=Wl(t,o,e);ih.registerFirestore&&Object(ih.registerFirestore)(rh.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(i)?o.runOutsideAngular(()=>{try{return U(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return kl(!1)}}):kl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=yh(n,e),o=this.schedulers.ngZone.run(()=>r);return new lh(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new fh(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new hh(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(zt(Hl),zt(zl,8),zt(dh,8),zt(gh,8),zt(Zs),zt(da),zt(ph,8))},t.\u0275prov=at({factory:function(){return new t(zt(Hl),zt(zl,8),zt(dh,8),zt(gh,8),zt(Zs),zt(da),zt(ph,8))},token:t,providedIn:"any"}),t})(),mh=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:dh,useValue:!0},{provide:ph,useValue:e}]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[vh]}),t})();class wh extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}const _h=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),bh={};class Eh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ih(t,this.resultSelector))}}class Ih extends R{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(bh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(P(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===bh?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Ch(t){return new m(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?U(n):Nl()).subscribe(e)})}function Sh(){return G(1)}const Th=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ah(t){return function(e){return 0===t?Nl():e.lift(new xh(t))}}class xh{constructor(t){if(this.total=t,this.total<0)throw new Th}call(t,e){return e.subscribe(new Oh(t,this.total))}}class Oh extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Nh(t=Ph){return e=>e.lift(new kh(t))}class kh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Dh(t,this.errorFactory))}}class Dh extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ph(){return new _h}function Rh(t=null){return e=>e.lift(new Vh(t))}class Vh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Lh(t,this.defaultValue))}}class Lh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function jh(t){return function(e){const n=new Mh(t),r=e.lift(n);return n.caught=r}}class Mh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Uh(t,this.selector,this.caught))}}class Uh extends R{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new T(this,void 0,void 0);this.add(r);const i=P(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Fh(t){return e=>0===t?Nl():e.lift(new qh(t))}class qh{constructor(t){if(this.total=t,this.total<0)throw new Th}call(t,e){return e.subscribe(new Bh(t,this.total))}}class Bh extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Gh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jl((e,n)=>t(e,n,r)):v,Fh(1),n?Rh(e):Nh(()=>new _h))}class Hh{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new zh(t,this.predicate,this.thisArg,this.source))}}class zh extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function $h(t,e){return"function"==typeof e?n=>n.pipe($h((n,r)=>U(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wh(t))}class Wh{constructor(t){this.project=t}call(t,e){return e.subscribe(new Kh(t,this.project))}}class Kh extends R{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new T(this,e,n),o=this.destination;o.add(i),this.innerSubscription=P(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Xh(...t){return Sh()(kl(...t))}function Qh(t,e){return F(t,e,1)}class Yh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Zh(t,this.callback))}}class Zh extends p{constructor(t,e){super(t),this.add(new h(e))}}class Jh{constructor(t,e){this.id=t,this.url=e}}class tf extends Jh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ef extends Jh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nf extends Jh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rf extends Jh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class of extends Jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sf extends Jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class af extends Jh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uf extends Jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cf extends Jh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ff{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class df{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mf(t){return new vf(t)}function wf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _f(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bf(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ef(t[i],e[i]))return!1;return!0}function Ef(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function If(t){return Array.prototype.concat.apply([],t)}function Cf(t){return t.length>0?t[t.length-1]:null}function Sf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tf(t){return bo(t)?t:_o(t)?U(Promise.resolve(t)):kl(t)}function Af(t,e,n){return n?function(t,e){return bf(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!kf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ef(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!kf(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!kf(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!kf(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class xf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return Vf.serialize(this)}}class Of{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lf(this)}}class Nf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mf(this.parameters)),this._parameterMap}toString(){return Bf(this)}}function kf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Df(t,e){let n=[];return Sf(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Sf(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Pf{}class Rf{parse(t){const e=new Wf(t);return new xf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Lf(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Sf(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Df(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Lf(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Mf(e)}=${Mf(t)}`).join("&"):`${Mf(e)}=${Mf(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Vf=new Rf;function Lf(t){return t.segments.map(t=>Bf(t)).join("/")}function jf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mf(t){return jf(t).replace(/%3B/gi,";")}function Uf(t){return jf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ff(t){return decodeURIComponent(t)}function qf(t){return Ff(t.replace(/\+/g,"%20"))}function Bf(t){return`${Uf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Uf(t)}=${Uf(e[t])}`).join("")}`;var e}const Gf=/^[^\/()?;=#]+/;function Hf(t){const e=t.match(Gf);return e?e[0]:""}const zf=/^[^=?&#]+/,$f=/^[^?&#]+/;class Wf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Of([],{}):new Of([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Of(t,e)),n}parseSegment(){const t=Hf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Nf(Ff(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Hf(this.remaining);t&&(n=t,this.capture(n))}t[Ff(e)]=Ff(n)}parseQueryParam(t){const e=function(t){const e=t.match(zf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match($f);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=qf(e),i=qf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hf(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Of([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Kf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Xf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qf(t,this._root).map(t=>t.value)}}function Xf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Xf(t,n);if(e)return e}return null}function Qf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qf(t,n);if(r.length)return r.unshift(e),r}return[]}class Yf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Jf extends Kf{constructor(t,e){super(t),this.snapshot=e,od(this,t)}toString(){return this.snapshot.toString()}}function td(t,e){const n=function(t,e){const n=new rd([],{},{},"",{},"primary",e,null,t.root,-1,{});return new id("",new Yf(n,[]))}(t,e),r=new wh([new Nf("",{})]),i=new wh({}),o=new wh({}),s=new wh({}),a=new wh(""),u=new ed(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Jf(new Yf(u,[]),n)}class ed{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(V(t=>mf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V(t=>mf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nd(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class rd{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class id extends Kf{constructor(t,e){super(e),this.url=t,od(this,e)}toString(){return sd(this._root)}}function od(t,e){e.value._routerState=t,e.children.forEach(e=>od(t,e))}function sd(t){const e=t.children.length>0?` { ${t.children.map(sd).join(", ")} } `:"";return`${t.value}${e}`}function ad(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),bf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),bf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ud(t,e){var n,r;return bf(t.params,e.params)&&kf(n=t.url,r=e.url)&&n.every((t,e)=>bf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ud(t.parent,e.parent))}function cd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ld(t,e,n,r,i){let o={};return r&&Sf(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new xf(n.root===t?e:function t(e,n,r){const i={};return Sf(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Of(e.segments,i)}(n.root,t,e),o,i)}class hd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&cd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Cf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function dd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function pd(t,e,n){if(t||(t=new Of([],{})),0===t.segments.length&&t.hasChildren())return gd(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=dd(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!wd(s,a,e))return o;r+=2}else{if(!wd(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Of(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Of(t.segments.slice(r.pathIndex),t.children),gd(e,0,i)}return r.match&&0===i.length?new Of(t.segments,{}):r.match&&!t.hasChildren()?yd(t,e,n):r.match?gd(t,0,i):yd(t,e,n)}function gd(t,e,n){if(0===n.length)return new Of(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Sf(r,(n,r)=>{null!==n&&(i[r]=pd(t.children[r],e,n))}),Sf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Of(t.segments,i)}}function yd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=vd(n[i].outlets);return new Of(r,t)}if(0===i&&cd(n[0])){r.push(new Nf(t.segments[e].path,n[0])),i++;continue}const o=dd(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&cd(s)?(r.push(new Nf(o,md(s))),i+=2):(r.push(new Nf(o,{})),i++)}return new Of(r,{})}function vd(t){const e={};return Sf(t,(t,n)=>{null!==t&&(e[n]=yd(new Of([],{}),0,t))}),e}function md(t){const e={};return Sf(t,(t,n)=>e[n]=""+t),e}function wd(t,e,n){return t==n.path&&bf(e,n.parameters)}class _d{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ad(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Zf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Sf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Zf(t),i=t.value.component?n.children:e;Sf(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Zf(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new gf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new df(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ad(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),bd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function bd(t){ad(t.value),t.children.forEach(bd)}class Ed{constructor(t,e){this.routes=t,this.module=e}}function Id(t){return"function"==typeof t}function Cd(t){return t instanceof xf}class Sd{constructor(t){this.segmentGroup=t||null}}class Td{constructor(t){this.urlTree=t}}function Ad(t){return new m(e=>e.error(new Sd(t)))}function xd(t){return new m(e=>e.error(new Td(t)))}function Od(t){return new m(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Xt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(V(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(jh(t=>{if(t instanceof Td)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Sd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(V(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(jh(t=>{if(t instanceof Sd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Of([],{primary:t}):t;return new xf(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(V(t=>new Of([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return kl({});const n=[],r=[],i={};return Sf(t,(t,o)=>{const s=e(o,t).pipe(V(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),kl.apply(null,n.concat(r)).pipe(Sh(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jl((e,n)=>t(e,n,r)):v,Ah(1),n?Rh(e):Nh(()=>new _h))}(),V(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return kl(...n).pipe(V(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(jh(t=>{if(t instanceof Sd)return kl(null);throw t}))),Sh(),Gh(t=>!!t),jh((t,n)=>{if(t instanceof _h||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return kl(new Of([],{}));throw new Sd(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Rd(r)!==o?Ad(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ad(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xd(i):this.lineralizeSegments(n,i).pipe(F(n=>{const i=new Of(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=kd(e,r,i);if(!s)return Ad(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?xd(l):this.lineralizeSegments(r,l).pipe(F(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(V(t=>(n._loadedConfig=t,new Of(r,{})))):kl(new Of(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=kd(e,n,r);if(!i)return Ad(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(F(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Pd(t,e,n)&&"primary"!==Rd(n))}(t,n,r)?{segmentGroup:Dd(new Of(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Rd(r)&&(n[Rd(r)]=new Of([],{}));return n}(r,new Of(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Pd(t,e,n))}(t,n,r)?{segmentGroup:Dd(new Of(t.segments,function(t,e,n,r){const i={};for(const o of n)Pd(t,e,o)&&!r[Rd(o)]&&(i[Rd(o)]=new Of([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(V(t=>new Of(o,t))):0===r.length&&0===s.length?kl(new Of(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(V(t=>new Of(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?kl(new Ed(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?kl(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(F(n=>n?this.configLoader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,t))):function(t){return new m(e=>e.error(wf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):kl(new Ed([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?U(r).pipe(V(r=>{const i=t.get(r);let o;if(function(t){return t&&Id(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Id(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Tf(o)})).pipe(Sh(),yl(t=>{if(!Cd(t))return;const e=wf(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Hh(i,void 0,t)))):kl(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return kl(n);if(r.numberOfChildren>1||!r.children.primary)return Od(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new xf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Sf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Sf(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Of(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function kd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||_f)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Dd(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Of(t.segments.concat(e.segments),e.children)}return t}function Pd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Rd(t){return t.outlet||"primary"}class Vd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ld{constructor(t,e){this.component=t,this.route=e}}function jd(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zf(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!kf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kf(t.url,e.url)||!bf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ud(t,e)||!bf(t.queryParams,e.queryParams);case"paramsChange":default:return!ud(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Vd(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Ld(u&&u.outlet&&u.outlet.component||null,a))}else a&&Ud(n,u,o),o.canActivateChecks.push(new Vd(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Sf(s,(t,e)=>Ud(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Md(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ud(t,e,n){const r=Zf(t),i=t.value;Sf(r,(t,r)=>{Ud(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ld(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Fd=Symbol("INITIAL_VALUE");function qd(){return $h(t=>function(...t){let e=null,n=null;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new Eh(e))}(...t.map(t=>t.pipe(Fh(1),function(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>Xh(t,n,e)):e=>Xh(t,e)}(Fd)))).pipe(Ql((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Fd)return t;if(r===Fd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Cd(r))return r}return t},t)},Fd),Jl(t=>t!==Fd),V(t=>Cd(t)?t:!0===t),Fh(1)))}function Bd(t,e){return null!==t&&e&&e(new pf(t)),kl(!0)}function Gd(t,e){return null!==t&&e&&e(new ff(t)),kl(!0)}function Hd(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?kl(r.map(r=>Ch(()=>{const i=Md(r,e,n);let o;if(function(t){return t&&Id(t.canActivate)}(i))o=Tf(i.canActivate(e,t));else{if(!Id(i))throw new Error("Invalid CanActivate guard");o=Tf(i(e,t))}return o.pipe(Gh())}))).pipe(qd()):kl(!0)}function zd(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ch(()=>kl(e.guards.map(i=>{const o=Md(i,e.node,n);let s;if(function(t){return t&&Id(t.canActivateChild)}(o))s=Tf(o.canActivateChild(r,t));else{if(!Id(o))throw new Error("Invalid CanActivateChild guard");s=Tf(o(r,t))}return s.pipe(Gh())})).pipe(qd())));return kl(i).pipe(qd())}class $d{}class Wd{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Qd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new rd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yf(n,e),i=new id(this.url,r);return this.inheritParamsAndData(i._root),kl(i)}catch(t){return new m(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=nd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Df(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof $d))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new $d}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new $d;if((t.outlet||"primary")!==r)throw new $d;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Cf(n).parameters:{};i=new rd(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jd(t),r,t.component,t,Kd(e),Xd(e)+n.length,tp(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $d;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||_f)(n,t,e);if(!r)throw new $d;const i={};Sf(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new rd(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jd(t),r,t.component,t,Kd(e),Xd(e)+o.length,tp(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Qd(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Yf(i,t)]}if(0===a.length&&0===c.length)return[new Yf(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Yf(i,l)]}}function Kd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qd(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Yd(t,e,n)&&"primary"!==Zd(n))}(t,n,r)){const i=new Of(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Zd(o)){const n=new Of([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Zd(o)]=n}return i}(t,e,r,new Of(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Yd(t,e,n))}(t,n,r)){const o=new Of(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Yd(t,n,a)&&!i[Zd(a)]){const n=new Of([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Zd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Of(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Yd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Zd(t){return t.outlet||"primary"}function Jd(t){return t.data||{}}function tp(t){return t.resolve||{}}function ep(t){return function(e){return e.pipe($h(e=>{const n=t(e);return n?U(n).pipe(V(()=>e)):U([e])}))}}class np{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let rp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&wo(0,"router-outlet")},directives:function(){return[vp]},encapsulation:2}),t})();function ip(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];op(r,sp(e,r))}}function op(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ip(t.children,e)}function sp(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ap(t){const e=t.children&&t.children.map(ap),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rp),n}const up=new Vt("ROUTES");class cp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ed(If(r.injector.get(up)).map(ap),r)}))}loadModuleFactory(t){return"string"==typeof t?U(this.loader.load(t)):Tf(t()).pipe(F(t=>t instanceof Qt?kl(t):U(this.compiler.compileModuleAsync(t))))}}class lp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hp,this.attachRef=null}}class hp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function dp(t){throw t}function pp(t,e,n){return e.parse("/")}function gp(t,e){return kl(null)}let yp=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=dp,this.malformedUriErrorHandler=pp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gp,afterPreactivation:gp},this.urlHandlingStrategy=new fp,this.routeReuseStrategy=new np,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Xt),this.console=i.get(ta);const u=i.get(da);this.isNgZoneEnabled=u instanceof da,this.resetConfig(a),this.currentUrlTree=new xf(new Of([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cp(o,s,t=>this.triggerEvent(new lf(t)),t=>this.triggerEvent(new hf(t))),this.routerState=td(this.currentUrlTree,this.rootComponentType),this.transitions=new wh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jl(t=>0!==t.id),V(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),$h(t=>{let n=!1,r=!1;return kl(t).pipe(yl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$h(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return kl(t).pipe($h(t=>{const n=this.transitions.getValue();return e.next(new tf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ol:[t]}),$h(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe($h(t=>function(t,e,n,r,i){return new Nd(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(V(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),yl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(F(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Wd(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(V(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),yl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),yl(t=>{const n=new of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new tf(n,this.serializeUrl(r),i,o);e.next(a);const u=td(r,this.rootComponentType).snapshot;return kl(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ol}),ep(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),yl(t=>{const e=new sf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),V(t=>Object.assign(Object.assign({},t),{guards:jd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(F(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?kl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return U(t).pipe(F(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kl(o.map(o=>{const s=Md(o,e,i);let a;if(function(t){return t&&Id(t.canDeactivate)}(s))a=Tf(s.canDeactivate(t,e,n,r));else{if(!Id(s))throw new Error("Invalid CanDeactivate guard");a=Tf(s(t,e,n,r))}return a.pipe(Gh())})).pipe(qd()):kl(!0)}(t.component,t.route,n,e,r)),Gh(t=>!0!==t,!0))}(s,r,i,t).pipe(F(n=>n&&"boolean"==typeof n?function(t,e,n,r){return U(e).pipe(Qh(e=>U([Gd(e.route.parent,r),Bd(e.route,r),zd(t,e.path,n),Hd(t,e.route,n)]).pipe(Sh(),Gh(t=>!0!==t,!0))),Gh(t=>!0!==t,!0))}(r,o,t,e):kl(n)),V(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),yl(t=>{if(Cd(t.guardsResult)){const e=wf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),yl(t=>{const e=new af(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new nf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ep(t=>{if(t.guards.canActivateChecks.length)return kl(t).pipe(yl(t=>{const e=new uf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),$h(t=>{let n=!1;return kl(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(F(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return kl(t);let o=0;return U(n).pipe(Qh(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return kl({});const o={};return U(i).pipe(F(i=>function(t,e,n,r){const i=Md(t,e,r);return Tf(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(yl(t=>{o[i]=t}))),Ah(1),F(()=>Object.keys(o).length===i.length?kl(o):Ol))}(t._resolve,t,e,r).pipe(V(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),nd(t,n).resolve),null)))}(t.route,e,r,i)),yl(()=>o++),Ah(1),F(e=>o===n.length?kl(t):Ol))}))}),yl({next:()=>n=!0,complete:()=>{if(!n){const n=new nf(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),yl(t=>{const e=new cf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ep(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),V(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Yf(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ed(new wh((i=n.value).url),new wh(i.params),new wh(i.queryParams),new wh(i.fragment),new wh(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Yf(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Jf(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),yl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),V(t=>(new _d(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),yl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new nf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Yh(i))),jh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Cd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Ol}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ip(t),this.config=t.map(ap),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;rr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return ld(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Sf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new hd(n,e,r)}(n);if(o.toRoot())return ld(e.root,new Of([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new fd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new fd(t,t===e.root,0)}const r=cd(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new fd(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?gd(s.segmentGroup,s.index,o.commands):pd(s.segmentGroup,s.index,o.commands);return ld(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){rr()&&this.isNgZoneEnabled&&!da.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Cd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Cd(t))return Af(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Af(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ef(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(zt(Bi),zt(Pf),zt(hp),zt(su),zt(ro),zt(Ra),zt(la),zt(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),vp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new zs,this.deactivateEvents=new zs,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(po(hp),po(Ts),po(Jo),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const r=n[e];if(En(r))break;if(0===r)e+=2;else if("number"==typeof r)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("name"===r)return n[e+1];e+=2}}}return null}(Ke())),po(Fi))},t.\u0275dir=pe({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class mp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ed?this.route:t===hp?this.childContexts:this.parent.get(t,e)}}class wp{}class _p{preload(t,e){return kl(null)}}let bp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new cp(e,n,e=>t.triggerEvent(new lf(e)),e=>t.triggerEvent(new hf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jl(t=>t instanceof ef),Qh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Xt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return U(n).pipe(G(),V(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(zt(yp),zt(Ra),zt(la),zt(ro),zt(wp))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ep=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ef&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(zt(yp),zt(_u),zt(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ip=new Vt("ROUTER_CONFIGURATION"),Cp=new Vt("ROUTER_FORROOT_GUARD"),Sp=[su,{provide:Pf,useClass:Rf},{provide:yp,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new yp(null,t,e,n,r,i,o,If(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Ha();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Pf,hp,su,ro,Ra,la,up,Ip,[class{},new et],[class{},new et]]},hp,{provide:ed,useFactory:function(t){return t.routerState.root},deps:[yp]},{provide:Ra,useClass:ja},bp,_p,class{preload(t,e){return e().pipe(jh(()=>kl(null)))}},{provide:Ip,useValue:{enableTracing:!1}}];function Tp(){return new Aa("Router",yp)}let Ap=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Sp,kp(e),{provide:Cp,useFactory:Np,deps:[[yp,new et,new rt]]},{provide:Ip,useValue:n||{}},{provide:eu,useFactory:Op,deps:[$a,[new tt(ru),new et],Ip]},{provide:Ep,useFactory:xp,deps:[yp,_u,Ip]},{provide:wp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_p},{provide:Aa,multi:!0,useFactory:Tp},[Dp,{provide:$s,multi:!0,useFactory:Pp,deps:[Dp]},{provide:Vp,useFactory:Rp,deps:[Dp]},{provide:Js,multi:!0,useExisting:Vp}]]}}static forChild(e){return{ngModule:t,providers:[kp(e)]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(zt(Cp,8),zt(yp,8))}}),t})();function xp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ep(t,e,n)}function Op(t,e,n={}){return n.useHash?new ou(t,e):new iu(t,e)}function Np(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kp(t){return[{provide:io,multi:!0,useValue:t},{provide:up,multi:!0,useValue:t}]}let Dp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(Ka,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(yp),r=this.injector.get(Ip);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?kl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ip),n=this.injector.get(bp),r=this.injector.get(Ep),i=this.injector.get(yp),o=this.injector.get(Da);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(zt(ro))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Pp(t){return t.appInitializer.bind(t)}function Rp(t){return t.bootstrapListener.bind(t)}const Vp=new Vt("Router Initializer"),Lp=[];let jp=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[Ap.forRoot(Lp)],Ap]}),t})();class Mp extends I{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Up(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new _;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new b(this,t)),r&&t.add(t=new Vl(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||dl).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Up{constructor(t,e){this.time=t,this.value=e}}let Fp=(()=>{class t{constructor(t,e,r,i){const o=new ql(i),s=Bl(o),a=kl(void 0).pipe(Pl(o.outsideAngular),$h(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),V(()=>Wl(t,i,e)),V(t=>i.runOutsideAngular(()=>t.auth())),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new Mp(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return a.pipe(Gh()).subscribe(),this.authState=a.pipe($h(t=>i.runOutsideAngular(()=>new m(t.onAuthStateChanged.bind(t)))),s),this.user=a.pipe($h(t=>i.runOutsideAngular(()=>new m(t.onIdTokenChanged.bind(t)))),s),this.idToken=this.user.pipe($h(t=>t?U(t.getIdToken()):kl(null))),this.idTokenResult=this.user.pipe($h(t=>t?U(t.getIdTokenResult()):kl(null))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(Gl.includes(i))return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(zt(Hl),zt(zl,8),zt(Zs),zt(da))},t.\u0275prov=at({factory:function(){return new t(zt(Hl),zt(zl,8),zt(Zs),zt(da))},token:t,providedIn:"any"}),t})(),qp=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.user={},this.auth.authState.subscribe(t=>{console.log(t),t&&(this.user.name=t.displayName,this.user.uid=t.uid)})}loadMessages(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("date","desc").limit(5)),this.itemsCollection.valueChanges().pipe(V(t=>{console.log(t),this.chats=[];for(const e of t)this.chats.unshift(e)}))}addMsg(t){let e={name:this.user.name,uid:this.user.uid,msg:t,date:(new Date).getTime()};return this.itemsCollection.add(e)}login(){this.auth.signInWithPopup(new jl.auth.GoogleAuthProvider)}logout(){this.user={},this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(zt(vh),zt(Fp))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bp=(()=>{class t{constructor(t){this.cService=t}ngOnInit(){}login(){this.cService.login()}}return t.\u0275fac=function(e){return new(e||t)(po(qp))},t.\u0275cmp=ue({type:t,selectors:[["app-login"]],decls:6,vars:0,consts:[[1,"row"],[1,"col-md-12","text-center"],["type","button",1,"btn","btn-outline-info",3,"click"]],template:function(t,e){1&t&&(vo(0,"div",0),vo(1,"div",1),vo(2,"p"),Ro(3,"Login with your Google account"),mo(),vo(4,"button",2),Eo("click",(function(){return e.login()})),Ro(5," Login "),mo(),mo(),mo())},encapsulation:2}),t})();const Gp=function(t){return{"text-right":t}},Hp=function(t,e){return{"badge-primary":t,"badge-success":e}};function zp(t,e){if(1&t&&(vo(0,"div",3),vo(1,"span",4),Ro(2),mo(),vo(3,"p"),Ro(4),mo(),mo()),2&t){const t=e.$implicit,s=So();go("ngClass",(n=4,r=Gp,i=s.chatService.user.uid==t.uid,function(t,e,n,r,i,o){const s=e+n;return ho(t,s,i)?lo(t,s+1,o?r.call(o,i):r(i)):Hs(t,s+1)}($e(),Je(),n,r,i,o))),Er(1),go("ngClass",function(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=ho(t,e,n);return ho(t,e+1,r)||i}(t,a,i,o)?lo(t,a+2,s?r.call(s,i,o):r(i,o)):Hs(t,a+2)}($e(),Je(),t,e,n,r,i)}(6,Hp,s.chatService.user.uid==t.uid,s.chatService.user.uid!==t.uid)),Er(1),Lo(" ",t.name,""),Er(2),Vo(t.msg)}var n,r,i,o}let $p=(()=>{class t{constructor(t){this.chatService=t,this.message="",this.subscriptions=[],this.subscriptions.push(this.chatService.loadMessages().subscribe(()=>{setTimeout(()=>{this.el.scrollTop=this.el.scrollHeight},20)}))}ngOnInit(){this.el=document.getElementById("app-messages")}sendMsg(){0!==this.message.length&&this.chatService.addMsg(this.message).then(()=>{console.log("msg sent"),this.message=""}).catch(t=>console.log("Error",t))}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}}return t.\u0275fac=function(e){return new(e||t)(po(qp))},t.\u0275cmp=ue({type:t,selectors:[["app-chat"]],decls:6,vars:2,consts:[["id","app-messages",1,"app-msgs"],["class","animate fadeIn",3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","msg","placeholder","Send message",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"animate","fadeIn",3,"ngClass"],[1,"badge",3,"ngClass"]],template:function(t,e){1&t&&(vo(0,"h1"),Ro(1,"Chat"),mo(),wo(2,"hr"),vo(3,"div",0),fo(4,zp,5,9,"div",1),mo(),vo(5,"input",2),Eo("ngModelChange",(function(t){return e.message=t}))("keyup.enter",(function(){return e.sendMsg()})),mo()),2&t&&(Er(4),go("ngForOf",e.chatService.chats),Er(1),go("ngModel",e.message))},directives:[pu,rc,cc,il,fu],encapsulation:2}),t})();function Wp(t,e){if(1&t){const t=$e();vo(0,"div",4),vo(1,"button",5),Eo("click",(function(){return He.lFrame.contextLView=t,So().cs.logout()})),Ro(2,"Logout"),mo(),mo()}}function Kp(t,e){1&t&&wo(0,"app-login")}function Xp(t,e){1&t&&(vo(0,"div",6),wo(1,"app-chat"),mo())}let Qp=(()=>{class t{constructor(t){this.cs=t}}return t.\u0275fac=function(e){return new(e||t)(po(qp))},t.\u0275cmp=ue({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"container","main-container"],["class","col-md-12 text-right mb-5",4,"ngIf"],[4,"ngIf"],["class","chat-window",4,"ngIf"],[1,"col-md-12","text-right","mb-5"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"chat-window"]],template:function(t,e){1&t&&(vo(0,"div",0),vo(1,"h1"),Ro(2,"Fire Chat"),mo(),fo(3,Wp,3,0,"div",1),fo(4,Kp,1,0,"app-login",2),fo(5,Xp,2,0,"div",3),mo()),2&t&&(Er(3),go("ngIf",e.cs.user.uid),Er(1),go("ngIf",!e.cs.user.uid),Er(1),go("ngIf",e.cs.user.uid))},directives:[yu,Bp,$p],styles:[""]}),t})(),Yp=(()=>{class t{}return t.\u0275mod=fe({type:t,bootstrap:[Qp]}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[],imports:[[Qu,jp,Xl.initializeApp(Ba),mh,sl]]}),t})();(function(){if(nr)throw new Error("Cannot enable prod mode after platform setup.");er=!1})(),Ku().bootstrapModule(Yp).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("D57K"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function y(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var w=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=w,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=I,e.getUA=f,e.isAdmin=function(t){var e=w(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=w(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=w(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=w(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);